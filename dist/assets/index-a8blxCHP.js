(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function mA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var _m={exports:{}},zl={};var Bv;function pA(){if(Bv)return zl;Bv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var qv;function gA(){return qv||(qv=1,_m.exports=pA()),_m.exports}var T=gA(),vm={exports:{}},Se={};var Hv;function yA(){if(Hv)return Se;Hv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),A=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,G={};function Z(V,ee,ae){this.props=V,this.context=ee,this.refs=G,this.updater=ae||H}Z.prototype.isReactComponent={},Z.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},Z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ne(){}ne.prototype=Z.prototype;function ie(V,ee,ae){this.props=V,this.context=ee,this.refs=G,this.updater=ae||H}var fe=ie.prototype=new ne;fe.constructor=ie,Q(fe,Z.prototype),fe.isPureReactComponent=!0;var de=Array.isArray;function be(){}var x={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function R(V,ee,ae){var ue=ae.ref;return{$$typeof:r,type:V,key:ee,ref:ue!==void 0?ue:null,props:ae}}function M(V,ee){return R(V.type,ee,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function U(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return ee[ae]})}var I=/\/+/g;function rt(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):ee.toString(36)}function Mt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(be,be):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function $(V,ee,ae,ue,Ee){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Pe=!1;if(V===null)Pe=!0;else switch(Ce){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(V.$$typeof){case r:case e:Pe=!0;break;case E:return Pe=V._init,$(Pe(V._payload),ee,ae,ue,Ee)}}if(Pe)return Ee=Ee(V),Pe=ue===""?"."+rt(V,0):ue,de(Ee)?(ae="",Pe!=null&&(ae=Pe.replace(I,"$&/")+"/"),$(Ee,ee,ae,"",function(As){return As})):Ee!=null&&(D(Ee)&&(Ee=M(Ee,ae+(Ee.key==null||V&&V.key===Ee.key?"":(""+Ee.key).replace(I,"$&/")+"/")+Pe)),ee.push(Ee)),1;Pe=0;var Vt=ue===""?".":ue+":";if(de(V))for(var st=0;st<V.length;st++)ue=V[st],Ce=Vt+rt(ue,st),Pe+=$(ue,ee,ae,Ce,Ee);else if(st=k(V),typeof st=="function")for(V=st.call(V),st=0;!(ue=V.next()).done;)ue=ue.value,Ce=Vt+rt(ue,st++),Pe+=$(ue,ee,ae,Ce,Ee);else if(Ce==="object"){if(typeof V.then=="function")return $(Mt(V),ee,ae,ue,Ee);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function se(V,ee,ae){if(V==null)return V;var ue=[],Ee=0;return $(V,ue,"","",function(Ce){return ee.call(ae,Ce,Ee++)}),ue}function ge(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ge={map:se,forEach:function(V,ee,ae){se(V,function(){ee.apply(this,arguments)},ae)},count:function(V){var ee=0;return se(V,function(){ee++}),ee},toArray:function(V){return se(V,function(ee){return ee})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Se.Activity=b,Se.Children=Ge,Se.Component=Z,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=ie,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Se.__COMPILER_RUNTIME={__proto__:null,c:function(V){return x.H.useMemoCache(V)}},Se.cache=function(V){return function(){return V.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(V,ee,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=Q({},V.props),Ee=V.key;if(ee!=null)for(Ce in ee.key!==void 0&&(Ee=""+ee.key),ee)!C.call(ee,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ee.ref===void 0||(ue[Ce]=ee[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=ae;else if(1<Ce){for(var Pe=Array(Ce),Vt=0;Vt<Ce;Vt++)Pe[Vt]=arguments[Vt+2];ue.children=Pe}return R(V.type,Ee,ue)},Se.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Se.createElement=function(V,ee,ae){var ue,Ee={},Ce=null;if(ee!=null)for(ue in ee.key!==void 0&&(Ce=""+ee.key),ee)C.call(ee,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Ee[ue]=ee[ue]);var Pe=arguments.length-2;if(Pe===1)Ee.children=ae;else if(1<Pe){for(var Vt=Array(Pe),st=0;st<Pe;st++)Vt[st]=arguments[st+2];Ee.children=Vt}if(V&&V.defaultProps)for(ue in Pe=V.defaultProps,Pe)Ee[ue]===void 0&&(Ee[ue]=Pe[ue]);return R(V,Ce,Ee)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:m,render:V}},Se.isValidElement=D,Se.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ge}},Se.memo=function(V,ee){return{$$typeof:p,type:V,compare:ee===void 0?null:ee}},Se.startTransition=function(V){var ee=x.T,ae={};x.T=ae;try{var ue=V(),Ee=x.S;Ee!==null&&Ee(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(be,je)}catch(Ce){je(Ce)}finally{ee!==null&&ae.types!==null&&(ee.types=ae.types),x.T=ee}},Se.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Se.use=function(V){return x.H.use(V)},Se.useActionState=function(V,ee,ae){return x.H.useActionState(V,ee,ae)},Se.useCallback=function(V,ee){return x.H.useCallback(V,ee)},Se.useContext=function(V){return x.H.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V,ee){return x.H.useDeferredValue(V,ee)},Se.useEffect=function(V,ee){return x.H.useEffect(V,ee)},Se.useEffectEvent=function(V){return x.H.useEffectEvent(V)},Se.useId=function(){return x.H.useId()},Se.useImperativeHandle=function(V,ee,ae){return x.H.useImperativeHandle(V,ee,ae)},Se.useInsertionEffect=function(V,ee){return x.H.useInsertionEffect(V,ee)},Se.useLayoutEffect=function(V,ee){return x.H.useLayoutEffect(V,ee)},Se.useMemo=function(V,ee){return x.H.useMemo(V,ee)},Se.useOptimistic=function(V,ee){return x.H.useOptimistic(V,ee)},Se.useReducer=function(V,ee,ae){return x.H.useReducer(V,ee,ae)},Se.useRef=function(V){return x.H.useRef(V)},Se.useState=function(V){return x.H.useState(V)},Se.useSyncExternalStore=function(V,ee,ae){return x.H.useSyncExternalStore(V,ee,ae)},Se.useTransition=function(){return x.H.useTransition()},Se.version="19.2.4",Se}var Fv;function mp(){return Fv||(Fv=1,vm.exports=yA()),vm.exports}var L=mp();const _A=mA(L);var Em={exports:{}},Bl={},Tm={exports:{}},bm={};var Gv;function vA(){return Gv||(Gv=1,(function(r){function e($,se){var ge=$.length;$.push(se);e:for(;0<ge;){var je=ge-1>>>1,Ge=$[je];if(0<o(Ge,se))$[je]=se,$[ge]=Ge,ge=je;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var se=$[0],ge=$.pop();if(ge!==se){$[0]=ge;e:for(var je=0,Ge=$.length,V=Ge>>>1;je<V;){var ee=2*(je+1)-1,ae=$[ee],ue=ee+1,Ee=$[ue];if(0>o(ae,ge))ue<Ge&&0>o(Ee,ae)?($[je]=Ee,$[ue]=ge,je=ue):($[je]=ae,$[ee]=ge,je=ee);else if(ue<Ge&&0>o(Ee,ge))$[je]=Ee,$[ue]=ge,je=ue;else break e}}return se}function o($,se){var ge=$.sortIndex-se.sortIndex;return ge!==0?ge:$.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,b=null,A=3,k=!1,H=!1,Q=!1,G=!1,Z=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function fe($){for(var se=n(p);se!==null;){if(se.callback===null)s(p);else if(se.startTime<=$)s(p),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(p)}}function de($){if(Q=!1,fe($),!H)if(n(g)!==null)H=!0,be||(be=!0,U());else{var se=n(p);se!==null&&Mt(de,se.startTime-$)}}var be=!1,x=-1,C=5,R=-1;function M(){return G?!0:!(r.unstable_now()-R<C)}function D(){if(G=!1,be){var $=r.unstable_now();R=$;var se=!0;try{e:{H=!1,Q&&(Q=!1,ne(x),x=-1),k=!0;var ge=A;try{t:{for(fe($),b=n(g);b!==null&&!(b.expirationTime>$&&M());){var je=b.callback;if(typeof je=="function"){b.callback=null,A=b.priorityLevel;var Ge=je(b.expirationTime<=$);if($=r.unstable_now(),typeof Ge=="function"){b.callback=Ge,fe($),se=!0;break t}b===n(g)&&s(g),fe($)}else s(g);b=n(g)}if(b!==null)se=!0;else{var V=n(p);V!==null&&Mt(de,V.startTime-$),se=!1}}break e}finally{b=null,A=ge,k=!1}se=void 0}}finally{se?U():be=!1}}}var U;if(typeof ie=="function")U=function(){ie(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,rt=I.port2;I.port1.onmessage=D,U=function(){rt.postMessage(null)}}else U=function(){Z(D,0)};function Mt($,se){x=Z(function(){$(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function($){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var ge=A;A=se;try{return $()}finally{A=ge}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ge=A;A=$;try{return se()}finally{A=ge}},r.unstable_scheduleCallback=function($,se,ge){var je=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?je+ge:je):ge=je,$){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=ge+Ge,$={id:E++,callback:se,priorityLevel:$,startTime:ge,expirationTime:Ge,sortIndex:-1},ge>je?($.sortIndex=ge,e(p,$),n(g)===null&&$===n(p)&&(Q?(ne(x),x=-1):Q=!0,Mt(de,ge-je))):($.sortIndex=Ge,e(g,$),H||k||(H=!0,be||(be=!0,U()))),$},r.unstable_shouldYield=M,r.unstable_wrapCallback=function($){var se=A;return function(){var ge=A;A=se;try{return $.apply(this,arguments)}finally{A=ge}}}})(bm)),bm}var Kv;function EA(){return Kv||(Kv=1,Tm.exports=vA()),Tm.exports}var Sm={exports:{}},Wt={};var Qv;function TA(){if(Qv)return Wt;Qv=1;var r=mp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},Wt.flushSync=function(g){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=E,s.d.f()}},Wt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Wt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Wt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:k}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:A,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Wt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Wt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Wt.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Wt.requestFormReset=function(g){s.d.r(g)},Wt.unstable_batchedUpdates=function(g,p){return g(p)},Wt.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.2.4",Wt}var Yv;function bA(){if(Yv)return Sm.exports;Yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sm.exports=TA(),Sm.exports}var $v;function SA(){if($v)return Bl;$v=1;var r=EA(),e=mp(),n=bA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case Z:return"Profiler";case G:return"StrictMode";case de:return"Suspense";case be:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ie:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Mt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function V(t){return{current:t}}function ee(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function ae(t,i){Ge++,je[Ge]=t.current,t.current=i}var ue=V(null),Ee=V(null),Ce=V(null),Pe=V(null);function Vt(t,i){switch(ae(Ce,i),ae(Ee,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?cv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=cv(i),t=hv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ue),ae(ue,t)}function st(){ee(ue),ee(Ee),ee(Ce)}function As(t){t.memoizedState!==null&&ae(Pe,t);var i=ue.current,a=hv(i,t.type);i!==a&&(ae(Ee,t),ae(ue,a))}function pa(t){Ee.current===t&&(ee(ue),ee(Ee)),Pe.current===t&&(ee(Pe),Ll._currentValue=ge)}var ga,ya;function fi(t){if(ga===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ga=i&&i[1]||"",ya=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ga+t+ya}var Lo=!1;function ws(t,i){if(!t||Lo)return"";Lo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(K){var q=K}Reflect.construct(t,[],W)}else{try{W.call()}catch(K){q=K}t.call(W.prototype)}}else{try{throw Error()}catch(K){q=K}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),B=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===B.length)for(l=N.length-1,h=B.length-1;1<=l&&0<=h&&N[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==B[h]){var Y=`
`+N[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Lo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?fi(a):""}function Po(t,i){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return t.child!==i&&i!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return ws(t.type,!1);case 11:return ws(t.type.render,!1);case 1:return ws(t.type,!0);case 31:return fi("Activity");default:return""}}function Uo(t){try{var i="",a=null;do i+=Po(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,kt=r.unstable_scheduleCallback,Tr=r.unstable_cancelCallback,Ef=r.unstable_shouldYield,Nu=r.unstable_requestPaint,an=r.unstable_now,Rs=r.unstable_getCurrentPriorityLevel,jo=r.unstable_ImmediatePriority,zo=r.unstable_UserBlockingPriority,br=r.unstable_NormalPriority,Tf=r.unstable_LowPriority,Du=r.unstable_IdlePriority,Ou=r.log,Mu=r.unstable_setDisableYieldValue,Qn=null,Ht=null;function Nn(t){if(typeof Ou=="function"&&Mu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Qn,t)}catch{}}var pt=Math.clz32?Math.clz32:ku,Vu=Math.log,_a=Math.LN2;function ku(t){return t>>>=0,t===0?32:31-(Vu(t)/_a|0)|0}var di=256,Cs=262144,Tt=4194304;function mi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=mi(l):(_&=S,_!==0?h=mi(_):a||(a=S&~t,a!==0&&(h=mi(a))))):(S=l&~d,S!==0?h=mi(S):_!==0?h=mi(_):a||(a=l&~t,a!==0&&(h=mi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Yn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function bf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function gi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function xs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Sf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-pt(a),W=1<<Y;S[Y]=0,N[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var K=q[Y];K!==null&&(K.lane&=-536870913)}a&=~W}l!==0&&Is(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Is(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Bo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function qo(t,i){var a=i&-i;return a=(a&42)!==0?1:Ns(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ns(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Vv(t.type))}function $n(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Xn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Xn,jt="__reactProps$"+Xn,yi="__reactContainer$"+Xn,va="__reactEvents$"+Xn,Af="__reactListeners$"+Xn,Uu="__reactHandles$"+Xn,ju="__reactResources$"+Xn,_i="__reactMarker$"+Xn;function Ea(t){delete t[bt],delete t[jt],delete t[va],delete t[Af],delete t[Uu]}function vi(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[yi]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=_v(t);t!==null;){if(a=t[bt])return a;t=_v(t)}return i}t=a,a=t.parentNode}return null}function Dn(t){if(t=t[bt]||t[yi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function vn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ei(t){var i=t[ju];return i||(i=t[ju]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[_i]=!0}var Ho=new Set,Fo={};function Ti(t,i){bi(t,i),bi(t+"Capture",i)}function bi(t,i){for(Fo[t]=i,t=0;t<i.length;t++)Ho.add(i[t])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},Qo={};function zu(t){return Et.call(Qo,t)?!0:Et.call(Ko,t)?!1:Go.test(t)?Qo[t]=!0:(Ko[t]=!0,!1)}function Ta(t,i,a){if(zu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function En(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=Sr(t)?"checked":"value";t._valueTracker=Yo(t,i,""+t[i])}}function Ds(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Sr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Os=/[\n"\\]/g;function un(t){return t.replace(Os,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ba(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?$o(t,_,zt(i)):a!=null?$o(t,_,zt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+zt(S):t.removeAttribute("name")}function Bu(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+zt(a):"",i=i!=null?""+zt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function $o(t,i,a){i==="number"&&Si(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ar(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function qu(t,i,a){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+zt(a):""}function wr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function cn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Hu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Jo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Xo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Xo(t,d,i[d])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Rr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var Wo=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,Ai=null;function Ms(t){var i=Dn(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ba(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[jt]||null;if(!h)throw Error(s(90));ba(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ds(l)}break e;case"textarea":qu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ar(t,!!a.multiple,i,!1)}}}var wa=!1;function xr(t,i,a){if(wa)return t(i,a);wa=!0;try{var l=t(i);return l}finally{if(wa=!1,(Cr!==null||Ai!==null)&&(Pc(),Cr&&(i=Cr,t=Ai,Ai=Cr=null,Ms(i),t)))for(i=0;i<t.length;i++)Ms(t[i])}}function Wn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(Mn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Vs=!1}var wi=null,Zo=null,ks=null;function el(){if(ks)return ks;var t,i=Zo,a=i.length,l,h="value"in wi?wi.value:wi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return ks=h.slice(t,1<l?1-l:void 0)}function Ls(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function Zn(){return!1}function Ft(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hi:Zn,this.isPropagationStopped=Zn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),i}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Ft(Fi),Ir=b({},Fi,{view:0,detail:0}),tl=Ft(Ir),Nr,Ra,Ci,Ca=b({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(Nr=t.screenX-Ci.screenX,Ra=t.screenY-Ci.screenY):Ra=Nr=0,Ci=t),Nr)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),nl=Ft(Ca),Ps=b({},Ca,{dataTransfer:0}),Gu=Ft(Ps),Ku=b({},Ir,{relatedTarget:0}),Us=Ft(Ku),il=b({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Qu=Ft(il),xa=b({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yu=Ft(xa),$u=b({},Fi,{data:0}),xi=Ft($u),Xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Wu[t])?!!i[t]:!1}function Dr(){return Zu}var on=b({},Ir,{key:function(t){if(t.key){var i=Xu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ls(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ju[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(t){return t.type==="keypress"?Ls(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ls(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ec=Ft(on),tc=b({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Ft(tc),c=b({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),y=Ft(c),v=b({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ft(v),j=b({},Ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Ft(j),re=b({},Fi,{newState:0,oldState:0}),we=Ft(re),gt=[9,13,27,32],qe=Mn&&"CompositionEvent"in window,at=null;Mn&&"documentMode"in document&&(at=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!at,Ii=Mn&&(!qe||at&&8<at&&11>=at),ei=" ",ti=!1;function js(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function US(t,i){switch(t){case"compositionend":return Ia(i);case"keypress":return i.which!==32?null:(ti=!0,ei);case"textInput":return t=i.data,t===ei&&ti?null:t;default:return null}}function jS(t,i){if(Na)return t==="compositionend"||!qe&&js(t,i)?(t=el(),ks=Zo=wi=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ii&&i.locale!=="ko"?null:i.data;default:return null}}var zS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!zS[t.type]:i==="textarea"}function bg(t,i,a,l){Cr?Ai?Ai.push(l):Ai=[l]:Cr=l,i=Fc(i,"onChange"),0<i.length&&(a=new Ri("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var rl=null,sl=null;function BS(t){rv(t,0)}function nc(t){var i=vn(t);if(Ds(i))return t}function Sg(t,i){if(t==="change")return i}var Ag=!1;if(Mn){var wf;if(Mn){var Rf="oninput"in document;if(!Rf){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),Rf=typeof wg.oninput=="function"}wf=Rf}else wf=!1;Ag=wf&&(!document.documentMode||9<document.documentMode)}function Rg(){rl&&(rl.detachEvent("onpropertychange",Cg),sl=rl=null)}function Cg(t){if(t.propertyName==="value"&&nc(sl)){var i=[];bg(i,sl,t,On(t)),xr(BS,i)}}function qS(t,i,a){t==="focusin"?(Rg(),rl=i,sl=a,rl.attachEvent("onpropertychange",Cg)):t==="focusout"&&Rg()}function HS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nc(sl)}function FS(t,i){if(t==="click")return nc(i)}function GS(t,i){if(t==="input"||t==="change")return nc(i)}function KS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Tn=typeof Object.is=="function"?Object.is:KS;function al(t,i){if(Tn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(i,h)||!Tn(t[h],i[h]))return!1}return!0}function xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,i){var a=xg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xg(a)}}function Ng(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ng(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Si(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Si(t.document)}return i}function Cf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var QS=Mn&&"documentMode"in document&&11>=document.documentMode,Da=null,xf=null,ol=null,If=!1;function Og(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||Da==null||Da!==Si(l)||(l=Da,"selectionStart"in l&&Cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Fc(xf,"onSelect"),0<l.length&&(i=new Ri("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Da)))}function zs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Oa={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},Nf={},Mg={};Mn&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Bs(t){if(Nf[t])return Nf[t];if(!Oa[t])return t;var i=Oa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Mg)return Nf[t]=i[a];return t}var Vg=Bs("animationend"),kg=Bs("animationiteration"),Lg=Bs("animationstart"),YS=Bs("transitionrun"),$S=Bs("transitionstart"),XS=Bs("transitioncancel"),Pg=Bs("transitionend"),Ug=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function ni(t,i){Ug.set(t,i),Ti(i,[t])}var ic=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},kn=[],Ma=0,Of=0;function rc(){for(var t=Ma,i=Of=Ma=0;i<t;){var a=kn[i];kn[i++]=null;var l=kn[i];kn[i++]=null;var h=kn[i];kn[i++]=null;var d=kn[i];if(kn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&jg(a,h,d)}}function sc(t,i,a,l){kn[Ma++]=t,kn[Ma++]=i,kn[Ma++]=a,kn[Ma++]=l,Of|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Mf(t,i,a,l){return sc(t,i,a,l),ac(t)}function qs(t,i){return sc(t,null,null,i),ac(t)}function jg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ac(t){if(50<Il)throw Il=0,qd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Va={};function JS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,i,a,l){return new JS(t,i,a,l)}function Vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,i){var a=t.alternate;return a===null?(a=bn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function zg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function oc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Vf(t)&&(_=1);else if(typeof t=="string")_=nA(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=bn(31,a,i,h),t.elementType=R,t.lanes=d,t;case Q:return Hs(a.children,h,d,i);case G:_=8,h|=24;break;case Z:return t=bn(12,a,i,h|2),t.elementType=Z,t.lanes=d,t;case de:return t=bn(13,a,i,h),t.elementType=de,t.lanes=d,t;case be:return t=bn(19,a,i,h),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case ne:_=9;break e;case fe:_=11;break e;case x:_=14;break e;case C:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=bn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Hs(t,i,a,l){return t=bn(7,t,l,i),t.lanes=a,t}function kf(t,i,a){return t=bn(6,t,null,i),t.lanes=a,t}function Bg(t){var i=bn(18,null,null,0);return i.stateNode=t,i}function Lf(t,i,a){return i=bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var qg=new WeakMap;function Ln(t,i){if(typeof t=="object"&&t!==null){var a=qg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Uo(i)},qg.set(t,i),i)}return{value:t,source:i,stack:Uo(i)}}var ka=[],La=0,lc=null,ll=0,Pn=[],Un=0,Or=null,Ni=1,Di="";function Qi(t,i){ka[La++]=ll,ka[La++]=lc,lc=t,ll=i}function Hg(t,i,a){Pn[Un++]=Ni,Pn[Un++]=Di,Pn[Un++]=Or,Or=t;var l=Ni;t=Di;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ni=1<<32-pt(i)+h|a<<h|l,Di=d+t}else Ni=1<<d|a<<h|l,Di=t}function Pf(t){t.return!==null&&(Qi(t,1),Hg(t,1,0))}function Uf(t){for(;t===lc;)lc=ka[--La],ka[La]=null,ll=ka[--La],ka[La]=null;for(;t===Or;)Or=Pn[--Un],Pn[Un]=null,Di=Pn[--Un],Pn[Un]=null,Ni=Pn[--Un],Pn[Un]=null}function Fg(t,i){Pn[Un++]=Ni,Pn[Un++]=Di,Pn[Un++]=Or,Ni=i.id,Di=i.overflow,Or=t}var Gt=null,tt=null,Le=!1,Mr=null,jn=!1,jf=Error(s(519));function Vr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(Ln(i,t)),jf}function Gg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[jt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Ne(Dl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Bu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),wr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||lv(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Jn),i=!0):i=!1,i||Vr(t,!0)}function Kg(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Gt=Gt.return}}function Pa(t){if(t!==Gt)return!1;if(!Le)return Kg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||im(t.type,t.memoizedProps)),a=!a),a&&tt&&Vr(t),Kg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=yv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=yv(t)}else i===27?(i=tt,Yr(t.type)?(t=lm,lm=null,tt=t):tt=i):tt=Gt?Bn(t.stateNode.nextSibling):null;return!0}function Fs(){tt=Gt=null,Le=!1}function zf(){var t=Mr;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Mr=null),t}function ul(t){Mr===null?Mr=[t]:Mr.push(t)}var Bf=V(null),Gs=null,Yi=null;function kr(t,i,a){ae(Bf,i._currentValue),i._currentValue=a}function $i(t){t._currentValue=Bf.current,ee(Bf)}function qf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Hf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),qf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),qf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ua(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;Tn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Pe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}h=h.return}t!==null&&Hf(i,t,a,l),i.flags|=262144}function uc(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ks(t){Gs=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Qg(Gs,t)}function cc(t,i){return Gs===null&&Ks(t),Qg(t,i)}function Qg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Yi===null){if(t===null)throw Error(s(308));Yi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Yi=Yi.next=i;return a}var WS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ZS=r.unstable_scheduleCallback,e1=r.unstable_NormalPriority,wt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new WS,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&ZS(e1,function(){t.controller.abort()})}var hl=null,Gf=0,ja=0,za=null;function t1(t,i){if(hl===null){var a=hl=[];Gf=0,ja=Yd(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,i.then(Yg,Yg),i}function Yg(){if(--Gf===0&&hl!==null){za!==null&&(za.status="fulfilled");var t=hl;hl=null,ja=0,za=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function n1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var $g=$.S;$.S=function(t,i){O_=an(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&t1(t,i),$g!==null&&$g(t,i)};var Qs=V(null);function Kf(){var t=Qs.current;return t!==null?t:Ze.pooledCache}function hc(t,i){i===null?ae(Qs,Qs.current):ae(Qs,i.pool)}function Xg(){var t=Kf();return t===null?null:{parent:wt._currentValue,pool:t}}var Ba=Error(s(460)),Qf=Error(s(474)),fc=Error(s(542)),dc={then:function(){}};function Jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Jn,Jn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ey(t),t;default:if(typeof i.status=="string")i.then(Jn,Jn);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ey(t),t}throw $s=i,Ba}}function Ys(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($s=a,Ba):a}}var $s=null;function Zg(){if($s===null)throw Error(s(459));var t=$s;return $s=null,t}function ey(t){if(t===Ba||t===fc)throw Error(s(483))}var qa=null,fl=0;function mc(t){var i=fl;return fl+=1,qa===null&&(qa=[]),Wg(qa,t,i)}function dl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function pc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ty(t){function i(P,O){if(t){var z=P.deletions;z===null?(P.deletions=[O],P.flags|=16):z.push(O)}}function a(P,O){if(!t)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Ki(P,O),P.index=0,P.sibling=null,P}function d(P,O,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<O?(P.flags|=67108866,O):z):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,O,z,X){return O===null||O.tag!==6?(O=kf(z,P.mode,X),O.return=P,O):(O=h(O,z),O.return=P,O)}function N(P,O,z,X){var me=z.type;return me===Q?Y(P,O,z.props.children,X,z.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&Ys(me)===O.type)?(O=h(O,z.props),dl(O,z),O.return=P,O):(O=oc(z.type,z.key,z.props,null,P.mode,X),dl(O,z),O.return=P,O)}function B(P,O,z,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Lf(z,P.mode,X),O.return=P,O):(O=h(O,z.children||[]),O.return=P,O)}function Y(P,O,z,X,me){return O===null||O.tag!==7?(O=Hs(z,P.mode,X,me),O.return=P,O):(O=h(O,z),O.return=P,O)}function W(P,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=kf(""+O,P.mode,z),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case k:return z=oc(O.type,O.key,O.props,null,P.mode,z),dl(z,O),z.return=P,z;case H:return O=Lf(O,P.mode,z),O.return=P,O;case C:return O=Ys(O),W(P,O,z)}if(Mt(O)||U(O))return O=Hs(O,P.mode,z,null),O.return=P,O;if(typeof O.then=="function")return W(P,mc(O),z);if(O.$$typeof===ie)return W(P,cc(P,O),z);pc(P,O)}return null}function q(P,O,z,X){var me=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:S(P,O,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return z.key===me?N(P,O,z,X):null;case H:return z.key===me?B(P,O,z,X):null;case C:return z=Ys(z),q(P,O,z,X)}if(Mt(z)||U(z))return me!==null?null:Y(P,O,z,X,null);if(typeof z.then=="function")return q(P,O,mc(z),X);if(z.$$typeof===ie)return q(P,O,cc(P,z),X);pc(P,z)}return null}function K(P,O,z,X,me){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(z)||null,S(O,P,""+X,me);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case k:return P=P.get(X.key===null?z:X.key)||null,N(O,P,X,me);case H:return P=P.get(X.key===null?z:X.key)||null,B(O,P,X,me);case C:return X=Ys(X),K(P,O,z,X,me)}if(Mt(X)||U(X))return P=P.get(z)||null,Y(O,P,X,me,null);if(typeof X.then=="function")return K(P,O,z,mc(X),me);if(X.$$typeof===ie)return K(P,O,z,cc(O,X),me);pc(O,X)}return null}function ce(P,O,z,X){for(var me=null,ze=null,he=O,xe=O=0,Oe=null;he!==null&&xe<z.length;xe++){he.index>xe?(Oe=he,he=null):Oe=he.sibling;var Be=q(P,he,z[xe],X);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&i(P,he),O=d(Be,O,xe),ze===null?me=Be:ze.sibling=Be,ze=Be,he=Oe}if(xe===z.length)return a(P,he),Le&&Qi(P,xe),me;if(he===null){for(;xe<z.length;xe++)he=W(P,z[xe],X),he!==null&&(O=d(he,O,xe),ze===null?me=he:ze.sibling=he,ze=he);return Le&&Qi(P,xe),me}for(he=l(he);xe<z.length;xe++)Oe=K(he,P,xe,z[xe],X),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?xe:Oe.key),O=d(Oe,O,xe),ze===null?me=Oe:ze.sibling=Oe,ze=Oe);return t&&he.forEach(function(Zr){return i(P,Zr)}),Le&&Qi(P,xe),me}function ye(P,O,z,X){if(z==null)throw Error(s(151));for(var me=null,ze=null,he=O,xe=O=0,Oe=null,Be=z.next();he!==null&&!Be.done;xe++,Be=z.next()){he.index>xe?(Oe=he,he=null):Oe=he.sibling;var Zr=q(P,he,Be.value,X);if(Zr===null){he===null&&(he=Oe);break}t&&he&&Zr.alternate===null&&i(P,he),O=d(Zr,O,xe),ze===null?me=Zr:ze.sibling=Zr,ze=Zr,he=Oe}if(Be.done)return a(P,he),Le&&Qi(P,xe),me;if(he===null){for(;!Be.done;xe++,Be=z.next())Be=W(P,Be.value,X),Be!==null&&(O=d(Be,O,xe),ze===null?me=Be:ze.sibling=Be,ze=Be);return Le&&Qi(P,xe),me}for(he=l(he);!Be.done;xe++,Be=z.next())Be=K(he,P,xe,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?xe:Be.key),O=d(Be,O,xe),ze===null?me=Be:ze.sibling=Be,ze=Be);return t&&he.forEach(function(dA){return i(P,dA)}),Le&&Qi(P,xe),me}function We(P,O,z,X){if(typeof z=="object"&&z!==null&&z.type===Q&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case k:e:{for(var me=z.key;O!==null;){if(O.key===me){if(me=z.type,me===Q){if(O.tag===7){a(P,O.sibling),X=h(O,z.props.children),X.return=P,P=X;break e}}else if(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&Ys(me)===O.type){a(P,O.sibling),X=h(O,z.props),dl(X,z),X.return=P,P=X;break e}a(P,O);break}else i(P,O);O=O.sibling}z.type===Q?(X=Hs(z.props.children,P.mode,X,z.key),X.return=P,P=X):(X=oc(z.type,z.key,z.props,null,P.mode,X),dl(X,z),X.return=P,P=X)}return _(P);case H:e:{for(me=z.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(P,O.sibling),X=h(O,z.children||[]),X.return=P,P=X;break e}else{a(P,O);break}else i(P,O);O=O.sibling}X=Lf(z,P.mode,X),X.return=P,P=X}return _(P);case C:return z=Ys(z),We(P,O,z,X)}if(Mt(z))return ce(P,O,z,X);if(U(z)){if(me=U(z),typeof me!="function")throw Error(s(150));return z=me.call(z),ye(P,O,z,X)}if(typeof z.then=="function")return We(P,O,mc(z),X);if(z.$$typeof===ie)return We(P,O,cc(P,z),X);pc(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(P,O.sibling),X=h(O,z),X.return=P,P=X):(a(P,O),X=kf(z,P.mode,X),X.return=P,P=X),_(P)):a(P,O)}return function(P,O,z,X){try{fl=0;var me=We(P,O,z,X);return qa=null,me}catch(he){if(he===Ba||he===fc)throw he;var ze=bn(29,he,null,P.mode);return ze.lanes=X,ze.return=P,ze}}}var Xs=ty(!0),ny=ty(!1),Lr=!1;function Yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ac(t),jg(t,null,a),i}return sc(t,l,i,a),ac(t)}function ml(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Bo(t,a)}}function Xf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Jf=!1;function pl(){if(Jf){var t=za;if(t!==null)throw t}}function gl(t,i,a,l){Jf=!1;var h=t.updateQueue;Lr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==_&&(S===null?Y.firstBaseUpdate=B:S.next=B,Y.lastBaseUpdate=N))}if(d!==null){var W=h.baseState;_=0,Y=B=N=null,S=d;do{var q=S.lane&-536870913,K=q!==S.lane;if(K?(De&q)===q:(l&q)===q){q!==0&&q===ja&&(Jf=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ce=t,ye=S;q=i;var We=a;switch(ye.tag){case 1:if(ce=ye.payload,typeof ce=="function"){W=ce.call(We,W,q);break e}W=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ye.payload,q=typeof ce=="function"?ce.call(We,W,q):ce,q==null)break e;W=b({},W,q);break e;case 2:Lr=!0}}q=S.callback,q!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[q]:K.push(q))}else K={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(B=Y=K,N=W):Y=Y.next=K,_|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Y===null&&(N=W),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Hr|=_,t.lanes=_,t.memoizedState=W}}function iy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ry(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)iy(a[t],i)}var Ha=V(null),gc=V(0);function sy(t,i){t=rr,ae(gc,t),ae(Ha,i),rr=t|i.baseLanes}function Wf(){ae(gc,rr),ae(Ha,Ha.current)}function Zf(){rr=gc.current,ee(Ha),ee(gc)}var Sn=V(null),zn=null;function jr(t){var i=t.alternate;ae(yt,yt.current&1),ae(Sn,t),zn===null&&(i===null||Ha.current!==null||i.memoizedState!==null)&&(zn=t)}function ed(t){ae(yt,yt.current),ae(Sn,t),zn===null&&(zn=t)}function ay(t){t.tag===22?(ae(yt,yt.current),ae(Sn,t),zn===null&&(zn=t)):zr()}function zr(){ae(yt,yt.current),ae(Sn,Sn.current)}function An(t){ee(Sn),zn===t&&(zn=null),ee(yt)}var yt=V(0);function yc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||am(a)||om(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,Re=null,Xe=null,Rt=null,_c=!1,Fa=!1,Js=!1,vc=0,yl=0,Ga=null,i1=0;function ht(){throw Error(s(321))}function td(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Tn(t[a],i[a]))return!1;return!0}function nd(t,i,a,l,h,d){return Xi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?Hy:yd,Js=!1,d=a(l,h),Js=!1,Fa&&(d=ly(i,a,l,h)),oy(t),d}function oy(t){$.H=El;var i=Xe!==null&&Xe.next!==null;if(Xi=0,Rt=Xe=Re=null,_c=!1,yl=0,Ga=null,i)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&uc(t)&&(Ct=!0))}function ly(t,i,a,l){Re=t;var h=0;do{if(Fa&&(Ga=null),yl=0,Fa=!1,25<=h)throw Error(s(301));if(h+=1,Rt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=Fy,d=i(a,l)}while(Fa);return d}function r1(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?_l(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Re.flags|=1024),i}function id(){var t=vc!==0;return vc=0,t}function rd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function sd(t){if(_c){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}_c=!1}Xi=0,Rt=Xe=Re=null,Fa=!1,yl=vc=0,Ga=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(Xe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=Rt===null?Re.memoizedState:Rt.next;if(i!==null)Rt=i,Xe=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var i=yl;return yl+=1,Ga===null&&(Ga=[]),t=Wg(Ga,t,i),i=Re,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Hy:yd),t}function Tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===ie)return Kt(t)}throw Error(s(438,String(t)))}function ad(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ec(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Ji(t,i){return typeof i=="function"?i(t):i}function bc(t){var i=_t();return od(i,Xe,t)}function od(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,N=null,B=i,Y=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(De&W)===W:(Xi&W)===W){var q=B.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===ja&&(Y=!0);else if((Xi&q)===q){B=B.next,q===ja&&(Y=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=W,_=d):N=N.next=W,Re.lanes|=q,Hr|=q;W=B.action,Js&&a(d,W),d=B.hasEagerState?B.eagerState:a(d,W)}else q={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=q,_=d):N=N.next=q,Re.lanes|=W,Hr|=W;B=B.next}while(B!==null&&B!==i);if(N===null?_=d:N.next=S,!Tn(d,t.memoizedState)&&(Ct=!0,Y&&(a=za,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ld(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Tn(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function uy(t,i,a){var l=Re,h=_t(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Tn((Xe||h).memoizedState,a);if(_&&(h.memoizedState=a,Ct=!0),h=h.queue,hd(fy.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Ka(9,{destroy:void 0},hy.bind(null,l,h,a,i),null),Ze===null)throw Error(s(349));d||(Xi&127)!==0||cy(l,i,a)}return a}function cy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=Ec(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function hy(t,i,a,l){i.value=a,i.getSnapshot=l,dy(i)&&my(t)}function fy(t,i,a){return a(function(){dy(i)&&my(t)})}function dy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Tn(t,a)}catch{return!0}}function my(t){var i=qs(t,2);i!==null&&pn(i,t,2)}function ud(t){var i=ln();if(typeof t=="function"){var a=t;if(t=a(),Js){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},i}function py(t,i,a,l){return t.baseState=a,od(t,Xe,typeof l=="function"?l:Ji)}function s1(t,i,a,l,h){if(wc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,gy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function gy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var S=a(h,l),N=$.S;N!==null&&N(_,S),yy(t,i,S)}catch(B){cd(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(h,l),yy(t,i,d)}catch(B){cd(t,i,B)}}function yy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_y(t,i,l)},function(l){return cd(t,i,l)}):_y(t,i,a)}function _y(t,i,a){i.status="fulfilled",i.value=a,vy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,gy(t,a)))}function cd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,vy(i),i=i.next;while(i!==l)}t.action=null}function vy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ey(t,i){return i}function Ty(t,i){if(Le){var a=Ze.formState;if(a!==null){e:{var l=Re;if(Le){if(tt){t:{for(var h=tt,d=jn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Bn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tt=Bn(h.nextSibling),l=h.data==="F!";break e}}Vr(l)}l=!1}l&&(i=a[0])}}return a=ln(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:i},a.queue=l,a=zy.bind(null,Re,l),l.dispatch=a,l=ud(!1),d=gd.bind(null,Re,!1,l.queue),l=ln(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=s1.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function by(t){var i=_t();return Sy(i,Xe,t)}function Sy(t,i,a){if(i=od(t,i,Ey)[0],t=bc(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=_l(i)}catch(_){throw _===Ba?fc:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Ka(9,{destroy:void 0},a1.bind(null,h,a),null)),[l,d,t]}function a1(t,i){t.action=i}function Ay(t){var i=_t(),a=Xe;if(a!==null)return Sy(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ka(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=Ec(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function wy(){return _t().memoizedState}function Sc(t,i,a,l){var h=ln();Re.flags|=t,h.memoizedState=Ka(1|i,{destroy:void 0},a,l===void 0?null:l)}function Ac(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&td(l,Xe.memoizedState.deps)?h.memoizedState=Ka(i,d,a,l):(Re.flags|=t,h.memoizedState=Ka(1|i,d,a,l))}function Ry(t,i){Sc(8390656,8,t,i)}function hd(t,i){Ac(2048,8,t,i)}function o1(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=Ec(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Cy(t){var i=_t().memoizedState;return o1({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function xy(t,i){return Ac(4,2,t,i)}function Iy(t,i){return Ac(4,4,t,i)}function Ny(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Dy(t,i,a){a=a!=null?a.concat([t]):null,Ac(4,4,Ny.bind(null,i,t),a)}function fd(){}function Oy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&td(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function My(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&td(i,l[1]))return l[0];if(l=t(),Js){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,i],l}function dd(t,i,a){return a===void 0||(Xi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=V_(),Re.lanes|=t,Hr|=t,a)}function Vy(t,i,a,l){return Tn(a,i)?a:Ha.current!==null?(t=dd(t,a,l),Tn(t,i)||(Ct=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(De&261930)===0?(Ct=!0,t.memoizedState=a):(t=V_(),Re.lanes|=t,Hr|=t,i)}function ky(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=$.T,S={};$.T=S,gd(t,!1,i,a);try{var N=h(),B=$.S;if(B!==null&&B(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=n1(N,l);vl(t,i,Y,Cn(t))}else vl(t,i,l,Cn(t))}catch(W){vl(t,i,{then:function(){},status:"rejected",reason:W},Cn())}finally{se.p=d,_!==null&&S.types!==null&&(_.types=S.types),$.T=_}}function l1(){}function md(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ly(t).queue;ky(t,h,i,ge,a===null?l1:function(){return Py(t),a(l)})}function Ly(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Py(t){var i=Ly(t);i.next===null&&(i=t.alternate.memoizedState),vl(t,i.next.queue,{},Cn())}function pd(){return Kt(Ll)}function Uy(){return _t().memoizedState}function jy(){return _t().memoizedState}function u1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Cn();t=Pr(a);var l=Ur(i,t,a);l!==null&&(pn(l,i,a),ml(l,i,a)),i={cache:Ff()},t.payload=i;return}i=i.return}}function c1(t,i,a){var l=Cn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wc(t)?By(i,a):(a=Mf(t,i,a,l),a!==null&&(pn(a,t,l),qy(a,i,l)))}function zy(t,i,a){var l=Cn();vl(t,i,a,l)}function vl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(t))By(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,Tn(S,_))return sc(t,i,h,0),Ze===null&&rc(),!1}catch{}if(a=Mf(t,i,h,l),a!==null)return pn(a,t,l),qy(a,i,l),!0}return!1}function gd(t,i,a,l){if(l={lane:2,revertLane:Yd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wc(t)){if(i)throw Error(s(479))}else i=Mf(t,a,l,2),i!==null&&pn(i,t,2)}function wc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function By(t,i){Fa=_c=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function qy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Bo(t,a)}}var El={readContext:Kt,use:Tc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};El.useEffectEvent=ht;var Hy={readContext:Kt,use:Tc,useCallback:function(t,i){return ln().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:Ry,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Sc(4194308,4,Ny.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Sc(4194308,4,t,i)},useInsertionEffect:function(t,i){Sc(4,2,t,i)},useMemo:function(t,i){var a=ln();i=i===void 0?null:i;var l=t();if(Js){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=ln();if(a!==void 0){var h=a(i);if(Js){Nn(!0);try{a(i)}finally{Nn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=c1.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=ln();return t={current:t},i.memoizedState=t},useState:function(t){t=ud(t);var i=t.queue,a=zy.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:fd,useDeferredValue:function(t,i){var a=ln();return dd(a,t,i)},useTransition:function(){var t=ud(!1);return t=ky.bind(null,Re,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=ln();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ze===null)throw Error(s(349));(De&127)!==0||cy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ry(fy.bind(null,l,d,t),[t]),l.flags|=2048,Ka(9,{destroy:void 0},hy.bind(null,l,d,a,i),null),a},useId:function(){var t=ln(),i=Ze.identifierPrefix;if(Le){var a=Di,l=Ni;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=vc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=i1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:pd,useFormState:Ty,useActionState:Ty,useOptimistic:function(t){var i=ln();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gd.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:ad,useCacheRefresh:function(){return ln().memoizedState=u1.bind(null,Re)},useEffectEvent:function(t){var i=ln(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},yd={readContext:Kt,use:Tc,useCallback:Oy,useContext:Kt,useEffect:hd,useImperativeHandle:Dy,useInsertionEffect:xy,useLayoutEffect:Iy,useMemo:My,useReducer:bc,useRef:wy,useState:function(){return bc(Ji)},useDebugValue:fd,useDeferredValue:function(t,i){var a=_t();return Vy(a,Xe.memoizedState,t,i)},useTransition:function(){var t=bc(Ji)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:pd,useFormState:by,useActionState:by,useOptimistic:function(t,i){var a=_t();return py(a,Xe,t,i)},useMemoCache:ad,useCacheRefresh:jy};yd.useEffectEvent=Cy;var Fy={readContext:Kt,use:Tc,useCallback:Oy,useContext:Kt,useEffect:hd,useImperativeHandle:Dy,useInsertionEffect:xy,useLayoutEffect:Iy,useMemo:My,useReducer:ld,useRef:wy,useState:function(){return ld(Ji)},useDebugValue:fd,useDeferredValue:function(t,i){var a=_t();return Xe===null?dd(a,t,i):Vy(a,Xe.memoizedState,t,i)},useTransition:function(){var t=ld(Ji)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:pd,useFormState:Ay,useActionState:Ay,useOptimistic:function(t,i){var a=_t();return Xe!==null?py(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:jy};Fy.useEffectEvent=Cy;function _d(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var vd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Cn(),h=Pr(l);h.payload=i,a!=null&&(h.callback=a),i=Ur(t,h,l),i!==null&&(pn(i,t,l),ml(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Cn(),h=Pr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ur(t,h,l),i!==null&&(pn(i,t,l),ml(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Cn(),l=Pr(a);l.tag=2,i!=null&&(l.callback=i),i=Ur(t,l,a),i!==null&&(pn(i,t,a),ml(i,t,a))}};function Gy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!al(a,l)||!al(h,d):!0}function Ky(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&vd.enqueueReplaceState(i,i.state,null)}function Ws(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Qy(t){ic(t)}function Yy(t){console.error(t)}function $y(t){ic(t)}function Rc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Xy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ed(t,i,a){return a=Pr(a),a.tag=3,a.payload={element:null},a.callback=function(){Rc(t,i)},a}function Jy(t){return t=Pr(t),t.tag=3,t}function Wy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Xy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Xy(i,a,l),typeof h!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function h1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ua(i,a,h,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?Uc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===dc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Gd(t,l,h)),!1;case 22:return a.flags|=65536,l===dc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Gd(t,l,h)),!1}throw Error(s(435,a.tag))}return Gd(t,l,h),Uc(),!1}if(Le)return i=Sn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==jf&&(t=Error(s(422),{cause:l}),ul(Ln(t,a)))):(l!==jf&&(i=Error(s(423),{cause:l}),ul(Ln(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ln(l,a),h=Ed(t.stateNode,l,h),Xf(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Ln(d,a),xl===null?xl=[d]:xl.push(d),ft!==4&&(ft=2),i===null)return!0;l=Ln(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ed(a.stateNode,l,t),Xf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fr===null||!Fr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Jy(h),Wy(h,t,a,l),Xf(a,h),!1}a=a.return}while(a!==null);return!1}var Td=Error(s(461)),Ct=!1;function Qt(t,i,a,l){i.child=t===null?ny(i,null,a,l):Xs(i,t.child,a,l)}function Zy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Ks(i),l=nd(t,i,a,_,d,h),S=id(),t!==null&&!Ct?(rd(t,i,h),Wi(t,i,h)):(Le&&S&&Pf(i),i.flags|=1,Qt(t,i,l,h),i.child)}function e_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,t_(t,i,d,l,h)):(t=oc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Id(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(_,l)&&t.ref===i.ref)return Wi(t,i,h)}return i.flags|=1,t=Ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function t_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(al(d,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,Id(t,h))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,Wi(t,i,h)}return bd(t,i,a,l,h)}function n_(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return i_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&hc(i,d!==null?d.cachePool:null),d!==null?sy(i,d):Wf(),ay(i);else return l=i.lanes=536870912,i_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(hc(i,d.cachePool),sy(i,d),zr(),i.memoizedState=null):(t!==null&&hc(i,null),Wf(),zr());return Qt(t,i,h,a),i.child}function Tl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function i_(t,i,a,l,h){var d=Kf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&hc(i,null),Wf(),ay(i),t!==null&&Ua(t,i,l,!0),i.childLanes=h,null}function Cc(t,i){return i=Ic({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function r_(t,i,a){return Xs(i,t.child,null,a),t=Cc(i,i.pendingProps),t.flags|=2,An(i),i.memoizedState=null,t}function f1(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Cc(i,l),i.lanes=536870912,Tl(null,t);if(ed(i),(t=tt)?(t=gv(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Or!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Bg(t),a.return=i,i.child=a,Gt=i,tt=null)):t=null,t===null)throw Vr(i);return i.lanes=536870912,null}return Cc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(ed(i),h)if(i.flags&256)i.flags&=-257,i=r_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ct||Ua(t,i,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(l=Ze,l!==null&&(_=qo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,qs(t,_),pn(l,t,_),Td;Uc(),i=r_(t,i,a)}else t=d.treeContext,tt=Bn(_.nextSibling),Gt=i,Le=!0,Mr=null,jn=!1,t!==null&&Fg(i,t),i=Cc(i,l),i.flags|=4096;return i}return t=Ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function xc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function bd(t,i,a,l,h){return Ks(i),a=nd(t,i,a,l,void 0,h),l=id(),t!==null&&!Ct?(rd(t,i,h),Wi(t,i,h)):(Le&&l&&Pf(i),i.flags|=1,Qt(t,i,a,h),i.child)}function s_(t,i,a,l,h,d){return Ks(i),i.updateQueue=null,a=ly(i,l,a,h),oy(t),l=id(),t!==null&&!Ct?(rd(t,i,d),Wi(t,i,d)):(Le&&l&&Pf(i),i.flags|=1,Qt(t,i,a,d),i.child)}function a_(t,i,a,l,h){if(Ks(i),i.stateNode===null){var d=Va,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=vd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Yf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):Va,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(_d(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&vd.enqueueReplaceState(d,d.state,null),gl(i,l,d,h),pl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=Ws(a,S);d.props=N;var B=d.context,Y=a.contextType;_=Va,typeof Y=="object"&&Y!==null&&(_=Kt(Y));var W=a.getDerivedStateFromProps;Y=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&Ky(i,d,l,_),Lr=!1;var q=i.memoizedState;d.state=q,gl(i,l,d,h),pl(),B=i.memoizedState,S||q!==B||Lr?(typeof W=="function"&&(_d(i,a,W,l),B=i.memoizedState),(N=Lr||Gy(i,a,N,l,q,B,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,$f(t,i),_=i.memoizedProps,Y=Ws(a,_),d.props=Y,W=i.pendingProps,q=d.context,B=a.contextType,N=Va,typeof B=="object"&&B!==null&&(N=Kt(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||q!==N)&&Ky(i,d,l,N),Lr=!1,q=i.memoizedState,d.state=q,gl(i,l,d,h),pl();var K=i.memoizedState;_!==W||q!==K||Lr||t!==null&&t.dependencies!==null&&uc(t.dependencies)?(typeof S=="function"&&(_d(i,a,S,l),K=i.memoizedState),(Y=Lr||Gy(i,a,Y,l,q,K,N)||t!==null&&t.dependencies!==null&&uc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=N,l=Y):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,xc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Xs(i,t.child,null,h),i.child=Xs(i,null,a,h)):Qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Wi(t,i,h),t}function o_(t,i,a,l){return Fs(),i.flags|=256,Qt(t,i,a,l),i.child}var Sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ad(t){return{baseLanes:t,cachePool:Xg()}}function wd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Rn),t}function l_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?jr(i):zr(),(t=tt)?(t=gv(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Or!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Bg(t),a.return=i,i.child=a,Gt=i,tt=null)):t=null,t===null)throw Vr(i);return om(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(zr(),h=i.mode,S=Ic({mode:"hidden",children:S},h),l=Hs(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Ad(a),l.childLanes=wd(t,_,a),i.memoizedState=Sd,Tl(null,l)):(jr(i),Rd(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(jr(i),i.flags&=-257,i=Cd(t,i,a)):i.memoizedState!==null?(zr(),i.child=t.child,i.flags|=128,i=null):(zr(),S=l.fallback,h=i.mode,l=Ic({mode:"visible",children:l.children},h),S=Hs(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Xs(i,t.child,null,a),l=i.child,l.memoizedState=Ad(a),l.childLanes=wd(t,_,a),i.memoizedState=Sd,i=Tl(null,l));else if(jr(i),om(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,ul({value:l,source:null,stack:null}),i=Cd(t,i,a)}else if(Ct||Ua(t,i,a,!1),_=(a&t.childLanes)!==0,Ct||_){if(_=Ze,_!==null&&(l=qo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,qs(t,l),pn(_,t,l),Td;am(S)||Uc(),i=Cd(t,i,a)}else am(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,tt=Bn(S.nextSibling),Gt=i,Le=!0,Mr=null,jn=!1,t!==null&&Fg(i,t),i=Rd(i,l.children),i.flags|=4096);return i}return h?(zr(),S=l.fallback,h=i.mode,N=t.child,B=N.sibling,l=Ki(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?S=Ki(B,S):(S=Hs(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Tl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=Ad(a):(h=S.cachePool,h!==null?(N=wt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Xg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=wd(t,_,a),i.memoizedState=Sd,Tl(t.child,l)):(jr(i),a=t.child,t=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Rd(t,i){return i=Ic({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ic(t,i){return t=bn(22,t,null,i),t.lanes=0,t}function Cd(t,i,a){return Xs(i,t.child,null,a),t=Rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function u_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),qf(t.return,i,a)}function xd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function c_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ae(yt,_),Qt(t,i,l,a),l=Le?ll:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u_(t,a,i);else if(t.tag===19)u_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&yc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),xd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&yc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}xd(i,!0,a,null,d,l);break;case"together":xd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Wi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Hr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ua(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Id(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&uc(t)))}function d1(t,i,a){switch(i.tag){case 3:Vt(i,i.stateNode.containerInfo),kr(i,wt,t.memoizedState.cache),Fs();break;case 27:case 5:As(i);break;case 4:Vt(i,i.stateNode.containerInfo);break;case 10:kr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ed(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(jr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?l_(t,i,a):(jr(i),t=Wi(t,i,a),t!==null?t.sibling:null);jr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ua(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return c_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(yt,yt.current),l)break;return null;case 22:return i.lanes=0,n_(t,i,a,i.pendingProps);case 24:kr(i,wt,t.memoizedState.cache)}return Wi(t,i,a)}function h_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!Id(t,a)&&(i.flags&128)===0)return Ct=!1,d1(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,Le&&(i.flags&1048576)!==0&&Hg(i,ll,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ys(i.elementType),i.type=t,typeof t=="function")Vf(t)?(l=Ws(t,l),i.tag=1,i=a_(null,i,t,l,a)):(i.tag=0,i=bd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===fe){i.tag=11,i=Zy(null,i,t,l,a);break e}else if(h===x){i.tag=14,i=e_(null,i,t,l,a);break e}}throw i=rt(t)||t,Error(s(306,i,""))}}return i;case 0:return bd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ws(l,i.pendingProps),a_(t,i,l,h,a);case 3:e:{if(Vt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,$f(t,i),gl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,kr(i,wt,l),l!==d.cache&&Hf(i,[wt],a,!0),pl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=o_(t,i,l,a);break e}else if(l!==h){h=Ln(Error(s(424)),i),ul(h),i=o_(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,tt=Bn(t.firstChild),Gt=i,Le=!0,Mr=null,jn=!0,a=ny(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Fs(),l===h){i=Wi(t,i,a);break e}Qt(t,i,l,a)}i=i.child}return i;case 26:return xc(t,i),t===null?(a=bv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=Gc(Ce.current).createElement(a),l[bt]=i,l[jt]=t,Yt(l,a,t),St(l),i.stateNode=l):i.memoizedState=bv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return As(i),t===null&&Le&&(l=i.stateNode=vv(i.type,i.pendingProps,Ce.current),Gt=i,jn=!0,h=tt,Yr(i.type)?(lm=h,tt=Bn(l.firstChild)):tt=h),Qt(t,i,i.pendingProps.children,a),xc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=tt)&&(l=H1(l,i.type,i.pendingProps,jn),l!==null?(i.stateNode=l,Gt=i,tt=Bn(l.firstChild),jn=!1,h=!0):h=!1),h||Vr(i)),As(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,im(h,d)?l=null:_!==null&&im(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=nd(t,i,r1,null,null,a),Ll._currentValue=h),xc(t,i),Qt(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=tt)&&(a=F1(a,i.pendingProps,jn),a!==null?(i.stateNode=a,Gt=i,tt=null,t=!0):t=!1),t||Vr(i)),null;case 13:return l_(t,i,a);case 4:return Vt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Xs(i,null,l,a):Qt(t,i,l,a),i.child;case 11:return Zy(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,kr(i,i.type,l.value),Qt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ks(i),h=Kt(h),l=l(h),i.flags|=1,Qt(t,i,l,a),i.child;case 14:return e_(t,i,i.type,i.pendingProps,a);case 15:return t_(t,i,i.type,i.pendingProps,a);case 19:return c_(t,i,a);case 31:return f1(t,i,a);case 22:return n_(t,i,a,i.pendingProps);case 24:return Ks(i),l=Kt(wt),t===null?(h=Kf(),h===null&&(h=Ze,d=Ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Yf(i),kr(i,wt,h)):((t.lanes&a)!==0&&($f(t,i),gl(i,null,null,a),pl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),kr(i,wt,l)):(l=d.cache,kr(i,wt,l),l!==h.cache&&Hf(i,[wt],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zi(t){t.flags|=4}function Nd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(U_())t.flags|=8192;else throw $s=dc,Qf}else t.flags&=-16777217}function f_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cv(i))if(U_())t.flags|=8192;else throw $s=dc,Qf}function Nc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Lu():536870912,t.lanes|=i,Xa|=i)}function bl(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function m1(t,i,a){var l=i.pendingProps;switch(Uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$i(wt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Pa(i)?Zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zf())),nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Zi(i),d!==null?(nt(i),f_(i,d)):(nt(i),Nd(i,h,null,l,a))):d?d!==t.memoizedState?(Zi(i),nt(i),f_(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Zi(i),nt(i),Nd(i,h,t,l,a)),null;case 27:if(pa(i),a=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ue.current,Pa(i)?Gg(i):(t=vv(h,l,a),i.stateNode=t,Zi(i))}return nt(i),null;case 5:if(pa(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=ue.current,Pa(i))Gg(i);else{var _=Gc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[bt]=i,d[jt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Yt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Zi(i)}}return nt(i),Nd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,Pa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Gt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||lv(t.nodeValue,a)),t||Vr(i,!0)}else t=Gc(t).createTextNode(l),t[bt]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Pa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[bt]=i}else Fs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=zf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(An(i),i):(An(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Pa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=i}else Fs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=zf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(An(i),i):(An(i),null)}return An(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Nc(i,i.updateQueue),nt(i),null);case 4:return st(),t===null&&Wd(i.stateNode.containerInfo),nt(i),null;case 10:return $i(i.type),nt(i),null;case 19:if(ee(yt),l=i.memoizedState,l===null)return nt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)bl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=yc(t),d!==null){for(i.flags|=128,bl(l,!1),t=d.updateQueue,i.updateQueue=t,Nc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)zg(a,t),a=a.sibling;return ae(yt,yt.current&1|2),Le&&Qi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&an()>kc&&(i.flags|=128,h=!0,bl(l,!1),i.lanes=4194304)}else{if(!h)if(t=yc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Nc(i,t),bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return nt(i),null}else 2*an()-l.renderingStartTime>kc&&a!==536870912&&(i.flags|=128,h=!0,bl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=an(),t.sibling=null,a=yt.current,ae(yt,h?a&1|2:a&1),Le&&Qi(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return An(i),Zf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&Nc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ee(Qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(wt),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function p1(t,i){switch(Uf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $i(wt),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return pa(i),null;case 31:if(i.memoizedState!==null){if(An(i),i.alternate===null)throw Error(s(340));Fs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(An(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Fs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(yt),null;case 4:return st(),null;case 10:return $i(i.type),null;case 22:case 23:return An(i),Zf(),t!==null&&ee(Qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $i(wt),null;case 25:return null;default:return null}}function d_(t,i){switch(Uf(i),i.tag){case 3:$i(wt),st();break;case 26:case 27:case 5:pa(i);break;case 4:st();break;case 31:i.memoizedState!==null&&An(i);break;case 13:An(i);break;case 19:ee(yt);break;case 10:$i(i.type);break;case 22:case 23:An(i),Zf(),t!==null&&ee(Qs);break;case 24:$i(wt)}}function Sl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Ye(i,i.return,S)}}function Br(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var N=a,B=S;try{B()}catch(Y){Ye(h,N,Y)}}}l=l.next}while(l!==d)}}catch(Y){Ye(i,i.return,Y)}}function m_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ry(i,a)}catch(l){Ye(t,t.return,l)}}}function p_(t,i,a){a.props=Ws(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function Al(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ye(t,i,h)}}function Oi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function g_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function Dd(t,i,a){try{var l=t.stateNode;P1(l,t.type,a,i),l[jt]=i}catch(h){Ye(t,t.return,h)}}function y_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yr(t.type)||t.tag===4}function Od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Md(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Jn));else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Md(t,i,a),t=t.sibling;t!==null;)Md(t,i,a),t=t.sibling}function Dc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Dc(t,i,a),t=t.sibling;t!==null;)Dc(t,i,a),t=t.sibling}function __(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Yt(i,l,a),i[bt]=t,i[jt]=a}catch(d){Ye(t,t.return,d)}}var er=!1,xt=!1,Vd=!1,v_=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function g1(t,i){if(t=t.containerInfo,tm=Wc,t=Dg(t),Cf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,B=0,Y=0,W=t,q=null;t:for(;;){for(var K;W!==a||h!==0&&W.nodeType!==3||(S=_+h),W!==d||l!==0&&W.nodeType!==3||(N=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(K=W.firstChild)!==null;)q=W,W=K;for(;;){if(W===t)break t;if(q===a&&++B===h&&(S=_),q===d&&++Y===l&&(N=_),(K=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=K}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:t,selectionRange:a},Wc=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Ws(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ye(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}}function E_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:nr(t,a),l&4&&Sl(5,a);break;case 1:if(nr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var h=Ws(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&m_(a),l&512&&Al(a,a.return);break;case 3:if(nr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ry(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&__(a);case 26:case 5:nr(t,a),i===null&&l&4&&g_(a),l&512&&Al(a,a.return);break;case 12:nr(t,a);break;case 31:nr(t,a),l&4&&S_(t,a);break;case 13:nr(t,a),l&4&&A_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=w1.bind(null,a),G1(t,a))));break;case 22:if(l=a.memoizedState!==null||er,!l){i=i!==null&&i.memoizedState!==null||xt,h=er;var d=xt;er=l,(xt=i)&&!d?ir(t,a,(a.subtreeFlags&8772)!==0):nr(t,a),er=h,xt=d}break;case 30:break;default:nr(t,a)}}function T_(t){var i=t.alternate;i!==null&&(t.alternate=null,T_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ea(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,hn=!1;function tr(t,i,a){for(a=a.child;a!==null;)b_(t,i,a),a=a.sibling}function b_(t,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:xt||Oi(a,i),tr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||Oi(a,i);var l=ot,h=hn;Yr(a.type)&&(ot=a.stateNode,hn=!1),tr(t,i,a),Ml(a.stateNode),ot=l,hn=h;break;case 5:xt||Oi(a,i);case 6:if(l=ot,h=hn,ot=null,tr(t,i,a),ot=l,hn=h,ot!==null)if(hn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:ot!==null&&(hn?(t=ot,mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ro(t)):mv(ot,a.stateNode));break;case 4:l=ot,h=hn,ot=a.stateNode.containerInfo,hn=!0,tr(t,i,a),ot=l,hn=h;break;case 0:case 11:case 14:case 15:Br(2,a,i),xt||Br(4,a,i),tr(t,i,a);break;case 1:xt||(Oi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&p_(a,i,l)),tr(t,i,a);break;case 21:tr(t,i,a);break;case 22:xt=(l=xt)||a.memoizedState!==null,tr(t,i,a),xt=l;break;default:tr(t,i,a)}}function S_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ro(t)}catch(a){Ye(i,i.return,a)}}}function A_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ro(t)}catch(a){Ye(i,i.return,a)}}function y1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new v_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new v_),i;default:throw Error(s(435,t.tag))}}function Oc(t,i){var a=y1(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=R1.bind(null,t,l);l.then(h,h)}})}function fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Yr(S.type)){ot=S.stateNode,hn=!1;break e}break;case 5:ot=S.stateNode,hn=!1;break e;case 3:case 4:ot=S.stateNode.containerInfo,hn=!0;break e}S=S.return}if(ot===null)throw Error(s(160));b_(d,_,h),ot=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)w_(i,t),i=i.sibling}var ii=null;function w_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),dn(t),l&4&&(Br(3,t,t.return),Sl(3,t),Br(5,t,t.return));break;case 1:fn(i,t),dn(t),l&512&&(xt||a===null||Oi(a,a.return)),l&64&&er&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ii;if(fn(i,t),dn(t),l&512&&(xt||a===null||Oi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[_i]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Yt(d,l,a),d[bt]=t,St(d),l=d;break e;case"link":var _=wv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Yt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=wv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Yt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,St(d),l=d}t.stateNode=l}else Rv(h,t.type,t.stateNode);else t.stateNode=Av(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Rv(h,t.type,t.stateNode):Av(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dd(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(i,t),dn(t),l&512&&(xt||a===null||Oi(a,a.return)),a!==null&&l&4&&Dd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,t),dn(t),l&512&&(xt||a===null||Oi(a,a.return)),t.flags&32){h=t.stateNode;try{cn(h,"")}catch(ce){Ye(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Dd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Vd=!0);break;case 6:if(fn(i,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ye(t,t.return,ce)}}break;case 3:if(Yc=null,h=ii,ii=Kc(i.containerInfo),fn(i,t),ii=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ro(i.containerInfo)}catch(ce){Ye(t,t.return,ce)}Vd&&(Vd=!1,R_(t));break;case 4:l=ii,ii=Kc(t.stateNode.containerInfo),fn(i,t),dn(t),ii=l;break;case 12:fn(i,t),dn(t);break;case 31:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oc(t,l)));break;case 13:fn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vc=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=er,Y=xt;if(er=B||h,xt=Y||N,fn(i,t),xt=Y,er=B,dn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||er||xt||Zs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var W=N.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){Ye(N,N.return,ce)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ce){Ye(N,N.return,ce)}}}else if(i.tag===18){if(a===null){N=i;try{var K=N.stateNode;h?pv(K,!0):pv(N.stateNode,!1)}catch(ce){Ye(N,N.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Oc(t,a))));break;case 19:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oc(t,l)));break;case 30:break;case 21:break;default:fn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(y_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Od(t);Dc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var S=Od(t);Dc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=Od(t);Md(t,B,N);break;default:throw Error(s(161))}}catch(Y){Ye(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function R_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;R_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function nr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)E_(t,i.alternate,i),i=i.sibling}function Zs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Br(4,i,i.return),Zs(i);break;case 1:Oi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&p_(i,i.return,a),Zs(i);break;case 27:Ml(i.stateNode);case 26:case 5:Oi(i,i.return),Zs(i);break;case 22:i.memoizedState===null&&Zs(i);break;case 30:Zs(i);break;default:Zs(i)}t=t.sibling}}function ir(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ir(h,d,a),Sl(4,d);break;case 1:if(ir(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Ye(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)iy(N[h],S)}catch(B){Ye(l,l.return,B)}}a&&_&64&&m_(d),Al(d,d.return);break;case 27:__(d);case 26:case 5:ir(h,d,a),a&&l===null&&_&4&&g_(d),Al(d,d.return);break;case 12:ir(h,d,a);break;case 31:ir(h,d,a),a&&_&4&&S_(h,d);break;case 13:ir(h,d,a),a&&_&4&&A_(h,d);break;case 22:d.memoizedState===null&&ir(h,d,a),Al(d,d.return);break;case 30:break;default:ir(h,d,a)}i=i.sibling}}function kd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function Ld(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t))}function ri(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)C_(t,i,a,l),i=i.sibling}function C_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(t,i,a,l),h&2048&&Sl(9,i);break;case 1:ri(t,i,a,l);break;case 3:ri(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t)));break;case 12:if(h&2048){ri(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ye(i,i.return,N)}}else ri(t,i,a,l);break;case 31:ri(t,i,a,l);break;case 13:ri(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ri(t,i,a,l):wl(t,i):d._visibility&2?ri(t,i,a,l):(d._visibility|=2,Qa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&kd(_,i);break;case 24:ri(t,i,a,l),h&2048&&Ld(i.alternate,i);break;default:ri(t,i,a,l)}}function Qa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Qa(d,_,S,N,h),Sl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Qa(d,_,S,N,h):wl(d,_):(Y._visibility|=2,Qa(d,_,S,N,h)),h&&B&2048&&kd(_.alternate,_);break;case 24:Qa(d,_,S,N,h),h&&B&2048&&Ld(_.alternate,_);break;default:Qa(d,_,S,N,h)}i=i.sibling}}function wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:wl(a,l),h&2048&&kd(l.alternate,l);break;case 24:wl(a,l),h&2048&&Ld(l.alternate,l);break;default:wl(a,l)}i=i.sibling}}var Rl=8192;function Ya(t,i,a){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)x_(t,i,a),t=t.sibling}function x_(t,i,a){switch(t.tag){case 26:Ya(t,i,a),t.flags&Rl&&t.memoizedState!==null&&iA(a,ii,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,i,a);break;case 3:case 4:var l=ii;ii=Kc(t.stateNode.containerInfo),Ya(t,i,a),ii=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Rl,Rl=16777216,Ya(t,i,a),Rl=l):Ya(t,i,a));break;default:Ya(t,i,a)}}function I_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Cl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,D_(l,t)}I_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)N_(t),t=t.sibling}function N_(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&Br(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Mc(t)):Cl(t);break;default:Cl(t)}}function Mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,D_(l,t)}I_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Br(8,i,i.return),Mc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Mc(i));break;default:Mc(i)}t=t.sibling}}function D_(t,i){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var h=l.sibling,d=l.return;if(T_(l),l===a){Bt=null;break e}if(h!==null){h.return=d,Bt=h;break e}Bt=d}}}var _1={getCacheForType:function(t){var i=Kt(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Kt(wt).controller.signal}},v1=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,Ie=null,De=0,Qe=0,wn=null,qr=!1,$a=!1,Pd=!1,rr=0,ft=0,Hr=0,ea=0,Ud=0,Rn=0,Xa=0,xl=null,mn=null,jd=!1,Vc=0,O_=0,kc=1/0,Lc=null,Fr=null,Lt=0,Gr=null,Ja=null,sr=0,zd=0,Bd=null,M_=null,Il=0,qd=null;function Cn(){return(He&2)!==0&&De!==0?De&-De:$.T!==null?Yd():Pu()}function V_(){if(Rn===0)if((De&536870912)===0||Le){var t=Cs;Cs<<=1,(Cs&3932160)===0&&(Cs=262144),Rn=t}else Rn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),Rn}function pn(t,i,a){(t===Ze&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),Kr(t,De,Rn,!1)),xs(t,a),((He&2)===0||t!==Ze)&&(t===Ze&&((He&2)===0&&(ea|=a),ft===4&&Kr(t,De,Rn,!1)),Mi(t))}function k_(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Yn(t,i),h=l?b1(t,i):Fd(t,i,!0),d=l;do{if(h===0){$a&&!l&&Kr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!E1(a)){h=Fd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=xl;var N=S.current.memoizedState.isDehydrated;if(N&&(Wa(S,_).flags|=256),_=Fd(S,_,!1),_!==2){if(Pd&&!N){S.errorRecoveryDisabledLanes|=d,ea|=d,h=4;break e}d=mn,mn=h,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Wa(t,0),Kr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Kr(l,i,Rn,!qr);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Vc+300-an(),10<h)){if(Kr(l,i,Rn,!qr),pi(l,0,!0)!==0)break e;sr=i,l.timeoutHandle=fv(L_.bind(null,l,a,mn,Lc,jd,i,Rn,ea,Xa,qr,d,"Throttled",-0,0),h);break e}L_(l,a,mn,Lc,jd,i,Rn,ea,Xa,qr,d,null,-0,0)}}break}while(!0);Mi(t)}function L_(t,i,a,l,h,d,_,S,N,B,Y,W,q,K){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},x_(i,d,W);var ce=(d&62914560)===d?Vc-an():(d&4194048)===d?O_-an():0;if(ce=rA(W,ce),ce!==null){sr=d,t.cancelPendingCommit=ce(F_.bind(null,t,i,d,a,l,h,_,S,N,Y,W,null,q,K)),Kr(t,d,_,!B);return}}F_(t,i,d,a,l,h,_,S,N)}function E1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Kr(t,i,a,l){i&=~Ud,i&=~ea,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Is(t,a,i)}function Pc(){return(He&6)===0?(Nl(0),!1):!0}function Hd(){if(Ie!==null){if(Qe===0)var t=Ie.return;else t=Ie,Yi=Gs=null,sd(t),qa=null,fl=0,t=Ie;for(;t!==null;)d_(t.alternate,t),t=t.return;Ie=null}}function Wa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,z1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),sr=0,Hd(),Ze=t,Ie=a=Ki(t.current,null),De=i,Qe=0,wn=null,qr=!1,$a=Yn(t,i),Pd=!1,Xa=Rn=Ud=ea=Hr=ft=0,mn=xl=null,jd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return rr=i,rc(),a}function P_(t,i){Re=null,$.H=El,i===Ba||i===fc?(i=Zg(),Qe=3):i===Qf?(i=Zg(),Qe=4):Qe=i===Td?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,Ie===null&&(ft=1,Rc(t,Ln(i,t.current)))}function U_(){var t=Sn.current;return t===null?!0:(De&4194048)===De?zn===null:(De&62914560)===De||(De&536870912)!==0?t===zn:!1}function j_(){var t=$.H;return $.H=El,t===null?El:t}function z_(){var t=$.A;return $.A=_1,t}function Uc(){ft=4,qr||(De&4194048)!==De&&Sn.current!==null||($a=!0),(Hr&134217727)===0&&(ea&134217727)===0||Ze===null||Kr(Ze,De,Rn,!1)}function Fd(t,i,a){var l=He;He|=2;var h=j_(),d=z_();(Ze!==t||De!==i)&&(Lc=null,Wa(t,i)),i=!1;var _=ft;e:do try{if(Qe!==0&&Ie!==null){var S=Ie,N=wn;switch(Qe){case 8:Hd(),_=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(i=!0);var B=Qe;if(Qe=0,wn=null,Za(t,S,N,B),a&&$a){_=0;break e}break;default:B=Qe,Qe=0,wn=null,Za(t,S,N,B)}}T1(),_=ft;break}catch(Y){P_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Yi=Gs=null,He=l,$.H=h,$.A=d,Ie===null&&(Ze=null,De=0,rc()),_}function T1(){for(;Ie!==null;)B_(Ie)}function b1(t,i){var a=He;He|=2;var l=j_(),h=z_();Ze!==t||De!==i?(Lc=null,kc=an()+500,Wa(t,i)):$a=Yn(t,i);e:do try{if(Qe!==0&&Ie!==null){i=Ie;var d=wn;t:switch(Qe){case 1:Qe=0,wn=null,Za(t,i,d,1);break;case 2:case 9:if(Jg(d)){Qe=0,wn=null,q_(i);break}i=function(){Qe!==2&&Qe!==9||Ze!==t||(Qe=7),Mi(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Jg(d)?(Qe=0,wn=null,q_(i)):(Qe=0,wn=null,Za(t,i,d,7));break;case 5:var _=null;switch(Ie.tag){case 26:_=Ie.memoizedState;case 5:case 27:var S=Ie;if(_?Cv(_):S.stateNode.complete){Qe=0,wn=null;var N=S.sibling;if(N!==null)Ie=N;else{var B=S.return;B!==null?(Ie=B,jc(B)):Ie=null}break t}}Qe=0,wn=null,Za(t,i,d,5);break;case 6:Qe=0,wn=null,Za(t,i,d,6);break;case 8:Hd(),ft=6;break e;default:throw Error(s(462))}}S1();break}catch(Y){P_(t,Y)}while(!0);return Yi=Gs=null,$.H=l,$.A=h,He=a,Ie!==null?0:(Ze=null,De=0,rc(),ft)}function S1(){for(;Ie!==null&&!Ef();)B_(Ie)}function B_(t){var i=h_(t.alternate,t,rr);t.memoizedProps=t.pendingProps,i===null?jc(t):Ie=i}function q_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=s_(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=s_(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:sd(i);default:d_(a,i),i=Ie=zg(i,rr),i=h_(a,i,rr)}t.memoizedProps=t.pendingProps,i===null?jc(t):Ie=i}function Za(t,i,a,l){Yi=Gs=null,sd(i),qa=null,fl=0;var h=i.return;try{if(h1(t,h,i,a,De)){ft=1,Rc(t,Ln(a,t.current)),Ie=null;return}}catch(d){if(h!==null)throw Ie=h,d;ft=1,Rc(t,Ln(a,t.current)),Ie=null;return}i.flags&32768?(Le||l===1?t=!0:$a||(De&536870912)!==0?t=!1:(qr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),H_(i,t)):jc(i)}function jc(t){var i=t;do{if((i.flags&32768)!==0){H_(i,qr);return}t=i.return;var a=m1(i.alternate,i,rr);if(a!==null){Ie=a;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=t}while(i!==null);ft===0&&(ft=5)}function H_(t,i){do{var a=p1(t.alternate,t);if(a!==null){a.flags&=32767,Ie=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=a}while(t!==null);ft=6,Ie=null}function F_(t,i,a,l,h,d,_,S,N){t.cancelPendingCommit=null;do zc();while(Lt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Of,Sf(t,a,d,_,S,N),t===Ze&&(Ie=Ze=null,De=0),Ja=i,Gr=t,sr=a,zd=d,Bd=h,M_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,C1(br,function(){return $_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=se.p,se.p=2,_=He,He|=4;try{g1(t,i,a)}finally{He=_,se.p=h,$.T=l}}Lt=1,G_(),K_(),Q_()}}function G_(){if(Lt===1){Lt=0;var t=Gr,i=Ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{w_(i,t);var d=nm,_=Dg(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Ng(S.ownerDocument.documentElement,S)){if(N!==null&&Cf(S)){var B=N.start,Y=N.end;if(Y===void 0&&(Y=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(Y,S.value.length);else{var W=S.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var K=q.getSelection(),ce=S.textContent.length,ye=Math.min(N.start,ce),We=N.end===void 0?ye:Math.min(N.end,ce);!K.extend&&ye>We&&(_=We,We=ye,ye=_);var P=Ig(S,ye),O=Ig(S,We);if(P&&O&&(K.rangeCount!==1||K.anchorNode!==P.node||K.anchorOffset!==P.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var z=W.createRange();z.setStart(P.node,P.offset),K.removeAllRanges(),ye>We?(K.addRange(z),K.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),K.addRange(z))}}}}for(W=[],K=S;K=K.parentNode;)K.nodeType===1&&W.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<W.length;S++){var X=W[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Wc=!!tm,nm=tm=null}finally{He=h,se.p=l,$.T=a}}t.current=i,Lt=2}}function K_(){if(Lt===2){Lt=0;var t=Gr,i=Ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{E_(t,i.alternate,i)}finally{He=h,se.p=l,$.T=a}}Lt=3}}function Q_(){if(Lt===4||Lt===3){Lt=0,Nu();var t=Gr,i=Ja,a=sr,l=M_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,Ja=Gr=null,Y_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fr=null),qi(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=se.p,se.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{$.T=i,se.p=h}}(sr&3)!==0&&zc(),Mi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===qd?Il++:(Il=0,qd=t):Il=0,Nl(0)}}function Y_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,cl(i)))}function zc(){return G_(),K_(),Q_(),$_()}function $_(){if(Lt!==5)return!1;var t=Gr,i=zd;zd=0;var a=qi(sr),l=$.T,h=se.p;try{se.p=32>a?32:a,$.T=null,a=Bd,Bd=null;var d=Gr,_=sr;if(Lt=0,Ja=Gr=null,sr=0,(He&6)!==0)throw Error(s(331));var S=He;if(He|=4,N_(d.current),C_(d,d.current,_,a),He=S,Nl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Qn,d)}catch{}return!0}finally{se.p=h,$.T=l,Y_(t,i)}}function X_(t,i,a){i=Ln(a,i),i=Ed(t.stateNode,i,2),t=Ur(t,i,2),t!==null&&(xs(t,2),Mi(t))}function Ye(t,i,a){if(t.tag===3)X_(t,t,a);else for(;i!==null;){if(i.tag===3){X_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){t=Ln(a,t),a=Jy(2),l=Ur(i,a,2),l!==null&&(Wy(a,l,i,t),xs(l,2),Mi(l));break}}i=i.return}}function Gd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new v1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Pd=!0,h.add(a),t=A1.bind(null,t,i,a),i.then(t,t))}function A1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(De&a)===a&&(ft===4||ft===3&&(De&62914560)===De&&300>an()-Vc?(He&2)===0&&Wa(t,0):Ud|=a,Xa===De&&(Xa=0)),Mi(t)}function J_(t,i){i===0&&(i=Lu()),t=qs(t,i),t!==null&&(xs(t,i),Mi(t))}function w1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),J_(t,a)}function R1(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),J_(t,a)}function C1(t,i){return kt(t,i)}var Bc=null,eo=null,Kd=!1,qc=!1,Qd=!1,Qr=0;function Mi(t){t!==eo&&t.next===null&&(eo===null?Bc=eo=t:eo=eo.next=t),qc=!0,Kd||(Kd=!0,I1())}function Nl(t,i){if(!Qd&&qc){Qd=!0;do for(var a=!1,l=Bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,tv(l,d))}else d=De,d=pi(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(a=!0,tv(l,d));l=l.next}while(a);Qd=!1}}function x1(){W_()}function W_(){qc=Kd=!1;var t=0;Qr!==0&&j1()&&(t=Qr);for(var i=an(),a=null,l=Bc;l!==null;){var h=l.next,d=Z_(l,i);d===0?(l.next=null,a===null?Bc=h:a.next=h,h===null&&(eo=a)):(a=l,(t!==0||(d&3)!==0)&&(qc=!0)),l=h}Lt!==0&&Lt!==5||Nl(t),Qr!==0&&(Qr=0)}function Z_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),S=1<<_,N=h[_];N===-1?((S&a)===0||(S&l)!==0)&&(h[_]=bf(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=Ze,a=De,a=pi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Tr(l),qi(a)){case 2:case 8:a=zo;break;case 32:a=br;break;case 268435456:a=Du;break;default:a=br}return l=ev.bind(null,t),a=kt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Tr(l),t.callbackPriority=2,t.callbackNode=null,2}function ev(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(zc()&&t.callbackNode!==a)return null;var l=De;return l=pi(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(k_(t,l,i),Z_(t,an()),t.callbackNode!=null&&t.callbackNode===a?ev.bind(null,t):null)}function tv(t,i){if(zc())return null;k_(t,i,!0)}function I1(){B1(function(){(He&6)!==0?kt(jo,x1):W_()})}function Yd(){if(Qr===0){var t=ja;t===0&&(t=di,di<<=1,(di&261888)===0&&(di=256)),Qr=t}return Qr}function nv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function iv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function N1(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=nv((h[jt]||null).action),_=l.submitter;_&&(i=(i=_[jt]||null)?nv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ri("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qr!==0){var N=_?iv(h,_):new FormData(h);md(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?iv(h,_):new FormData(h),md(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var $d=0;$d<Df.length;$d++){var Xd=Df[$d],D1=Xd.toLowerCase(),O1=Xd[0].toUpperCase()+Xd.slice(1);ni(D1,"on"+O1)}ni(Vg,"onAnimationEnd"),ni(kg,"onAnimationIteration"),ni(Lg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(YS,"onTransitionRun"),ni($S,"onTransitionStart"),ni(XS,"onTransitionCancel"),ni(Pg,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function rv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,B=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(Y){ic(Y)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,B=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(Y){ic(Y)}h.currentTarget=null,d=N}}}}function Ne(t,i){var a=i[va];a===void 0&&(a=i[va]=new Set);var l=t+"__bubble";a.has(l)||(sv(i,t,2,!1),a.add(l))}function Jd(t,i,a){var l=0;i&&(l|=4),sv(a,t,l,i)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[Hc]){t[Hc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(M1.has(a)||Jd(a,!1,t),Jd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Hc]||(i[Hc]=!0,Jd("selectionchange",!1,i))}}function sv(t,i,a,l){switch(Vv(i)){case 2:var h=oA;break;case 8:h=lA;break;default:h=dm}a=h.bind(null,i,a,t),h=void 0,!Vs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Zd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=vi(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}xr(function(){var B=d,Y=On(a),W=[];e:{var q=Ug.get(t);if(q!==void 0){var K=Ri,ce=t;switch(t){case"keypress":if(Ls(a)===0)break e;case"keydown":case"keyup":K=ec;break;case"focusin":ce="focus",K=Us;break;case"focusout":ce="blur",K=Us;break;case"beforeblur":case"afterblur":K=Us;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case Vg:case kg:case Lg:K=Qu;break;case Pg:K=w;break;case"scroll":case"scrollend":K=tl;break;case"wheel":K=F;break;case"copy":case"cut":case"paste":K=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Gi;break;case"toggle":case"beforetoggle":K=we}var ye=(i&4)!==0,We=!ye&&(t==="scroll"||t==="scrollend"),P=ye?q!==null?q+"Capture":null:q;ye=[];for(var O=B,z;O!==null;){var X=O;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||P===null||(X=Wn(O,P),X!=null&&ye.push(Ol(O,X,z))),We)break;O=O.return}0<ye.length&&(q=new K(q,ce,null,a,Y),W.push({event:q,listeners:ye}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",q&&a!==Wo&&(ce=a.relatedTarget||a.fromElement)&&(vi(ce)||ce[yi]))break e;if((K||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,K?(ce=a.relatedTarget||a.toElement,K=B,ce=ce?vi(ce):null,ce!==null&&(We=u(ce),ye=ce.tag,ce!==We||ye!==5&&ye!==27&&ye!==6)&&(ce=null)):(K=null,ce=B),K!==ce)){if(ye=nl,X="onMouseLeave",P="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Gi,X="onPointerLeave",P="onPointerEnter",O="pointer"),We=K==null?q:vn(K),z=ce==null?q:vn(ce),q=new ye(X,O+"leave",K,a,Y),q.target=We,q.relatedTarget=z,X=null,vi(Y)===B&&(ye=new ye(P,O+"enter",ce,a,Y),ye.target=z,ye.relatedTarget=We,X=ye),We=X,K&&ce)t:{for(ye=V1,P=K,O=ce,z=0,X=P;X;X=ye(X))z++;X=0;for(var me=O;me;me=ye(me))X++;for(;0<z-X;)P=ye(P),z--;for(;0<X-z;)O=ye(O),X--;for(;z--;){if(P===O||O!==null&&P===O.alternate){ye=P;break t}P=ye(P),O=ye(O)}ye=null}else ye=null;K!==null&&av(W,q,K,ye,!1),ce!==null&&We!==null&&av(W,We,ce,ye,!0)}}e:{if(q=B?vn(B):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var ze=Sg;else if(Tg(q))if(Ag)ze=GS;else{ze=HS;var he=qS}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Sa(B.elementType)&&(ze=Sg):ze=FS;if(ze&&(ze=ze(t,B))){bg(W,ze,a,Y);break e}he&&he(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&$o(q,"number",q.value)}switch(he=B?vn(B):window,t){case"focusin":(Tg(he)||he.contentEditable==="true")&&(Da=he,xf=B,ol=null);break;case"focusout":ol=xf=Da=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Og(W,a,Y);break;case"selectionchange":if(QS)break;case"keydown":case"keyup":Og(W,a,Y)}var xe;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Na?js(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ii&&a.locale!=="ko"&&(Na||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Na&&(xe=el()):(wi=Y,Zo="value"in wi?wi.value:wi.textContent,Na=!0)),he=Fc(B,Oe),0<he.length&&(Oe=new xi(Oe,t,null,a,Y),W.push({event:Oe,listeners:he}),xe?Oe.data=xe:(xe=Ia(a),xe!==null&&(Oe.data=xe)))),(xe=Vn?US(t,a):jS(t,a))&&(Oe=Fc(B,"onBeforeInput"),0<Oe.length&&(he=new xi("onBeforeInput","beforeinput",null,a,Y),W.push({event:he,listeners:Oe}),he.data=xe)),N1(W,t,B,a,Y)}rv(W,i)})}function Ol(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Fc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Wn(t,a),h!=null&&l.unshift(Ol(t,h,d)),h=Wn(t,i),h!=null&&l.push(Ol(t,h,d))),t.tag===3)return l;t=t.return}return[]}function V1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function av(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,B=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||B===null||(N=B,h?(B=Wn(a,d),B!=null&&_.unshift(Ol(a,B,N))):h||(B=Wn(a,d),B!=null&&_.push(Ol(a,B,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var k1=/\r\n?/g,L1=/\u0000|\uFFFD/g;function ov(t){return(typeof t=="string"?t:""+t).replace(k1,`
`).replace(L1,"")}function lv(t,i){return i=ov(i),ov(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&cn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,l);break;case"style":Jo(t,l,d);break;case"data":if(i!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Aa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Aa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),Ta(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ta(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fu.get(a)||a,Ta(t,a,l))}}function em(t,i,a,l,h,d){switch(a){case"style":Jo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ta(t,a,l)}}}function Yt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var S=d=_=h=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":_=Y;break;case"checked":N=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Je(t,i,l,Y,a,null)}}Bu(t,d,S,N,B,_,h,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Je(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Ar(t,!!l,i,!1):a!=null&&Ar(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Je(t,i,_,S,a,null)}wr(t,l,h,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,i,N,l,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Ne(Dl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if(Sa(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&em(t,i,Y,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Je(t,i,S,l,a,null))}function P1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,N=null,B=null,Y=null;for(K in a){var W=a[K];if(a.hasOwnProperty(K)&&W!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=W;default:l.hasOwnProperty(K)||Je(t,i,K,null,l,W)}}for(var q in l){var K=l[q];if(W=a[q],l.hasOwnProperty(q)&&(K!=null||W!=null))switch(q){case"type":d=K;break;case"name":h=K;break;case"checked":B=K;break;case"defaultChecked":Y=K;break;case"value":_=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==W&&Je(t,i,q,K,l,W)}}ba(t,_,S,N,B,Y,d,h);return;case"select":K=_=S=q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&Je(t,i,h,d,l,N)}i=S,a=_,l=K,q!=null?Ar(t,!!a,q,!1):!!l!=!!a&&(i!=null?Ar(t,!!a,i,!0):Ar(t,!!a,a?[]:"",!1));return;case"textarea":K=q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}qu(t,q,K);return;case"option":for(var ce in a)q=a[ce],a.hasOwnProperty(ce)&&q!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:Je(t,i,ce,null,l,q));for(N in l)q=l[N],K=a[N],l.hasOwnProperty(N)&&q!==K&&(q!=null||K!=null)&&(N==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":Je(t,i,N,q,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye)&&Je(t,i,ye,null,l,q);for(B in l)if(q=l[B],K=a[B],l.hasOwnProperty(B)&&q!==K&&(q!=null||K!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Je(t,i,B,q,l,K)}return;default:if(Sa(i)){for(var We in a)q=a[We],a.hasOwnProperty(We)&&q!==void 0&&!l.hasOwnProperty(We)&&em(t,i,We,void 0,l,q);for(Y in l)q=l[Y],K=a[Y],!l.hasOwnProperty(Y)||q===K||q===void 0&&K===void 0||em(t,i,Y,q,l,K);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&Je(t,i,P,null,l,q);for(W in l)q=l[W],K=a[W],!l.hasOwnProperty(W)||q===K||q==null&&K==null||Je(t,i,W,q,l,K)}function uv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&uv(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>S)break;var Y=N.transferSize,W=N.initiatorType;Y&&uv(W)&&(N=N.responseEnd,_+=Y*(N<S?1:(S-B)/(N-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var tm=null,nm=null;function Gc(t){return t.nodeType===9?t:t.ownerDocument}function cv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function im(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rm=null;function j1(){var t=window.event;return t&&t.type==="popstate"?t===rm?!1:(rm=t,!0):(rm=null,!1)}var fv=typeof setTimeout=="function"?setTimeout:void 0,z1=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,B1=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(t){return dv.resolve(null).then(t).catch(q1)}:fv;function q1(t){setTimeout(function(){throw t})}function Yr(t){return t==="head"}function mv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),ro(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ml(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[_i]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ml(t.ownerDocument.body);a=h}while(a);ro(i)}function pv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),Ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function H1(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_i])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function F1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function gv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Bn(t.nextSibling),t===null))return null;return t}function am(t){return t.data==="$?"||t.data==="$~"}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function G1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var lm=null;function yv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Bn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function _v(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function vv(t,i,a){switch(i=Gc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ea(t)}var qn=new Map,Ev=new Set;function Kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ar=se.d;se.d={f:K1,r:Q1,D:Y1,C:$1,L:X1,m:J1,X:Z1,S:W1,M:eA};function K1(){var t=ar.f(),i=Pc();return t||i}function Q1(t){var i=Dn(t);i!==null&&i.tag===5&&i.type==="form"?Py(i):ar.r(t)}var to=typeof document>"u"?null:document;function Tv(t,i,a){var l=to;if(l&&typeof i=="string"&&i){var h=un(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ev.has(h)||(Ev.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Yt(i,"link",t),St(i),l.head.appendChild(i)))}}function Y1(t){ar.D(t),Tv("dns-prefetch",t,null)}function $1(t,i){ar.C(t,i),Tv("preconnect",t,i)}function X1(t,i,a){ar.L(t,i,a);var l=to;if(l&&t&&i){var h='link[rel="preload"][as="'+un(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+un(a.imageSizes)+'"]')):h+='[href="'+un(t)+'"]';var d=h;switch(i){case"style":d=no(t);break;case"script":d=io(t)}qn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),qn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Vl(d))||i==="script"&&l.querySelector(kl(d))||(i=l.createElement("link"),Yt(i,"link",t),St(i),l.head.appendChild(i)))}}function J1(t,i){ar.m(t,i);var a=to;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=io(t)}if(!qn.has(d)&&(t=b({rel:"modulepreload",href:t},i),qn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),Yt(l,"link",t),St(l),a.head.appendChild(l)}}}function W1(t,i,a){ar.S(t,i,a);var l=to;if(l&&t){var h=Ei(l).hoistableStyles,d=no(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Vl(d)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=qn.get(d))&&um(t,a);var N=_=l.createElement("link");St(N),Yt(N,"link",t),N._p=new Promise(function(B,Y){N.onload=B,N.onerror=Y}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Qc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function Z1(t,i){ar.X(t,i);var a=to;if(a&&t){var l=Ei(a).hoistableScripts,h=io(t),d=l.get(h);d||(d=a.querySelector(kl(h)),d||(t=b({src:t,async:!0},i),(i=qn.get(h))&&cm(t,i),d=a.createElement("script"),St(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function eA(t,i){ar.M(t,i);var a=to;if(a&&t){var l=Ei(a).hoistableScripts,h=io(t),d=l.get(h);d||(d=a.querySelector(kl(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=qn.get(h))&&cm(t,i),d=a.createElement("script"),St(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function bv(t,i,a,l){var h=(h=Ce.current)?Kc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=no(a.href),a=Ei(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=no(a.href);var d=Ei(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Vl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),d||tA(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=io(a),a=Ei(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function no(t){return'href="'+un(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Sv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function tA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Yt(i,"link",a),St(i),t.head.appendChild(i))}function io(t){return'[src="'+un(t)+'"]'}function kl(t){return"script[async]"+t}function Av(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return i.instance=l,St(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Yt(l,"style",h),Qc(l,a.precedence,t),i.instance=l;case"stylesheet":h=no(a.href);var d=t.querySelector(Vl(h));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=Sv(a),(h=qn.get(h))&&um(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Yt(d,"link",l),i.state.loading|=4,Qc(d,a.precedence,t),i.instance=d;case"script":return d=io(a.src),(h=t.querySelector(kl(d)))?(i.instance=h,St(h),h):(l=a,(h=qn.get(d))&&(l=b({},a),cm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Yt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Qc(l,a.precedence,t));return i.instance}function Qc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Yc=null;function wv(t,i,a){if(Yc===null){var l=new Map,h=Yc=new Map;h.set(a,l)}else h=Yc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[_i]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Rv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function nA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Cv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function iA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=no(l.href),d=i.querySelector(Vl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=$c.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=Sv(l),(h=qn.get(h))&&um(l,h),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Yt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=$c.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var hm=0;function rA(t,i){return t.stylesheets&&t.count===0&&Jc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Jc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&hm===0&&(hm=62500*U1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Jc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>hm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function $c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xc=null;function Jc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xc=new Map,i.forEach(sA,t),Xc=null,$c.call(t))}function sA(t,i){if(!(i.state.loading&4)){var a=Xc.get(t);if(a)var l=a.get(null);else{a=new Map,Xc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=$c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ll={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function aA(t,i,a,l,h,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function xv(t,i,a,l,h,d,_,S,N,B,Y,W){return t=new aA(t,i,a,_,N,B,Y,W,S),i=1,d===!0&&(i|=24),d=bn(3,null,null,i),t.current=d,d.stateNode=t,i=Ff(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Yf(d),t}function Iv(t){return t?(t=Va,t):Va}function Nv(t,i,a,l,h,d){h=Iv(h),l.context===null?l.context=h:l.pendingContext=h,l=Pr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ur(t,l,i),a!==null&&(pn(a,t,i),ml(a,t,i))}function Dv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function fm(t,i){Dv(t,i),(t=t.alternate)&&Dv(t,i)}function Ov(t){if(t.tag===13||t.tag===31){var i=qs(t,67108864);i!==null&&pn(i,t,67108864),fm(t,67108864)}}function Mv(t){if(t.tag===13||t.tag===31){var i=Cn();i=Ns(i);var a=qs(t,i);a!==null&&pn(a,t,i),fm(t,i)}}var Wc=!0;function oA(t,i,a,l){var h=$.T;$.T=null;var d=se.p;try{se.p=2,dm(t,i,a,l)}finally{se.p=d,$.T=h}}function lA(t,i,a,l){var h=$.T;$.T=null;var d=se.p;try{se.p=8,dm(t,i,a,l)}finally{se.p=d,$.T=h}}function dm(t,i,a,l){if(Wc){var h=mm(l);if(h===null)Zd(t,i,l,Zc,a),kv(t,l);else if(cA(h,t,i,a,l))l.stopPropagation();else if(kv(t,l),i&4&&-1<uA.indexOf(t)){for(;h!==null;){var d=Dn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=mi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-pt(_);S.entanglements[1]|=N,_&=~N}Mi(d),(He&6)===0&&(kc=an()+500,Nl(0))}}break;case 31:case 13:S=qs(d,2),S!==null&&pn(S,d,2),Pc(),fm(d,2)}if(d=mm(l),d===null&&Zd(t,i,l,Zc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Zd(t,i,l,null,a)}}function mm(t){return t=On(t),pm(t)}var Zc=null;function pm(t){if(Zc=null,t=vi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Zc=t,null}function Vv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rs()){case jo:return 2;case zo:return 8;case br:case Tf:return 32;case Du:return 268435456;default:return 32}default:return 32}}var gm=!1,$r=null,Xr=null,Jr=null,Pl=new Map,Ul=new Map,Wr=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kv(t,i){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Pl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(i.pointerId)}}function jl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Dn(i),i!==null&&Ov(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function cA(t,i,a,l,h){switch(i){case"focusin":return $r=jl($r,t,i,a,l,h),!0;case"dragenter":return Xr=jl(Xr,t,i,a,l,h),!0;case"mouseover":return Jr=jl(Jr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Pl.set(d,jl(Pl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ul.set(d,jl(Ul.get(d)||null,t,i,a,l,h)),!0}return!1}function Lv(t){var i=vi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,$n(t.priority,function(){Mv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,$n(t.priority,function(){Mv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Wo=l,a.target.dispatchEvent(l),Wo=null}else return i=Dn(a),i!==null&&Ov(i),t.blockedOn=a,!1;i.shift()}return!0}function Pv(t,i,a){eh(t)&&a.delete(i)}function hA(){gm=!1,$r!==null&&eh($r)&&($r=null),Xr!==null&&eh(Xr)&&(Xr=null),Jr!==null&&eh(Jr)&&(Jr=null),Pl.forEach(Pv),Ul.forEach(Pv)}function th(t,i){t.blockedOn===i&&(t.blockedOn=null,gm||(gm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hA)))}var nh=null;function Uv(t){nh!==t&&(nh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){nh===t&&(nh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(pm(l||a)===null)continue;break}var d=Dn(a);d!==null&&(t.splice(i,3),i-=3,md(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ro(t){function i(N){return th(N,t)}$r!==null&&th($r,t),Xr!==null&&th(Xr,t),Jr!==null&&th(Jr,t),Pl.forEach(i),Ul.forEach(i);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)Lv(a),a.blockedOn===null&&Wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[jt]||null;if(typeof d=="function")_||Uv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[jt]||null)S=_.formAction;else if(pm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Uv(a)}}}function jv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function ym(t){this._internalRoot=t}ih.prototype.render=ym.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Cn();Nv(a,l,t,i,null,null)},ih.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Nv(t.current,2,null,t,null,null),Pc(),i[yi]=null}};function ih(t){this._internalRoot=t}ih.prototype.unstable_scheduleHydration=function(t){if(t){var i=Pu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Wr.length&&i!==0&&i<Wr[a].priority;a++);Wr.splice(a,0,t),a===0&&Lv(t)}};var zv=e.version;if(zv!=="19.2.4")throw Error(s(527,zv,"19.2.4"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var fA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{Qn=rh.inject(fA),Ht=rh}catch{}}return Bl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Qy,d=Yy,_=$y;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=xv(t,1,!1,null,null,a,l,null,h,d,_,jv),t[yi]=i.current,Wd(t),new ym(i)},Bl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Qy,_=Yy,S=$y,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=xv(t,1,!0,i,a??null,l,h,N,d,_,S,jv),i.context=Iv(null),a=i.current,l=Cn(),l=Ns(l),h=Pr(l),h.callback=null,Ur(a,h,l),a=l,i.current.lanes=a,xs(i,a),Mi(i),t[yi]=i.current,Wd(t),new ih(i)},Bl.version="19.2.4",Bl}var Xv;function AA(){if(Xv)return Em.exports;Xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=SA(),Em.exports}var wA=AA();var Jv="popstate";function RA(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return jm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:iu(o)}return xA(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function li(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CA(){return Math.random().toString(36).substring(2,10)}function Wv(r,e){return{usr:r.state,key:r.key,idx:e}}function jm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ao(e):e,state:n,key:e&&e.key||s||CA()}}function iu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ao(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function xA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let G=E(),Z=G==null?null:G-p;p=G,g&&g({action:m,location:Q.location,delta:Z})}function A(G,Z){m="PUSH";let ne=jm(Q.location,G,Z);p=E()+1;let ie=Wv(ne,p),fe=Q.createHref(ne);try{f.pushState(ie,"",fe)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(fe)}u&&g&&g({action:m,location:Q.location,delta:1})}function k(G,Z){m="REPLACE";let ne=jm(Q.location,G,Z);p=E();let ie=Wv(ne,p),fe=Q.createHref(ne);f.replaceState(ie,"",fe),u&&g&&g({action:m,location:Q.location,delta:0})}function H(G){return IA(G)}let Q={get action(){return m},get location(){return r(o,f)},listen(G){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Jv,b),g=G,()=>{o.removeEventListener(Jv,b),g=null}},createHref(G){return e(o,G)},createURL:H,encodeLocation(G){let Z=H(G);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:A,replace:k,go(G){return f.go(G)}};return Q}function IA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:iu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function qE(r,e,n="/"){return NA(r,e,n,!1)}function NA(r,e,n,s){let o=typeof e=="string"?Ao(e):e,u=fr(o.pathname||"/",n);if(u==null)return null;let f=HE(r);DA(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=qA(u);m=zA(f[g],p,s)}return m}function HE(r,e=[],n=[],s="",o=!1){let u=(f,m,g=o,p)=>{let E={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=ur([s,E.relativePath]),A=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),HE(f.children,e,A,b,g)),!(f.path==null&&!f.index)&&e.push({path:b,score:UA(b,f.index),routesMeta:A})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of FE(f.path))u(f,m,!0,g)}),e}function FE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=FE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function DA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:jA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var OA=/^:[\w-]+$/,MA=3,VA=2,kA=1,LA=10,PA=-2,Zv=r=>r==="*";function UA(r,e){let n=r.split("/"),s=n.length;return n.some(Zv)&&(s+=PA),e&&(s+=VA),n.filter(o=>!Zv(o)).reduce((o,u)=>o+(OA.test(u)?MA:u===""?kA:LA),s)}function jA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function zA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=wh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),A=g.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=wh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:ur([u,b.pathname]),pathnameBase:KA(ur([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=ur([u,b.pathnameBase]))}return f}function wh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=BA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:b},A)=>{if(E==="*"){let H=m[A]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const k=m[A];return b&&!k?p[E]=void 0:p[E]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:r}}function BA(r,e=!1,n=!0){li(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function qA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function fr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var HA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function FA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ao(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=e0(n.substring(1),"/"):u=e0(n,e)):u=e,{pathname:u,search:QA(s),hash:YA(o)}}function e0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Am(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pp(r){let e=GA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function gp(r,e,n,s=!1){let o;typeof r=="string"?o=Ao(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}m=b>=0?e[b]:"/"}let g=FA(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var ur=r=>r.join("/").replace(/\/\/+/g,"/"),KA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),QA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,YA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,$A=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function XA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function JA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var GE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function KE(r,e){let n=r;if(typeof n!="string"||!HA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(GE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=fr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{li(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QE=["POST","PUT","PATCH","DELETE"];new Set(QE);var WA=["GET",...QE];new Set(WA);var wo=L.createContext(null);wo.displayName="DataRouter";var Kh=L.createContext(null);Kh.displayName="DataRouterState";var ZA=L.createContext(!1),YE=L.createContext({isTransitioning:!1});YE.displayName="ViewTransition";var ew=L.createContext(new Map);ew.displayName="Fetchers";var tw=L.createContext(null);tw.displayName="Await";var In=L.createContext(null);In.displayName="Navigation";var pu=L.createContext(null);pu.displayName="Location";var hi=L.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var yp=L.createContext(null);yp.displayName="RouteError";var $E="REACT_ROUTER_ERROR",nw="REDIRECT",iw="ROUTE_ERROR_RESPONSE";function rw(r){if(r.startsWith(`${$E}:${nw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function sw(r){if(r.startsWith(`${$E}:${iw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new $A(e.status,e.statusText,e.data)}catch{}}function aw(r,{relative:e}={}){lt(Ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(In),{hash:o,pathname:u,search:f}=yu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ur([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Ro(){return L.useContext(pu)!=null}function Es(){return lt(Ro(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(pu).location}var XE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JE(r){L.useContext(In).static||L.useLayoutEffect(r)}function gu(){let{isDataRoute:r}=L.useContext(hi);return r?Tw():ow()}function ow(){lt(Ro(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(wo),{basename:e,navigator:n}=L.useContext(In),{matches:s}=L.useContext(hi),{pathname:o}=Es(),u=JSON.stringify(pp(s)),f=L.useRef(!1);return JE(()=>{f.current=!0}),L.useCallback((g,p={})=>{if(li(f.current,XE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=gp(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ur([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,r])}var lw=L.createContext(null);function uw(r){let e=L.useContext(hi).outlet;return L.useMemo(()=>e&&L.createElement(lw.Provider,{value:r},e),[e,r])}function yu(r,{relative:e}={}){let{matches:n}=L.useContext(hi),{pathname:s}=Es(),o=JSON.stringify(pp(n));return L.useMemo(()=>gp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function cw(r,e){return WE(r,e)}function WE(r,e,n,s,o){lt(Ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(In),{matches:f}=L.useContext(hi),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let ne=b&&b.path||"";eT(p,!b||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let A=Es(),k;if(e){let ne=typeof e=="string"?Ao(e):e;lt(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),k=ne}else k=A;let H=k.pathname||"/",Q=H;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");Q="/"+H.replace(/^\//,"").split("/").slice(ne.length).join("/")}let G=qE(r,{pathname:Q});li(b||G!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),li(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=pw(G&&G.map(ne=>Object.assign({},ne,{params:Object.assign({},g,ne.params),pathname:ur([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:ur([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,n,s,o);return e&&Z?L.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},Z):Z}function hw(){let r=Ew(),e=XA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,f)}var fw=L.createElement(hw,null),ZE=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=sw(r.digest);n&&(r=n)}let e=r!==void 0?L.createElement(hi.Provider,{value:this.props.routeContext},L.createElement(yp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?L.createElement(dw,{error:r},e):e}};ZE.contextType=ZA;var wm=new WeakMap;function dw({children:r,error:e}){let{basename:n}=L.useContext(In);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=rw(e.digest);if(s){let o=wm.get(e);if(o)throw o;let u=KE(s.location,n);if(GE&&!wm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw wm.set(e,f),f}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function mw({routeContext:r,match:e,children:n}){let s=L.useContext(wo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(hi.Provider,{value:r},n)}function pw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=E),b.route.id){let{loaderData:A,errors:k}=n,H=b.route.loader&&!A.hasOwnProperty(b.route.id)&&(!k||k[b.route.id]===void 0);if(b.route.lazy||H){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&s?(E,b)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:JA(n.matches),errorInfo:b})}:void 0;return u.reduceRight((E,b,A)=>{let k,H=!1,Q=null,G=null;n&&(k=f&&b.route.id?f[b.route.id]:void 0,Q=b.route.errorElement||fw,m&&(g<0&&A===0?(eT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,G=null):g===A&&(H=!0,G=b.route.hydrateFallbackElement||null)));let Z=e.concat(u.slice(0,A+1)),ne=()=>{let ie;return k?ie=Q:H?ie=G:b.route.Component?ie=L.createElement(b.route.Component,null):b.route.element?ie=b.route.element:ie=E,L.createElement(mw,{match:b,routeContext:{outlet:E,matches:Z,isDataRoute:n!=null},children:ie})};return n&&(b.route.ErrorBoundary||b.route.errorElement||A===0)?L.createElement(ZE,{location:n.location,revalidation:n.revalidation,component:Q,error:k,children:ne(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:p}):ne()},null)}function _p(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gw(r){let e=L.useContext(wo);return lt(e,_p(r)),e}function yw(r){let e=L.useContext(Kh);return lt(e,_p(r)),e}function _w(r){let e=L.useContext(hi);return lt(e,_p(r)),e}function vp(r){let e=_w(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function vw(){return vp("useRouteId")}function Ew(){let r=L.useContext(yp),e=yw("useRouteError"),n=vp("useRouteError");return r!==void 0?r:e.errors?.[n]}function Tw(){let{router:r}=gw("useNavigate"),e=vp("useNavigate"),n=L.useRef(!1);return JE(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{li(n.current,XE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var t0={};function eT(r,e,n){!e&&!t0[r]&&(t0[r]=!0,li(!1,n))}L.memo(bw);function bw({routes:r,future:e,state:n,onError:s}){return WE(r,void 0,n,s,e)}function Xl({to:r,replace:e,state:n,relative:s}){lt(Ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(In);li(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(hi),{pathname:f}=Es(),m=gu(),g=gp(r,pp(u),f,s==="path"),p=JSON.stringify(g);return L.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function tT(r){return uw(r.context)}function en(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Sw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!Ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=L.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Ao(n));let{pathname:p="/",search:E="",hash:b="",state:A=null,key:k="default"}=n,H=L.useMemo(()=>{let Q=fr(p,m);return Q==null?null:{location:{pathname:Q,search:E,hash:b,state:A,key:k},navigationType:s}},[m,p,E,b,A,k,s]);return li(H!=null,`<Router basename="${m}"> is not able to match the URL "${p}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:L.createElement(In.Provider,{value:g},L.createElement(pu.Provider,{children:e,value:H}))}function Aw({children:r,location:e}){return cw(zm(r),e)}function zm(r,e=[]){let n=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,zm(s.props.children,u));return}lt(s.type===en,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=zm(s.props.children,u)),n.push(f)}),n}var fh="get",dh="application/x-www-form-urlencoded";function Qh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function ww(r){return Qh(r)&&r.tagName.toLowerCase()==="button"}function Rw(r){return Qh(r)&&r.tagName.toLowerCase()==="form"}function Cw(r){return Qh(r)&&r.tagName.toLowerCase()==="input"}function xw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Iw(r,e){return r.button===0&&(!e||e==="_self")&&!xw(r)}var sh=null;function Nw(){if(sh===null)try{new FormData(document.createElement("form"),0),sh=!1}catch{sh=!0}return sh}var Dw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(r){return r!=null&&!Dw.has(r)?(li(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):r}function Ow(r,e){let n,s,o,u,f;if(Rw(r)){let m=r.getAttribute("action");s=m?fr(m,e):null,n=r.getAttribute("method")||fh,o=Rm(r.getAttribute("enctype"))||dh,u=new FormData(r)}else if(ww(r)||Cw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?fr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||fh,o=Rm(r.getAttribute("formenctype"))||Rm(m.getAttribute("enctype"))||dh,u=new FormData(m,r),!Nw()){let{name:p,type:E,value:b}=r;if(E==="image"){let A=p?`${p}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else p&&u.append(p,b)}}else{if(Qh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fh,s=null,o=dh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ep(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Mw(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&fr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Vw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Lw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Vw(u,n);return f.links?f.links():[]}return[]}));return zw(s.flat(1).filter(kw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function n0(r,e,n,s,o,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Pw(r,e,{includeHydrateFallback:n}={}){return Uw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Uw(r){return[...new Set(r)]}function jw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function zw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(jw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function nT(){let r=L.useContext(wo);return Ep(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Bw(){let r=L.useContext(Kh);return Ep(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Tp=L.createContext(void 0);Tp.displayName="FrameworkContext";function iT(){let r=L.useContext(Tp);return Ep(r,"You must render this element inside a <HydratedRouter> element"),r}function qw(r,e){let n=L.useContext(Tp),[s,o]=L.useState(!1),[u,f]=L.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:b}=e,A=L.useRef(null);L.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=Z=>{Z.forEach(ne=>{f(ne.isIntersecting)})},G=new IntersectionObserver(Q,{threshold:.5});return A.current&&G.observe(A.current),()=>{G.disconnect()}}},[r]),L.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let k=()=>{o(!0)},H=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:ql(m,k),onBlur:ql(g,H),onMouseEnter:ql(p,k),onMouseLeave:ql(E,H),onTouchStart:ql(b,k)}]:[!1,A,{}]}function ql(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Hw({page:r,...e}){let{router:n}=nT(),s=L.useMemo(()=>qE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?L.createElement(Gw,{page:r,matches:s,...e}):null}function Fw(r){let{manifest:e,routeModules:n}=iT(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return Lw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Gw({page:r,matches:e,...n}){let s=Es(),{future:o,manifest:u,routeModules:f}=iT(),{basename:m}=nT(),{loaderData:g,matches:p}=Bw(),E=L.useMemo(()=>n0(r,e,p,u,s,"data"),[r,e,p,u,s]),b=L.useMemo(()=>n0(r,e,p,u,s,"assets"),[r,e,p,u,s]),A=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Q=new Set,G=!1;if(e.forEach(ne=>{let ie=u.routes[ne.route.id];!ie||!ie.hasLoader||(!E.some(fe=>fe.route.id===ne.route.id)&&ne.route.id in g&&f[ne.route.id]?.shouldRevalidate||ie.hasClientLoader?G=!0:Q.add(ne.route.id))}),Q.size===0)return[];let Z=Mw(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return G&&Q.size>0&&Z.searchParams.set("_routes",e.filter(ne=>Q.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[Z.pathname+Z.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,e,r,f]),k=L.useMemo(()=>Pw(b,u),[b,u]),H=Fw(b);return L.createElement(L.Fragment,null,A.map(Q=>L.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),k.map(Q=>L.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),H.map(({key:Q,link:G})=>L.createElement("link",{key:Q,nonce:n.nonce,...G,crossOrigin:G.crossOrigin??n.crossOrigin})))}function Kw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Qw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qw&&(window.__reactRouterVersion="7.13.0")}catch{}function Yw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=L.useRef();o.current==null&&(o.current=RA({window:s,v5Compat:!0}));let u=o.current,[f,m]=L.useState({action:u.action,location:u.location}),g=L.useCallback(p=>{n===!1?m(p):L.startTransition(()=>m(p))},[n]);return L.useLayoutEffect(()=>u.listen(g),[u,g]),L.createElement(Sw,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var rT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ss=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:A,...k},H){let{basename:Q,unstable_useTransitions:G}=L.useContext(In),Z=typeof p=="string"&&rT.test(p),ne=KE(p,Q);p=ne.to;let ie=aw(p,{relative:o}),[fe,de,be]=qw(s,k),x=Jw(p,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:A,unstable_useTransitions:G});function C(M){e&&e(M),M.defaultPrevented||x(M)}let R=L.createElement("a",{...k,...be,href:ne.absoluteURL||ie,onClick:ne.isExternal||u?e:C,ref:Kw(H,de),target:g,"data-discover":!Z&&n==="render"?"true":void 0});return fe&&!Z?L.createElement(L.Fragment,null,R,L.createElement(Hw,{page:ie})):R});ss.displayName="Link";var sT=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},E){let b=yu(f,{relative:p.relative}),A=Es(),k=L.useContext(Kh),{navigator:H,basename:Q}=L.useContext(In),G=k!=null&&nR(b)&&m===!0,Z=H.encodeLocation?H.encodeLocation(b).pathname:b.pathname,ne=A.pathname,ie=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,Z=Z.toLowerCase()),ie&&Q&&(ie=fr(ie,Q)||ie);const fe=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let de=ne===Z||!o&&ne.startsWith(Z)&&ne.charAt(fe)==="/",be=ie!=null&&(ie===Z||!o&&ie.startsWith(Z)&&ie.charAt(Z.length)==="/"),x={isActive:de,isPending:be,isTransitioning:G},C=de?e:void 0,R;typeof s=="function"?R=s(x):R=[s,de?"active":null,be?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(x):u;return L.createElement(ss,{...p,"aria-current":C,className:R,ref:E,style:M,to:f,viewTransition:m},typeof g=="function"?g(x):g)});sT.displayName="NavLink";var $w=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=fh,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:A,...k},H)=>{let{unstable_useTransitions:Q}=L.useContext(In),G=eR(),Z=tR(m,{relative:p}),ne=f.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&rT.test(m),fe=de=>{if(g&&g(de),de.defaultPrevented)return;de.preventDefault();let be=de.nativeEvent.submitter,x=be?.getAttribute("formmethod")||f,C=()=>G(be||de.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:A});Q&&n!==!1?L.startTransition(()=>C()):C()};return L.createElement("form",{ref:H,method:ne,action:Z,onSubmit:s?g:fe,...k,"data-discover":!ie&&r==="render"?"true":void 0})});$w.displayName="Form";function Xw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aT(r){let e=L.useContext(wo);return lt(e,Xw(r)),e}function Jw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=gu(),E=Es(),b=yu(r,{relative:u});return L.useCallback(A=>{if(Iw(A,e)){A.preventDefault();let k=n!==void 0?n:iu(E)===iu(b),H=()=>p(r,{replace:k,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?L.startTransition(()=>H()):H()}},[E,p,b,n,s,e,r,o,u,f,m,g])}var Ww=0,Zw=()=>`__${String(++Ww)}__`;function eR(){let{router:r}=aT("useSubmit"),{basename:e}=L.useContext(In),n=vw(),s=r.fetch,o=r.navigate;return L.useCallback(async(u,f={})=>{let{action:m,method:g,encType:p,formData:E,body:b}=Ow(u,e);if(f.navigate===!1){let A=f.fetcherKey||Zw();await s(A,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||g,formEncType:f.encType||p,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||g,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function tR(r,{relative:e}={}){let{basename:n}=L.useContext(In),s=L.useContext(hi);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...yu(r||".",{relative:e})},f=Es();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ur([n,u.pathname])),iu(u)}function nR(r,{relative:e}={}){let n=L.useContext(YE);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=aT("useViewTransitionState"),o=yu(r,{relative:e});if(!n.isTransitioning)return!1;let u=fr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=fr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return wh(o.pathname,f)!=null||wh(o.pathname,u)!=null}const iR=()=>{};var i0={};const oT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},rR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let A=(m&15)<<2|p>>6,k=p&63;g||(k=64,f||(A=64)),s.push(n[E],n[b],n[A],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(oT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):rR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||b==null)throw new sR;const A=u<<2|m>>4;if(s.push(A),p!==64){const k=m<<4&240|p>>2;if(s.push(k),b!==64){const H=p<<6&192|b;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aR=function(r){const e=oT(r);return lT.encodeByteArray(e,!0)},Rh=function(r){return aR(r).replace(/\./g,"")},uT=function(r){try{return lT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lR=()=>oR().__FIREBASE_DEFAULTS__,uR=()=>{if(typeof process>"u"||typeof i0>"u")return;const r=i0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&uT(r[1]);return e&&JSON.parse(e)},Yh=()=>{try{return iR()||lR()||uR()||cR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},cT=r=>Yh()?.emulatorHosts?.[r],hR=r=>{const e=cT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},hT=()=>Yh()?.config,fT=r=>Yh()?.[`_${r}`];class fR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dT(r){return(await fetch(r,{credentials:"include"})).ok}function dR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Rh(JSON.stringify(n)),Rh(JSON.stringify(f)),""].join(".")}const Jl={};function mR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?r.emulator.push(e):r.prod.push(e);return r}function pR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let r0=!1;function mT(r,e){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||Jl[r]===e||Jl[r]||r0)return;Jl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=mR().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,k){A.setAttribute("width","24"),A.setAttribute("id",k),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{r0=!0,f()},A}function E(A,k){A.setAttribute("id",k),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=pR(s),k=n("text"),H=document.getElementById(k)||document.createElement("span"),Q=n("learnmore"),G=document.getElementById(Q)||document.createElement("a"),Z=n("preprendIcon"),ne=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;m(ie),E(G,Q);const fe=p();g(ne,Z),ie.append(ne,H,G,fe),document.body.appendChild(ie)}u?(H.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function yR(){const r=Yh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _R(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ER(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TR(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function bR(){return!yR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SR(){try{return typeof indexedDB=="object"}catch{return!1}}function AR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const wR="FirebaseError";class _r extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=wR,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?RR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new _r(o,m,s)}}function RR(r,e){return r.replace(CR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const CR=/\{\$([^}]+)}/g;function xR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function sa(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(s0(u)&&s0(f)){if(!sa(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function s0(r){return r!==null&&typeof r=="object"}function vu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Fl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Gl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function IR(r,e){const n=new NR(r,e);return n.subscribe.bind(n)}class NR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");DR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Cm),o.error===void 0&&(o.error=Cm),o.complete===void 0&&(o.complete=Cm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Cm(){}function Ot(r){return r&&r._delegate?r._delegate:r}class aa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class OR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new fR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VR(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:MR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MR(r){return r===ta?void 0:r}function VR(r){return r.instantiationMode==="EAGER"}class kR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const LR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},PR=Me.INFO,UR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},jR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=UR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bp{constructor(e){this.name=e,this._logLevel=PR,this._logHandler=jR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const zR=(r,e)=>e.some(n=>r instanceof n);let a0,o0;function BR(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qR(){return o0||(o0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,Bm=new WeakMap,gT=new WeakMap,xm=new WeakMap,Sp=new WeakMap;function HR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(os(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&pT.set(n,r)}).catch(()=>{}),Sp.set(e,r),e}function FR(r){if(Bm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Bm.set(r,e)}let qm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Bm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||gT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function GR(r){qm=r(qm)}function KR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Im(this),e,...n);return gT.set(s,e.sort?e.sort():[e]),os(s)}:qR().includes(r)?function(...e){return r.apply(Im(this),e),os(pT.get(this))}:function(...e){return os(r.apply(Im(this),e))}}function QR(r){return typeof r=="function"?KR(r):(r instanceof IDBTransaction&&FR(r),zR(r,BR())?new Proxy(r,qm):r)}function os(r){if(r instanceof IDBRequest)return HR(r);if(xm.has(r))return xm.get(r);const e=QR(r);return e!==r&&(xm.set(r,e),Sp.set(e,r)),e}const Im=r=>Sp.get(r);function YR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=os(f);return s&&f.addEventListener("upgradeneeded",g=>{s(os(f.result),g.oldVersion,g.newVersion,os(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const $R=["get","getKey","getAll","getAllKeys","count"],XR=["put","add","delete","clear"],Nm=new Map;function l0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=XR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||$R.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Nm.set(e,u),u}GR(r=>({...r,get:(e,n,s)=>l0(e,n)||r.get(e,n,s),has:(e,n)=>!!l0(e,n)||r.has(e,n)}));class JR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function WR(r){return r.getComponent()?.type==="VERSION"}const Hm="@firebase/app",u0="0.14.7";const dr=new bp("@firebase/app"),ZR="@firebase/app-compat",e2="@firebase/analytics-compat",t2="@firebase/analytics",n2="@firebase/app-check-compat",i2="@firebase/app-check",r2="@firebase/auth",s2="@firebase/auth-compat",a2="@firebase/database",o2="@firebase/data-connect",l2="@firebase/database-compat",u2="@firebase/functions",c2="@firebase/functions-compat",h2="@firebase/installations",f2="@firebase/installations-compat",d2="@firebase/messaging",m2="@firebase/messaging-compat",p2="@firebase/performance",g2="@firebase/performance-compat",y2="@firebase/remote-config",_2="@firebase/remote-config-compat",v2="@firebase/storage",E2="@firebase/storage-compat",T2="@firebase/firestore",b2="@firebase/ai",S2="@firebase/firestore-compat",A2="firebase",w2="12.8.0";const Fm="[DEFAULT]",R2={[Hm]:"fire-core",[ZR]:"fire-core-compat",[t2]:"fire-analytics",[e2]:"fire-analytics-compat",[i2]:"fire-app-check",[n2]:"fire-app-check-compat",[r2]:"fire-auth",[s2]:"fire-auth-compat",[a2]:"fire-rtdb",[o2]:"fire-data-connect",[l2]:"fire-rtdb-compat",[u2]:"fire-fn",[c2]:"fire-fn-compat",[h2]:"fire-iid",[f2]:"fire-iid-compat",[d2]:"fire-fcm",[m2]:"fire-fcm-compat",[p2]:"fire-perf",[g2]:"fire-perf-compat",[y2]:"fire-rc",[_2]:"fire-rc-compat",[v2]:"fire-gcs",[E2]:"fire-gcs-compat",[T2]:"fire-fst",[S2]:"fire-fst-compat",[b2]:"fire-vertex","fire-js":"fire-js",[A2]:"fire-js-all"};const Ch=new Map,C2=new Map,Gm=new Map;function c0(r,e){try{r.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function yo(r){const e=r.name;if(Gm.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,r);for(const n of Ch.values())c0(n,r);for(const n of C2.values())c0(n,r);return!0}function Ap(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Hn(r){return r==null?!1:r.settings!==void 0}const x2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new _u("app","Firebase",x2);class I2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}const xo=w2;function yT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Fm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(n||(n=hT()),!n)throw ls.create("no-options");const u=Ch.get(o);if(u){if(sa(n,u.options)&&sa(s,u.config))return u;throw ls.create("duplicate-app",{appName:o})}const f=new kR(o);for(const g of Gm.values())f.addComponent(g);const m=new I2(n,s,f);return Ch.set(o,m),m}function _T(r=Fm){const e=Ch.get(r);if(!e&&r===Fm&&hT())return yT();if(!e)throw ls.create("no-app",{appName:r});return e}function us(r,e,n){let s=R2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(f.join(" "));return}yo(new aa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const N2="firebase-heartbeat-database",D2=1,ru="firebase-heartbeat-store";let Dm=null;function vT(){return Dm||(Dm=YR(N2,D2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(r=>{throw ls.create("idb-open",{originalErrorMessage:r.message})})),Dm}async function O2(r){try{const n=(await vT()).transaction(ru),s=await n.objectStore(ru).get(ET(r));return await n.done,s}catch(e){if(e instanceof _r)dr.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e?.message});dr.warn(n.message)}}}async function h0(r,e){try{const s=(await vT()).transaction(ru,"readwrite");await s.objectStore(ru).put(e,ET(r)),await s.done}catch(n){if(n instanceof _r)dr.warn(n.message);else{const s=ls.create("idb-set",{originalErrorMessage:n?.message});dr.warn(s.message)}}}function ET(r){return`${r.name}!${r.options.appId}`}const M2=1024,V2=30;class k2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=f0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>V2){const o=U2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=f0(),{heartbeatsToSend:n,unsentEntries:s}=L2(this._heartbeatsCache.heartbeats),o=Rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return dr.warn(e),""}}}function f0(){return new Date().toISOString().substring(0,10)}function L2(r,e=M2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),d0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),d0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class P2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SR()?AR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await O2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return h0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return h0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function d0(r){return Rh(JSON.stringify({version:2,heartbeats:r})).length}function U2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function j2(r){yo(new aa("platform-logger",e=>new JR(e),"PRIVATE")),yo(new aa("heartbeat",e=>new k2(e),"PRIVATE")),us(Hm,u0,r),us(Hm,u0,"esm2020"),us("fire-js","")}j2("");function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z2=TT,bT=new _u("auth","Firebase",TT());const xh=new bp("@firebase/auth");function B2(r,...e){xh.logLevel<=Me.WARN&&xh.warn(`Auth (${xo}): ${r}`,...e)}function mh(r,...e){xh.logLevel<=Me.ERROR&&xh.error(`Auth (${xo}): ${r}`,...e)}function ui(r,...e){throw wp(r,...e)}function ki(r,...e){return wp(r,...e)}function ST(r,e,n){const s={...z2(),[e]:n};return new _u("auth","Firebase",s).create(e,{appName:r.name})}function cr(r){return ST(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return bT.create(r,...e)}function _e(r,e,...n){if(!r)throw wp(e,...n)}function or(r){const e="INTERNAL ASSERTION FAILED: "+r;throw mh(e),new Error(e)}function mr(r,e){r||or(e)}function Km(){return typeof self<"u"&&self.location?.href||""}function q2(){return m0()==="http:"||m0()==="https:"}function m0(){return typeof self<"u"&&self.location?.protocol||null}function H2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q2()||vR()||"connection"in navigator)?navigator.onLine:!0}function F2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=gR()||ER()}get(){return H2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rp(r,e){mr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class AT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const G2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const K2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q2=new Eu(3e4,6e4);function vr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Er(r,e,n,s,o={}){return wT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=vu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...u};return _R()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Co(r.emulatorConfig.host)&&(p.credentials="include"),AT.fetch()(await RT(r,r.config.apiHost,n,m),p)})}async function wT(r,e,n){r._canInitEmulator=!1;const s={...G2,...e};try{const o=new $2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ah(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw ah(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw ah(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ST(r,E,p);ui(r,E)}}catch(o){if(o instanceof _r)throw o;ui(r,"network-request-failed",{message:String(o)})}}async function Tu(r,e,n,s,o={}){const u=await Er(r,e,n,s,o);return"mfaPendingCredential"in u&&ui(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function RT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Rp(r.config,o):`${r.config.apiScheme}://${o}`;return K2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Y2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ki(this.auth,"network-request-failed")),Q2.get())})}}function ah(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ki(r,e,s);return o.customData._tokenResponse=n,o}function p0(r){return r!==void 0&&r.enterprise!==void 0}class X2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Y2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function J2(r,e){return Er(r,"GET","/v2/recaptchaConfig",vr(r,e))}async function W2(r,e){return Er(r,"POST","/v1/accounts:delete",e)}async function Ih(r,e){return Er(r,"POST","/v1/accounts:lookup",e)}function Wl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z2(r,e=!1){const n=Ot(r),s=await n.getIdToken(e),o=Cp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Wl(Om(o.auth_time)),issuedAtTime:Wl(Om(o.iat)),expirationTime:Wl(Om(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Om(r){return Number(r)*1e3}function Cp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=uT(n);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function g0(r){const e=Cp(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function su(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof _r&&eC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function eC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class tC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Nh(r){const e=r.auth,n=await r.getIdToken(),s=await su(r,Ih(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?CT(o.providerUserInfo):[],f=iC(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Qm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,E)}async function nC(r){const e=Ot(r);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function CT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function rC(r,e){const n=await wT(r,{},async()=>{const s=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await RT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Co(r.emulatorConfig.host)&&(g.credentials="include"),AT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sC(r,e){return Er(r,"POST","/v2/accounts:revokeToken",vr(r,e))}class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=g0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await rC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new co;return s&&(_e(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return or("not implemented")}}function es(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class si{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new tC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Z2(this,e)}reload(){return nC(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(cr(this.auth));const e=await this.getIdToken();return await su(this,W2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:A,isAnonymous:k,providerData:H,stsTokenManager:Q}=n;_e(b&&Q,e,"internal-error");const G=co.fromJSON(this.name,Q);_e(typeof b=="string",e,"internal-error"),es(s,e.name),es(o,e.name),_e(typeof A=="boolean",e,"internal-error"),_e(typeof k=="boolean",e,"internal-error"),es(u,e.name),es(f,e.name),es(m,e.name),es(g,e.name),es(p,e.name),es(E,e.name);const Z=new si({uid:b,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:p,lastLoginAt:E});return H&&Array.isArray(H)&&(Z.providerData=H.map(ne=>({...ne}))),g&&(Z._redirectEventId=g),Z}static async _fromIdTokenResponse(e,n,s=!1){const o=new co;o.updateFromServerResponse(n);const u=new si({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Nh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?CT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new co;m.updateFromIdToken(s);const g=new si({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const y0=new Map;function lr(r){mr(r instanceof Function,"Expected a class definition");let e=y0.get(r);return e?(mr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,y0.set(r,e),e)}class xT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xT.type="NONE";const _0=xT;function ph(r,e,n){return`firebase:${r}:${e}:${n}`}class ho{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ih(this.auth,{idToken:e}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,e):null}return si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ho(lr(_0),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||lr(_0);const f=ph(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let b;if(typeof E=="string"){const A=await Ih(e,{idToken:E}).catch(()=>{});if(!A)break;b=await si._fromGetAccountInfoResponse(e,A,E)}else b=si._fromJSON(e,E);p!==u&&(m=b),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new ho(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new ho(u,e,s))}}function v0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VT(e))return"Blackberry";if(kT(e))return"Webos";if(NT(e))return"Safari";if((e.includes("chrome/")||DT(e))&&!e.includes("edge/"))return"Chrome";if(MT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function IT(r=sn()){return/firefox\//i.test(r)}function NT(r=sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DT(r=sn()){return/crios\//i.test(r)}function OT(r=sn()){return/iemobile/i.test(r)}function MT(r=sn()){return/android/i.test(r)}function VT(r=sn()){return/blackberry/i.test(r)}function kT(r=sn()){return/webos/i.test(r)}function xp(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function aC(r=sn()){return xp(r)&&!!window.navigator?.standalone}function oC(){return TR()&&document.documentMode===10}function LT(r=sn()){return xp(r)||MT(r)||kT(r)||VT(r)||/windows phone/i.test(r)||OT(r)}function PT(r,e=[]){let n;switch(r){case"Browser":n=v0(sn());break;case"Worker":n=`${v0(sn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${s}`}class lC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function uC(r,e={}){return Er(r,"GET","/v2/passwordPolicy",vr(r,e))}const cC=6;class hC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class fC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E0(this),this.idTokenSubscription=new E0(this),this.beforeStateQueue=new lC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ih(this,{idToken:e}),s=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(cr(this));const n=e?Ot(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uC(this),n=new hC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await sC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&B2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fa(r){return Ot(r)}class E0{constructor(e){this.auth=e,this.observer=null,this.addObserver=IR(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dC(r){$h=r}function UT(r){return $h.loadJS(r)}function mC(){return $h.recaptchaEnterpriseScript}function pC(){return $h.gapiScript}function gC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class yC{constructor(){this.enterprise=new _C}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _C{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const vC="recaptcha-enterprise",jT="NO_RECAPTCHA";class EC{constructor(e){this.type=vC,this.auth=fa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{J2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new X2(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;p0(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(jT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&p0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=mC();g.length!==0&&(g+=m),UT(g).then(()=>{o(m,u,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function T0(r,e,n,s=!1,o=!1){const u=new EC(r);let f;if(o)f=jT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Ym(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await T0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await T0(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function TC(r,e){const n=Ap(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(sa(u,e??{}))return o;ui(o,"already-initialized")}return n.initialize({options:e})}function bC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(lr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function SC(r,e,n){const s=fa(r);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=zT(e),{host:f,port:m}=AC(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(sa(p,s.config.emulator)&&sa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Co(f)?(dT(`${u}//${f}${g}`),mT("Auth",!0)):wC()}function zT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function AC(r){const e=zT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:b0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:b0(f)}}}function b0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function wC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Ip{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function RC(r,e){return Er(r,"POST","/v1/accounts:signUp",e)}async function CC(r,e){return Tu(r,"POST","/v1/accounts:signInWithPassword",vr(r,e))}async function xC(r,e){return Er(r,"POST","/v1/accounts:sendOobCode",vr(r,e))}async function IC(r,e){return xC(r,e)}async function NC(r,e){return Tu(r,"POST","/v1/accounts:signInWithEmailLink",vr(r,e))}async function DC(r,e){return Tu(r,"POST","/v1/accounts:signInWithEmailLink",vr(r,e))}class au extends Ip{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new au(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,n,"signInWithPassword",CC);case"emailLink":return NC(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,s,"signUpPassword",RC);case"emailLink":return DC(e,{idToken:n,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function fo(r,e){return Tu(r,"POST","/v1/accounts:signInWithIdp",vr(r,e))}const OC="http://localhost";class oa extends Ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new oa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,fo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:OC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}function MC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VC(r){const e=Fl(Gl(r)).link,n=e?Fl(Gl(e)).deep_link_id:null,s=Fl(Gl(r)).deep_link_id;return(s?Fl(Gl(s)).link:null)||s||n||e||r}class Np{constructor(e){const n=Fl(Gl(e)),s=n.apiKey??null,o=n.oobCode??null,u=MC(n.mode??null);_e(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=VC(e);try{return new Np(n)}catch{return null}}}class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Np.parseLink(n);return _e(s,"argument-error"),au._fromEmailAndCode(e,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class BT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bu extends BT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ts extends bu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";class ns extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";class is extends bu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";class rs extends bu{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";async function kC(r,e){return Tu(r,"POST","/v1/accounts:signUp",vr(r,e))}class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await si._fromIdTokenResponse(e,s,o),f=S0(s);return new la({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=S0(s);return new la({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function S0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Dh extends _r{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Dh(e,n,s,o)}}function qT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(r,u,e,s):u})}async function LC(r,e,n=!1){const s=await su(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return la._forOperation(r,"link",s)}async function PC(r,e,n=!1){const{auth:s}=r;if(Hn(s.app))return Promise.reject(cr(s));const o="reauthenticate";try{const u=await su(r,qT(s,o,e,r),n);_e(u.idToken,s,"internal-error");const f=Cp(u.idToken);_e(f,s,"internal-error");const{sub:m}=f;return _e(r.uid===m,s,"user-mismatch"),la._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ui(s,"user-mismatch"),u}}async function HT(r,e,n=!1){if(Hn(r.app))return Promise.reject(cr(r));const s="signIn",o=await qT(r,s,e),u=await la._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function UC(r,e){return HT(fa(r),e)}async function FT(r){const e=fa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jC(r,e,n){if(Hn(r.app))return Promise.reject(cr(r));const s=fa(r),f=await Ym(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kC).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&FT(r),g}),m=await la._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function zC(r,e,n){return Hn(r.app)?Promise.reject(cr(r)):UC(Ot(r),Io.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&FT(r),s})}async function BC(r,e){const n=Ot(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await IC(n.auth,o);u!==r.email&&await r.reload()}function qC(r,e,n,s){return Ot(r).onIdTokenChanged(e,n,s)}function HC(r,e,n){return Ot(r).beforeAuthStateChanged(e,n)}function FC(r,e,n,s){return Ot(r).onAuthStateChanged(e,n,s)}function GC(r){return Ot(r).signOut()}const Oh="__sak";class GT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const KC=1e3,QC=10;class KT extends GT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);oC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,QC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},KC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KT.type="LOCAL";const YC=KT;class QT extends GT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QT.type="SESSION";const YT=QT;function $C(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await $C(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];function Dp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class XC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=Dp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Li(){return window}function JC(r){Li().location.href=r}function $T(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function WC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZC(){return navigator?.serviceWorker?.controller||null}function ex(){return $T()?self:null}const XT="firebaseLocalStorageDb",tx=1,Mh="firebaseLocalStorage",JT="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(r,e){return r.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function nx(){const r=indexedDB.deleteDatabase(XT);return new Su(r).toPromise()}function $m(){const r=indexedDB.open(XT,tx);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Mh,{keyPath:JT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Mh)?e(s):(s.close(),await nx(),e(await $m()))})})}async function A0(r,e,n){const s=Jh(r,!0).put({[JT]:e,value:n});return new Su(s).toPromise()}async function ix(r,e){const n=Jh(r,!1).get(e),s=await new Su(n).toPromise();return s===void 0?null:s.value}function w0(r,e){const n=Jh(r,!0).delete(e);return new Su(n).toPromise()}const rx=800,sx=3;class WT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>sx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(ex()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await WC(),!this.activeServiceWorker)return;this.sender=new XC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $m();return await A0(e,Oh,"1"),await w0(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>A0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>ix(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>w0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new Su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WT.type="LOCAL";const ax=WT;new Eu(3e4,6e4);function ox(r,e){return e?lr(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Op extends Ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lx(r){return HT(r.auth,new Op(r),r.bypassAuthState)}function ux(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),PC(n,new Op(r),r.bypassAuthState)}async function cx(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),LC(n,new Op(r),r.bypassAuthState)}class ZT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lx;case"linkViaPopup":case"linkViaRedirect":return cx;case"reauthViaPopup":case"reauthViaRedirect":return ux;default:ui(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hx=new Eu(2e3,1e4);class uo extends ZT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hx.get())};e()}}uo.currentPopupAction=null;const fx="pendingRedirect",gh=new Map;class dx extends ZT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await mx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mx(r,e){const n=yx(e),s=gx(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function px(r,e){gh.set(r._key(),e)}function gx(r){return lr(r._redirectPersistence)}function yx(r){return ph(fx,r.config.apiKey,r.name)}async function _x(r,e,n=!1){if(Hn(r.app))return Promise.reject(cr(r));const s=fa(r),o=ox(s,e),f=await new dx(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const vx=600*1e3;class Ex{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Tx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!eb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ki(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vx&&this.cachedEventUids.clear(),this.cachedEventUids.has(R0(e))}saveEventToCache(e){this.cachedEventUids.add(R0(e)),this.lastProcessedEventTime=Date.now()}}function R0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function eb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Tx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eb(r);default:return!1}}async function bx(r,e={}){return Er(r,"GET","/v1/projects",e)}const Sx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ax=/^https?/;async function wx(r){if(r.config.emulator)return;const{authorizedDomains:e}=await bx(r);for(const n of e)try{if(Rx(n))return}catch{}ui(r,"unauthorized-domain")}function Rx(r){const e=Km(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!Ax.test(n))return!1;if(Sx.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const Cx=new Eu(3e4,6e4);function C0(){const r=Li().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function xx(r){return new Promise((e,n)=>{function s(){C0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C0(),n(ki(r,"network-request-failed"))},timeout:Cx.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)s();else{const o=gC("iframefcb");return Li()[o]=()=>{gapi.load?s():n(ki(r,"network-request-failed"))},UT(`${pC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw yh=null,e})}let yh=null;function Ix(r){return yh=yh||xx(r),yh}const Nx=new Eu(5e3,15e3),Dx="__/auth/iframe",Ox="emulator/auth/iframe",Mx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kx(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Rp(e,Ox):`https://${r.config.authDomain}/${Dx}`,s={apiKey:e.apiKey,appName:r.name,v:xo},o=Vx.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${vu(s).slice(1)}`}async function Lx(r){const e=await Ix(r),n=Li().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:kx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ki(r,"network-request-failed"),m=Li().setTimeout(()=>{u(f)},Nx.get());function g(){Li().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const Px={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ux=500,jx=600,zx="_blank",Bx="http://localhost";class x0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qx(r,e,n,s=Ux,o=jx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...Px,width:s.toString(),height:o.toString(),top:u,left:f},p=sn().toLowerCase();n&&(m=DT(p)?zx:n),IT(p)&&(e=e||Bx,g.scrollbars="yes");const E=Object.entries(g).reduce((A,[k,H])=>`${A}${k}=${H},`,"");if(aC(p)&&m!=="_self")return Hx(e||"",m),new x0(null);const b=window.open(e||"",m,E);_e(b,r,"popup-blocked");try{b.focus()}catch{}return new x0(b)}function Hx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const Fx="__/auth/handler",Gx="emulator/auth/handler",Kx=encodeURIComponent("fac");async function I0(r,e,n,s,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:xo,eventId:o};if(e instanceof BT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",xR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof bu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),p=g?`#${Kx}=${encodeURIComponent(g)}`:"";return`${Qx(r)}?${vu(m).slice(1)}${p}`}function Qx({config:r}){return r.emulator?Rp(r,Gx):`https://${r.authDomain}/${Fx}`}const Mm="webStorageSupport";class Yx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YT,this._completeRedirectFn=_x,this._overrideRedirectResult=px}async _openPopup(e,n,s,o){mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await I0(e,n,s,Km(),o);return qx(e,u,Dp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await I0(e,n,s,Km(),o);return JC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(mr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Lx(e),s=new Ex(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mm,{type:Mm},o=>{const u=o?.[0]?.[Mm];u!==void 0&&n(!!u),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LT()||NT()||xp()}}const $x=Yx;var N0="@firebase/auth",D0="1.12.0";class Xx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Jx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Wx(r){yo(new aa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PT(r)},p=new fC(s,o,u,g);return bC(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),yo(new aa("auth-internal",e=>{const n=fa(e.getProvider("auth").getImmediate());return(s=>new Xx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(N0,D0,Jx(r)),us(N0,D0,"esm2020")}const Zx=300,eI=fT("authIdTokenMaxAge")||Zx;let O0=null;const tI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>eI)return;const o=n?.token;O0!==o&&(O0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function nI(r=_T()){const e=Ap(r,"auth");if(e.isInitialized())return e.getImmediate();const n=TC(r,{popupRedirectResolver:$x,persistence:[ax,YC,YT]}),s=fT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=tI(u.toString());HC(n,f,()=>f(n.currentUser)),qC(n,m=>f(m))}}const o=cT("auth");return o&&SC(n,`http://${o}`),n}function iI(){return document.getElementsByTagName("head")?.[0]??document}dC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ki("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",iI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Wx("Browser");var M0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cs,tb;(function(){var r;function e(x,C){function R(){}R.prototype=C.prototype,x.F=C.prototype,x.prototype=new R,x.prototype.constructor=x,x.D=function(M,D,U){for(var I=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)I[rt-2]=arguments[rt];return C.prototype[D].apply(M,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,C,R){R||(R=0);const M=Array(16);if(typeof C=="string")for(var D=0;D<16;++D)M[D]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(D=0;D<16;++D)M[D]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=x.g[0],R=x.g[1],D=x.g[2];let U=x.g[3],I;I=C+(U^R&(D^U))+M[0]+3614090360&4294967295,C=R+(I<<7&4294967295|I>>>25),I=U+(D^C&(R^D))+M[1]+3905402710&4294967295,U=C+(I<<12&4294967295|I>>>20),I=D+(R^U&(C^R))+M[2]+606105819&4294967295,D=U+(I<<17&4294967295|I>>>15),I=R+(C^D&(U^C))+M[3]+3250441966&4294967295,R=D+(I<<22&4294967295|I>>>10),I=C+(U^R&(D^U))+M[4]+4118548399&4294967295,C=R+(I<<7&4294967295|I>>>25),I=U+(D^C&(R^D))+M[5]+1200080426&4294967295,U=C+(I<<12&4294967295|I>>>20),I=D+(R^U&(C^R))+M[6]+2821735955&4294967295,D=U+(I<<17&4294967295|I>>>15),I=R+(C^D&(U^C))+M[7]+4249261313&4294967295,R=D+(I<<22&4294967295|I>>>10),I=C+(U^R&(D^U))+M[8]+1770035416&4294967295,C=R+(I<<7&4294967295|I>>>25),I=U+(D^C&(R^D))+M[9]+2336552879&4294967295,U=C+(I<<12&4294967295|I>>>20),I=D+(R^U&(C^R))+M[10]+4294925233&4294967295,D=U+(I<<17&4294967295|I>>>15),I=R+(C^D&(U^C))+M[11]+2304563134&4294967295,R=D+(I<<22&4294967295|I>>>10),I=C+(U^R&(D^U))+M[12]+1804603682&4294967295,C=R+(I<<7&4294967295|I>>>25),I=U+(D^C&(R^D))+M[13]+4254626195&4294967295,U=C+(I<<12&4294967295|I>>>20),I=D+(R^U&(C^R))+M[14]+2792965006&4294967295,D=U+(I<<17&4294967295|I>>>15),I=R+(C^D&(U^C))+M[15]+1236535329&4294967295,R=D+(I<<22&4294967295|I>>>10),I=C+(D^U&(R^D))+M[1]+4129170786&4294967295,C=R+(I<<5&4294967295|I>>>27),I=U+(R^D&(C^R))+M[6]+3225465664&4294967295,U=C+(I<<9&4294967295|I>>>23),I=D+(C^R&(U^C))+M[11]+643717713&4294967295,D=U+(I<<14&4294967295|I>>>18),I=R+(U^C&(D^U))+M[0]+3921069994&4294967295,R=D+(I<<20&4294967295|I>>>12),I=C+(D^U&(R^D))+M[5]+3593408605&4294967295,C=R+(I<<5&4294967295|I>>>27),I=U+(R^D&(C^R))+M[10]+38016083&4294967295,U=C+(I<<9&4294967295|I>>>23),I=D+(C^R&(U^C))+M[15]+3634488961&4294967295,D=U+(I<<14&4294967295|I>>>18),I=R+(U^C&(D^U))+M[4]+3889429448&4294967295,R=D+(I<<20&4294967295|I>>>12),I=C+(D^U&(R^D))+M[9]+568446438&4294967295,C=R+(I<<5&4294967295|I>>>27),I=U+(R^D&(C^R))+M[14]+3275163606&4294967295,U=C+(I<<9&4294967295|I>>>23),I=D+(C^R&(U^C))+M[3]+4107603335&4294967295,D=U+(I<<14&4294967295|I>>>18),I=R+(U^C&(D^U))+M[8]+1163531501&4294967295,R=D+(I<<20&4294967295|I>>>12),I=C+(D^U&(R^D))+M[13]+2850285829&4294967295,C=R+(I<<5&4294967295|I>>>27),I=U+(R^D&(C^R))+M[2]+4243563512&4294967295,U=C+(I<<9&4294967295|I>>>23),I=D+(C^R&(U^C))+M[7]+1735328473&4294967295,D=U+(I<<14&4294967295|I>>>18),I=R+(U^C&(D^U))+M[12]+2368359562&4294967295,R=D+(I<<20&4294967295|I>>>12),I=C+(R^D^U)+M[5]+4294588738&4294967295,C=R+(I<<4&4294967295|I>>>28),I=U+(C^R^D)+M[8]+2272392833&4294967295,U=C+(I<<11&4294967295|I>>>21),I=D+(U^C^R)+M[11]+1839030562&4294967295,D=U+(I<<16&4294967295|I>>>16),I=R+(D^U^C)+M[14]+4259657740&4294967295,R=D+(I<<23&4294967295|I>>>9),I=C+(R^D^U)+M[1]+2763975236&4294967295,C=R+(I<<4&4294967295|I>>>28),I=U+(C^R^D)+M[4]+1272893353&4294967295,U=C+(I<<11&4294967295|I>>>21),I=D+(U^C^R)+M[7]+4139469664&4294967295,D=U+(I<<16&4294967295|I>>>16),I=R+(D^U^C)+M[10]+3200236656&4294967295,R=D+(I<<23&4294967295|I>>>9),I=C+(R^D^U)+M[13]+681279174&4294967295,C=R+(I<<4&4294967295|I>>>28),I=U+(C^R^D)+M[0]+3936430074&4294967295,U=C+(I<<11&4294967295|I>>>21),I=D+(U^C^R)+M[3]+3572445317&4294967295,D=U+(I<<16&4294967295|I>>>16),I=R+(D^U^C)+M[6]+76029189&4294967295,R=D+(I<<23&4294967295|I>>>9),I=C+(R^D^U)+M[9]+3654602809&4294967295,C=R+(I<<4&4294967295|I>>>28),I=U+(C^R^D)+M[12]+3873151461&4294967295,U=C+(I<<11&4294967295|I>>>21),I=D+(U^C^R)+M[15]+530742520&4294967295,D=U+(I<<16&4294967295|I>>>16),I=R+(D^U^C)+M[2]+3299628645&4294967295,R=D+(I<<23&4294967295|I>>>9),I=C+(D^(R|~U))+M[0]+4096336452&4294967295,C=R+(I<<6&4294967295|I>>>26),I=U+(R^(C|~D))+M[7]+1126891415&4294967295,U=C+(I<<10&4294967295|I>>>22),I=D+(C^(U|~R))+M[14]+2878612391&4294967295,D=U+(I<<15&4294967295|I>>>17),I=R+(U^(D|~C))+M[5]+4237533241&4294967295,R=D+(I<<21&4294967295|I>>>11),I=C+(D^(R|~U))+M[12]+1700485571&4294967295,C=R+(I<<6&4294967295|I>>>26),I=U+(R^(C|~D))+M[3]+2399980690&4294967295,U=C+(I<<10&4294967295|I>>>22),I=D+(C^(U|~R))+M[10]+4293915773&4294967295,D=U+(I<<15&4294967295|I>>>17),I=R+(U^(D|~C))+M[1]+2240044497&4294967295,R=D+(I<<21&4294967295|I>>>11),I=C+(D^(R|~U))+M[8]+1873313359&4294967295,C=R+(I<<6&4294967295|I>>>26),I=U+(R^(C|~D))+M[15]+4264355552&4294967295,U=C+(I<<10&4294967295|I>>>22),I=D+(C^(U|~R))+M[6]+2734768916&4294967295,D=U+(I<<15&4294967295|I>>>17),I=R+(U^(D|~C))+M[13]+1309151649&4294967295,R=D+(I<<21&4294967295|I>>>11),I=C+(D^(R|~U))+M[4]+4149444226&4294967295,C=R+(I<<6&4294967295|I>>>26),I=U+(R^(C|~D))+M[11]+3174756917&4294967295,U=C+(I<<10&4294967295|I>>>22),I=D+(C^(U|~R))+M[2]+718787259&4294967295,D=U+(I<<15&4294967295|I>>>17),I=R+(U^(D|~C))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.v=function(x,C){C===void 0&&(C=x.length);const R=C-this.blockSize,M=this.C;let D=this.h,U=0;for(;U<C;){if(D==0)for(;U<=R;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<C;)if(M[D++]=x.charCodeAt(U++),D==this.blockSize){o(this,M),D=0;break}}else for(;U<C;)if(M[D++]=x[U++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=C},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;C=this.o*8;for(var R=x.length-8;R<x.length;++R)x[R]=C&255,C/=256;for(this.v(x),x=Array(16),C=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)x[C++]=this.g[R]>>>M&255;return x};function u(x,C){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=C(x)}function f(x,C){this.h=C;const R=[];let M=!0;for(let D=x.length-1;D>=0;D--){const U=x[D]|0;M&&U==C||(R[D]=U,M=!1)}this.g=R}var m={};function g(x){return-128<=x&&x<128?u(x,function(C){return new f([C|0],C<0?-1:0)}):new f([x|0],x<0?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return b;if(x<0)return G(p(-x));const C=[];let R=1;for(let M=0;x>=R;M++)C[M]=x/R|0,R*=4294967296;return new f(C,0)}function E(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return G(E(x.substring(1),C));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(C,8));let M=b;for(let U=0;U<x.length;U+=8){var D=Math.min(8,x.length-U);const I=parseInt(x.substring(U,U+D),C);D<8?(D=p(Math.pow(C,D)),M=M.j(D).add(p(I))):(M=M.j(R),M=M.add(p(I)))}return M}var b=g(0),A=g(1),k=g(16777216);r=f.prototype,r.m=function(){if(Q(this))return-G(this).m();let x=0,C=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);x+=(M>=0?M:4294967296+M)*C,C*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(H(this))return"0";if(Q(this))return"-"+G(this).toString(x);const C=p(Math.pow(x,6));var R=this;let M="";for(;;){const D=fe(R,C).g;R=Z(R,D.j(C));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(x);if(R=D,H(R))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function H(x){if(x.h!=0)return!1;for(let C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function Q(x){return x.h==-1}r.l=function(x){return x=Z(this,x),Q(x)?-1:H(x)?0:1};function G(x){const C=x.g.length,R=[];for(let M=0;M<C;M++)R[M]=~x.g[M];return new f(R,~x.h).add(A)}r.abs=function(){return Q(this)?G(this):this},r.add=function(x){const C=Math.max(this.g.length,x.g.length),R=[];let M=0;for(let D=0;D<=C;D++){let U=M+(this.i(D)&65535)+(x.i(D)&65535),I=(U>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);M=I>>>16,U&=65535,I&=65535,R[D]=I<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Z(x,C){return x.add(G(C))}r.j=function(x){if(H(this)||H(x))return b;if(Q(this))return Q(x)?G(this).j(G(x)):G(G(this).j(x));if(Q(x))return G(this.j(G(x)));if(this.l(k)<0&&x.l(k)<0)return p(this.m()*x.m());const C=this.g.length+x.g.length,R=[];for(var M=0;M<2*C;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<x.g.length;D++){const U=this.i(M)>>>16,I=this.i(M)&65535,rt=x.i(D)>>>16,Mt=x.i(D)&65535;R[2*M+2*D]+=I*Mt,ne(R,2*M+2*D),R[2*M+2*D+1]+=U*Mt,ne(R,2*M+2*D+1),R[2*M+2*D+1]+=I*rt,ne(R,2*M+2*D+1),R[2*M+2*D+2]+=U*rt,ne(R,2*M+2*D+2)}for(x=0;x<C;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=C;x<2*C;x++)R[x]=0;return new f(R,0)};function ne(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function ie(x,C){this.g=x,this.h=C}function fe(x,C){if(H(C))throw Error("division by zero");if(H(x))return new ie(b,b);if(Q(x))return C=fe(G(x),C),new ie(G(C.g),G(C.h));if(Q(C))return C=fe(x,G(C)),new ie(G(C.g),C.h);if(x.g.length>30){if(Q(x)||Q(C))throw Error("slowDivide_ only works with positive integers.");for(var R=A,M=C;M.l(x)<=0;)R=de(R),M=de(M);var D=be(R,1),U=be(M,1);for(M=be(M,2),R=be(R,2);!H(M);){var I=U.add(M);I.l(x)<=0&&(D=D.add(R),U=I),M=be(M,1),R=be(R,1)}return C=Z(x,D.j(C)),new ie(D,C)}for(D=b;x.l(C)>=0;){for(R=Math.max(1,Math.floor(x.m()/C.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=p(R),I=U.j(C);Q(I)||I.l(x)>0;)R-=M,U=p(R),I=U.j(C);H(U)&&(U=A),D=D.add(U),x=Z(x,I)}return new ie(D,x)}r.B=function(x){return fe(this,x).h},r.and=function(x){const C=Math.max(this.g.length,x.g.length),R=[];for(let M=0;M<C;M++)R[M]=this.i(M)&x.i(M);return new f(R,this.h&x.h)},r.or=function(x){const C=Math.max(this.g.length,x.g.length),R=[];for(let M=0;M<C;M++)R[M]=this.i(M)|x.i(M);return new f(R,this.h|x.h)},r.xor=function(x){const C=Math.max(this.g.length,x.g.length),R=[];for(let M=0;M<C;M++)R[M]=this.i(M)^x.i(M);return new f(R,this.h^x.h)};function de(x){const C=x.g.length+1,R=[];for(let M=0;M<C;M++)R[M]=x.i(M)<<1|x.i(M-1)>>>31;return new f(R,x.h)}function be(x,C){const R=C>>5;C%=32;const M=x.g.length-R,D=[];for(let U=0;U<M;U++)D[U]=C>0?x.i(U+R)>>>C|x.i(U+R+1)<<32-C:x.i(U+R);return new f(D,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,tb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,cs=f}).apply(typeof M0<"u"?M0:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nb,Kl,ib,_h,Xm,rb,sb,ab;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in v))break e;v=v[j]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&v.push([w,y[w]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,v){return c.call.apply(c.bind,arguments)}function p(c,y,v){return p=g,p.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function b(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,j,F){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return y.prototype[j].apply(w,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const y=c.length;if(y>0){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function H(c,y){for(let w=1;w<arguments.length;w++){const j=arguments[w];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const F=j.length||0;c.length=v+F;for(let re=0;re<F;re++)c[v+re]=j[re]}else c.push(j)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(c){f.setTimeout(()=>{throw c},0)}function Z(){var c=x;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,v){const w=ie.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ie=new Q(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let de,be=!1,x=new ne,C=()=>{const c=Promise.resolve(void 0);de=()=>{c.then(R)}};function R(){for(var c;c=Z();){try{c.h.call(c.g)}catch(v){G(v)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}be=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function rt(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(rt,D),rt.prototype.init=function(c,y){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Mt="closure_listenable_"+(Math.random()*1e6|0),$=0;function se(c,y,v,w,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=j,this.key=++$,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function Ge(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(v in w)c[v]=w[v];for(let F=0;F<ee.length;F++)v=ee[F],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,v,w,j){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const re=Ce(c,y,w,j);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new se(y,this.src,F,!!w,j),y.fa=v,c.push(y)),y};function Ee(c,y){const v=y.type;if(v in c.g){var w=c.g[v],j=Array.prototype.indexOf.call(w,y,void 0),F;(F=j>=0)&&Array.prototype.splice.call(w,j,1),F&&(ge(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,y,v,w){for(let j=0;j<c.length;++j){const F=c[j];if(!F.da&&F.listener==y&&F.capture==!!v&&F.ha==w)return j}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Vt={};function st(c,y,v,w,j){if(Array.isArray(y)){for(let F=0;F<y.length;F++)st(c,y[F],v,w,j);return null}return v=Uo(v),c&&c[Mt]?c.J(y,v,m(w)?!!w.capture:!1,j):As(c,y,v,!1,w,j)}function As(c,y,v,w,j,F){if(!y)throw Error("Invalid event type");const re=m(j)?!!j.capture:!!j;let we=ws(c);if(we||(c[Pe]=we=new ue(c)),v=we.add(y,v,w,re,F),v.proxy)return v;if(w=pa(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)U||(j=re),j===void 0&&(j=!1),c.addEventListener(y.toString(),w,j);else if(c.attachEvent)c.attachEvent(fi(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function pa(){function c(v){return y.call(c.src,c.listener,v)}const y=Lo;return c}function ga(c,y,v,w,j){if(Array.isArray(y))for(var F=0;F<y.length;F++)ga(c,y[F],v,w,j);else w=m(w)?!!w.capture:!!w,v=Uo(v),c&&c[Mt]?(c=c.i,F=String(y).toString(),F in c.g&&(y=c.g[F],v=Ce(y,v,w,j),v>-1&&(ge(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[F],c.h--)))):c&&(c=ws(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,v,w,j)),(v=c>-1?y[c]:null)&&ya(v))}function ya(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Mt])Ee(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(fi(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=ws(y))?(Ee(v,c),v.h==0&&(v.src=null,y[Pe]=null)):ge(c)}}}function fi(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function Lo(c,y){if(c.da)c=!0;else{y=new rt(y,this);const v=c.listener,w=c.ha||c.src;c.fa&&ya(c),c=v.call(w,y)}return c}function ws(c){return c=c[Pe],c instanceof ue?c:null}var Po="__closure_events_fn_"+(Math.random()*1e9>>>0);function Uo(c){return typeof c=="function"?c:(c[Po]||(c[Po]=function(y){return c.handleEvent(y)}),c[Po])}function Et(){M.call(this),this.i=new ue(this),this.M=this,this.G=null}b(Et,M),Et.prototype[Mt]=!0,Et.prototype.removeEventListener=function(c,y,v,w){ga(this,c,y,v,w)};function kt(c,y){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var j=y;y=new D(w,c),ae(y,j)}j=!0;let F,re;if(v)for(re=v.length-1;re>=0;re--)F=y.g=v[re],j=Tr(F,w,!0,y)&&j;if(F=y.g=c,j=Tr(F,w,!0,y)&&j,j=Tr(F,w,!1,y)&&j,v)for(re=0;re<v.length;re++)F=y.g=v[re],j=Tr(F,w,!1,y)&&j}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let w=0;w<v.length;w++)ge(v[w]);delete c.g[y],c.h--}}this.G=null},Et.prototype.J=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},Et.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function Tr(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let F=0;F<y.length;++F){const re=y[F];if(re&&!re.da&&re.capture==v){const we=re.listener,gt=re.ha||re.src;re.fa&&Ee(c.i,re),j=we.call(gt,w)!==!1&&j}}return j&&!w.defaultPrevented}function Ef(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Nu(c){c.g=Ef(()=>{c.g=null,c.i&&(c.i=!1,Nu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class an extends M{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Nu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(c){M.call(this),this.h=c,this.g={}}b(Rs,M);var jo=[];function zo(c){je(c.g,function(y,v){this.g.hasOwnProperty(v)&&ya(y)},c),c.g={}}Rs.prototype.N=function(){Rs.Z.N.call(this),zo(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var br=f.JSON.stringify,Tf=f.JSON.parse,Du=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Ou(){}function Mu(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){D.call(this,"d")}b(Ht,D);function Nn(){D.call(this,"c")}b(Nn,D);var pt={},Vu=null;function _a(){return Vu=Vu||new Et}pt.Ia="serverreachability";function ku(c){D.call(this,pt.Ia,c)}b(ku,D);function di(c){const y=_a();kt(y,new ku(y))}pt.STAT_EVENT="statevent";function Cs(c,y){D.call(this,pt.STAT_EVENT,c),this.stat=y}b(Cs,D);function Tt(c){const y=_a();kt(y,new Cs(y,c))}pt.Ja="timingevent";function mi(c,y){D.call(this,pt.Ja,c),this.size=y}b(mi,D);function pi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function bf(c,y,v,w,j,F){c.info(function(){if(c.g)if(F){var re="",we=F.split("&");for(let qe=0;qe<we.length;qe++){var gt=we[qe].split("=");if(gt.length>1){const at=gt[0];gt=gt[1];const Vn=at.split("_");re=Vn.length>=2&&Vn[1]=="type"?re+(at+"="+gt+"&"):re+(at+"=redacted&")}}}else re=null;else re=F;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+y+`
`+v+`
`+re})}function Lu(c,y,v,w,j,F,re){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+y+`
`+v+`
`+F+" "+re})}function gi(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Sf(c,v)+(w?" "+w:"")})}function xs(c,y){c.info(function(){return"TIMEOUT: "+y})}Yn.prototype.info=function(){};function Sf(c,y){if(!c.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var j=w[0];if(j!="noop"&&j!="stop"&&j!="close")for(let re=1;re<w.length;re++)w[re]=""}}}}return br(F)}catch{return y}}var Is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qo;function Ns(){}b(Ns,Ou),Ns.prototype.g=function(){return new XMLHttpRequest},qo=new Ns;function qi(c){return encodeURIComponent(String(c))}function Pu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function $n(c,y,v,w){this.j=c,this.i=y,this.l=v,this.S=w||1,this.V=new Rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var bt={},jt={};function yi(c,y,v){c.M=1,c.A=Ds(At(y)),c.u=v,c.R=!0,va(c,null)}function va(c,y){c.F=Date.now(),_i(c),c.B=At(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Sa(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Xn,c.g=Wu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new an(p(c.Y,c,c.g),c.P)),y=c.V,v=c.g,w=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(jo[0]=j.toString()),j=jo);for(let F=0;F<j.length;F++){const re=st(v,j[F],w||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),di(),bf(c.i,c.v,c.B,c.l,c.S,c.u)}$n.prototype.ba=function(c){c=c.target;const y=this.O;y&&Zn(c)==3?y.j():this.Y(c)},$n.prototype.Y=function(c){try{if(c==this.g)e:{const we=Zn(this.g),gt=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||we!=4||gt==7||(gt==8||qe<=0?di(3):di(2)),vi(this);var y=this.g.ca();this.X=y;var v=Af(this);if(this.o=y==200,Lu(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,j=this.g;if((w=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var F=w;break t}}F=null}if(c=F)gi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,c);else{this.o=!1,this.m=3,Tt(12),vn(this),Dn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=ju(this,v),at==jt){we==4&&(this.m=4,Tt(14),c=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==bt){this.m=4,Tt(15),gi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else gi(this.i,this.l,at,null),Ei(this,at);if(Uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)gi(this.i,this.l,v,"[Invalid Chunked Response]"),vn(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),il(re),re.P=!0,Tt(11))}}else gi(this.i,this.l,v,null),Ei(this,v);we==4&&vn(this),this.o&&!this.K&&(we==4?Yu(this.j,this):(this.o=!1,_i(this)))}else Fi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),vn(this),Dn(this)}}}catch{}};function Af(c){if(!Uu(c))return c.g.la();const y=Ft(c.g);if(y==="")return"";let v="";const w=y.length,j=Zn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vn(c),Dn(c),"";c.h.i=new f.TextDecoder}for(let F=0;F<w;F++)c.h.h=!0,v+=c.h.i.decode(y[F],{stream:!(j&&F==w-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Uu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ju(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?jt:(v=Number(y.substring(v,w)),isNaN(v)?bt:(w+=1,w+v>y.length?jt:(y=y.slice(w,w+v),c.C=w+v,y)))}$n.prototype.cancel=function(){this.K=!0,vn(this)};function _i(c){c.T=Date.now()+c.H,Ea(c,c.H)}function Ea(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=pi(p(c.aa,c),y)}function vi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}$n.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(xs(this.i,this.B),this.M!=2&&(di(),Tt(17)),vn(this),this.m=2,Dn(this)):Ea(this,this.T-c)};function Dn(c){c.j.I==0||c.K||Yu(c.j,c)}function vn(c){vi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,zo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ei(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||bi(v.h,c))){if(!c.L&&bi(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)xa(v),Nr(v);else break e;Us(v),Tt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=pi(p(v.Va,v),6e3));Ti(v.h)<=1&&v.ta&&(v.ta=void 0)}else xi(v,11)}else if((c.L||v.g==c)&&xa(v),!I(y))for(j=v.Ba.g.parse(y),y=0;y<j.length;y++){let qe=j[y];const at=qe[0];if(!(at<=v.K))if(v.K=at,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Vn=qe[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const Ii=qe[4];Ii!=null&&(v.za=Ii,v.j.info("SVER="+v.za));const ei=qe[5];ei!=null&&typeof ei=="number"&&ei>0&&(w=1.5*ei,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const ti=c.g;if(ti){const js=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var F=w.h;F.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Go(F,F.h),F.h=null))}if(w.G){const Ia=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(w.wa=Ia,Ke(w.J,w.G,Ia))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var re=c;if(w.na=Ju(w,w.L?w.ba:null,w.W),re.L){Ko(w.h,re);var we=re,gt=w.O;gt&&(we.H=gt),we.D&&(vi(we),_i(we)),w.g=re}else Ku(w);v.i.length>0&&Ci(v)}else qe[0]!="stop"&&qe[0]!="close"||xi(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?xi(v,7):tl(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}di(4)}catch{}}var St=class{constructor(c,y){this.g=c,this.map=y}};function Ho(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ti(c){return c.h?1:c.g?c.g.size:0}function bi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Go(c,y){c.g?c.g.add(y):c.h=y}function Ko(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ho.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return k(c.i)}var zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let j,F=null;w>=0?(j=c[v].substring(0,w),F=c[v].substring(w+1)):j=c[v],y(j,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function En(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof En?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,Sr(this,c.u),this.h=c.h,Yo(this,Fu(c.i)),this.m=c.m):c&&(y=String(c).match(zu))?(this.l=!1,zt(this,y[1]||"",!0),this.o=Si(y[2]||""),this.g=Si(y[3]||"",!0),Sr(this,y[4]),this.h=Si(y[5]||"",!0),Yo(this,y[6]||"",!0),this.m=Si(y[7]||"")):(this.l=!1,this.i=new wr(null,this.l))}En.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Os(y,ba,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Os(y,ba,!0),"@"),c.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Os(v,v.charAt(0)=="/"?$o:Bu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Os(v,qu)),c.join("")},En.prototype.resolve=function(c){const y=At(this);let v=!!c.j;v?zt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var w=c.h;if(v)Sr(y,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var j=y.h.lastIndexOf("/");j!=-1&&(w=y.h.slice(0,j+1)+w)}if(j=w,j==".."||j==".")w="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){w=j.lastIndexOf("/",0)==0,j=j.split("/");const F=[];for(let re=0;re<j.length;){const we=j[re++];we=="."?w&&re==j.length&&F.push(""):we==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),w&&re==j.length&&F.push("")):(F.push(we),w=!0)}w=F.join("/")}else w=j}return v?y.h=w:v=c.i.toString()!=="",v?Yo(y,Fu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function At(c){return new En(c)}function zt(c,y,v){c.j=v?Si(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Sr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Yo(c,y,v){y instanceof wr?(c.i=y,Aa(c.i,c.l)):(v||(y=Os(y,Ar)),c.i=new wr(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function Ds(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Si(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Os(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,un),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ba=/[#\/\?@]/g,Bu=/[#\?:]/g,$o=/[#\?]/g,Ar=/[#\?@]/g,qu=/#/g;function wr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ta(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=wr.prototype,r.add=function(c,y){cn(this),this.i=null,c=Rr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Hu(c,y){cn(c),y=Rr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xo(c,y){return cn(c),y=Rr(c,y),c.g.has(y)}r.forEach=function(c,y){cn(this),this.g.forEach(function(v,w){v.forEach(function(j){c.call(y,j,w,this)},this)},this)};function Jo(c,y){cn(c);let v=[];if(typeof y=="string")Xo(c,y)&&(v=v.concat(c.g.get(Rr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return cn(this),this.i=null,c=Rr(this,c),Xo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Jo(this,c),c.length>0?String(c[0]):y):y};function Sa(c,y,v){Hu(c,y),v.length>0&&(c.i=null,c.g.set(Rr(c,y),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var v=y[w];const j=qi(v);v=Jo(this,v);for(let F=0;F<v.length;F++){let re=j;v[F]!==""&&(re+="="+qi(v[F])),c.push(re)}}return this.i=c.join("&")};function Fu(c){const y=new wr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Rr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Aa(c,y){y&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(v,w){const j=w.toLowerCase();w!=j&&(Hu(this,w),Sa(this,j,v))},c)),c.j=y}function Jn(c,y){const v=new Yn;if(f.Image){const w=new Image;w.onload=E(On,v,"TestLoadImage: loaded",!0,y,w),w.onerror=E(On,v,"TestLoadImage: error",!1,y,w),w.onabort=E(On,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=E(On,v,"TestLoadImage: timeout",!1,y,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Wo(c,y){const v=new Yn,w=new AbortController,j=setTimeout(()=>{w.abort(),On(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(F=>{clearTimeout(j),F.ok?On(v,"TestPingServer: ok",!0,y):On(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),On(v,"TestPingServer: error",!1,y)})}function On(c,y,v,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(v)}catch{}}function Cr(){this.g=new Du}function Ai(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Ai,Ou),Ai.prototype.g=function(){return new Ms(this.i,this.h)};function Ms(c,y){Et.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ms,Et),r=Ms.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Wn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?xr(this):Wn(this),this.readyState==3&&wa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,xr(this))},r.Na=function(c){this.g&&(this.response=c,xr(this))},r.ga=function(){this.g&&xr(this)};function xr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Wn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mn(c){let y="";return je(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Vs(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Mn(v),typeof c=="string"?v!=null&&qi(v):Ke(c,y,v))}function $e(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b($e,Et);var wi=/^https?$/i,Zo=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qo.g(),this.g.onreadystatechange=A(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(F){ks(this,F);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)v.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const F of w.keys())v.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Zo,y,void 0)>=0)||w||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,re]of v)this.g.setRequestHeader(F,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){ks(this,F)}};function ks(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,el(c),Hi(c)}function el(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),Hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ls(this):this.Xa())},r.Xa=function(){Ls(this)};function Ls(c){if(c.h&&typeof u<"u"){if(c.v&&Zn(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=F===0){let re=String(c.D).match(zu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),w=!wi.test(re?re.toLowerCase():"")}v=w}if(v)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var j=Zn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",el(c)}}finally{Hi(c)}}}}function Hi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||kt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Tf(y)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(c){const y={};c=(c.g&&Zn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(I(c[w]))continue;var v=Pu(c[w]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=y[j]||[];y[j]=F,F.push(v)}Ge(y,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ir(c){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,c),this.Za=Ri("retryDelaySeedMs",1e4,c),this.Ta=Ri("forwardChannelMaxRetries",2,c),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(c&&c.concurrentRequestLimit),this.Ba=new Cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ir.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,w){Tt(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Ju(this,null,this.W),Ci(this)};function tl(c){if(Ra(c),c.I==3){var y=c.V++,v=At(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),Ps(c,v),y=new $n(c,c.j,y),y.M=2,y.A=Ds(At(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=Wu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),_i(y)}Xu(c)}function Nr(c){c.g&&(il(c),c.g.cancel(),c.g=null)}function Ra(c){Nr(c),c.v&&(f.clearTimeout(c.v),c.v=null),xa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ci(c){if(!Fo(c.h)&&!c.m){c.m=!0;var y=c.Ea;de||C(),be||(de(),be=!0),x.add(y,c),c.D=0}}function Ca(c,y){return Ti(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=pi(p(c.Ea,c,y),$u(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new $n(this,this.j,c);let F=this.o;if(this.U&&(F?(F=V(F),ae(F,this.U)):F=this.U),this.u!==null||this.R||(j.J=F,F=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Gu(this,j,y),v=At(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Ps(this,v),F&&(this.R?y="headers="+qi(Mn(F))+"&"+y:this.u&&Vs(v,this.u,F)),Go(this.h,j),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),j.U=!0,yi(j,v,null)):yi(j,v,y),this.I=2}}else this.I==3&&(c?nl(this,c):this.i.length==0||Fo(this.h)||nl(this))};function nl(c,y){var v;y?v=y.l:v=c.V++;const w=At(c.J);Ke(w,"SID",c.M),Ke(w,"RID",v),Ke(w,"AID",c.K),Ps(c,w),c.u&&c.o&&Vs(w,c.u,c.o),v=new $n(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Gu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Go(c.h,v),yi(v,w,y)}function Ps(c,y){c.H&&je(c.H,function(v,w){Ke(y,w,v)}),c.l&&je({},function(v,w){Ke(y,w,v)})}function Gu(c,y,v){v=Math.min(c.i.length,v);const w=c.l?p(c.l.Ka,c.l,c):null;e:{var j=c.i;let we=-1;for(;;){const gt=["count="+v];we==-1?v>0?(we=j[0].g,gt.push("ofs="+we)):we=0:gt.push("ofs="+we);let qe=!0;for(let at=0;at<v;at++){var F=j[at].g;const Vn=j[at].map;if(F-=we,F<0)we=Math.max(0,j[at].g-100),qe=!1;else try{F="req"+F+"_"||"";try{var re=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ii,ei]of re){let ti=ei;m(ei)&&(ti=br(ei)),gt.push(F+Ii+"="+encodeURIComponent(ti))}}catch(Ii){throw gt.push(F+"type="+encodeURIComponent("_badmap")),Ii}}catch{w&&w(Vn)}}if(qe){re=gt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function Ku(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;de||C(),be||(de(),be=!0),x.add(y,c),c.A=0}}function Us(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=pi(p(c.Da,c),$u(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=pi(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Nr(this),Qu(this))};function il(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Qu(c){c.g=new $n(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Ps(c,y),c.u&&c.o&&Vs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ds(At(y)),v.u=null,v.R=!0,va(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Nr(this),Us(this),Tt(19))};function xa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Yu(c,y){var v=null;if(c.g==y){xa(c),il(c),c.g=null;var w=2}else if(bi(c.h,y))v=y.G,Ko(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;w=_a(),kt(w,new mi(w,v)),Ci(c)}else Ku(c);else if(j=y.m,j==3||j==0&&y.X>0||!(w==1&&Ca(c,y)||w==2&&Us(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),j){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function $u(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function xi(c,y){if(c.j.info("Error code "+y),y==2){var v=p(c.bb,c),w=c.Ua;const j=!w;w=new En(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||zt(w,"https"),Ds(w),j?Jn(w.toString(),v):Wo(w.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(y),Xu(c),Ra(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Xu(c){if(c.I=0,c.ja=[],c.l){const y=Qo(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ja,y),H(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Ju(c,y,v){var w=v instanceof En?At(v):new En(v);if(w.g!="")y&&(w.g=y+"."+w.g),Sr(w,w.u);else{var j=f.location;w=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const F=new En(null);w&&zt(F,w),y&&(F.g=y),j&&Sr(F,j),v&&(F.h=v),w=F}return v=c.G,y=c.wa,v&&y&&Ke(w,v,y),Ke(w,"VER",c.ka),Ps(c,w),w}function Wu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new Ai({ab:v})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}r=Zu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Dr(){}Dr.prototype.g=function(c,y){return new on(c,y)};function on(c,y){Et.call(this),this.g=new Ir(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Gi(this)}b(on,Et),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){tl(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=br(c),c=v);y.i.push(new St(y.Ya++,c)),y.I==3&&Ci(y)},on.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,on.Z.N.call(this)};function ec(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(ec,Ht);function tc(){Nn.call(this),this.status=1}b(tc,Nn);function Gi(c){this.g=c}b(Gi,Zu),Gi.prototype.ra=function(){kt(this.g,"a")},Gi.prototype.qa=function(c){kt(this.g,new ec(c))},Gi.prototype.pa=function(c){kt(this.g,new tc)},Gi.prototype.oa=function(){kt(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,ab=function(){return new Dr},sb=function(){return _a()},rb=pt,Xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,_h=Is,Bo.COMPLETE="complete",ib=Bo,Mu.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Kl=Mu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,nb=$e}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});let tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let No="12.8.0";function rI(r){No=r}const ua=new bp("@firebase/firestore");function so(){return ua.logLevel}function le(r,...e){if(ua.logLevel<=Me.DEBUG){const n=e.map(Mp);ua.debug(`Firestore (${No}): ${r}`,...n)}}function pr(r,...e){if(ua.logLevel<=Me.ERROR){const n=e.map(Mp);ua.error(`Firestore (${No}): ${r}`,...n)}}function _o(r,...e){if(ua.logLevel<=Me.WARN){const n=e.map(Mp);ua.warn(`Firestore (${No}): ${r}`,...n)}}function Mp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ob(r,s,n)}function ob(r,e,n){let s=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw pr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||ob(e,o,s)}function Ae(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends _r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class lb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class aI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oI{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new lb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class lI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class uI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new lI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Vp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=hI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Jm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Vm(o)===Vm(u)?Ve(o,u):Vm(o)?1:-1}return Ve(r.length,e.length)}const fI=55296,dI=57343;function Vm(r){const e=r.charCodeAt(0);return e>=fI&&e<=dI}function vo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const k0="__name__";class Vi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Vi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Vi.isNumericId(e),o=Vi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):Jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class et extends Vi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const mI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Vi{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return mI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k0}static keyField(){return new Xt([k0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new oe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(et.fromString(e))}static fromName(e){return new pe(et.fromString(e).popFirst(5))}static empty(){return new pe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new et(e.slice()))}}function ub(r,e,n){if(!n)throw new oe(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function pI(r,e,n,s){if(e===!0&&s===!0)throw new oe(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function L0(r){if(!pe.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function P0(r){if(pe.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function _n(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(r);throw new oe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Au(r,e){if(!cb(r))throw new oe(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(J.INVALID_ARGUMENT,n);return!0}const U0=-62135596800,j0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*j0);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<U0)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Au(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Dt("string",it._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new it(0,0))}static max(){return new Te(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ou=-1;function gI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new ms(o,pe.empty(),e)}function yI(r){return new ms(r.readTime,r.key,ou)}class ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ms(Te.min(),pe.empty(),ou)}static max(){return new ms(Te.max(),pe.empty(),ou)}}function _I(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const vI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Do(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==vI)throw r;le("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((E=>{f[p]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function TI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(r){return r.name==="IndexedDbTransactionError"}class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zh.ce=-1;const kp=-1;function ef(r){return r==null}function Vh(r){return r===0&&1/r==-1/0}function bI(r){return typeof r=="number"&&Number.isInteger(r)&&!Vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const hb="";function SI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=z0(e)),e=AI(r.get(n),e);return z0(e)}function AI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case hb:n+="";break;default:n+=u}}return n}function z0(r){return r+hb+""}function B0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ts(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function fb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(e){return new q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Ut(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class db extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new db("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const wI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=wI.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function gs(r){return typeof r=="string"?Jt.fromBase64String(r):Jt.fromUint8Array(r)}const mb="server_timestamp",pb="__type__",gb="__previous_value__",yb="__local_write_time__";function Lp(r){return(r?.mapValue?.fields||{})[pb]?.stringValue===mb}function tf(r){const e=r.mapValue.fields[gb];return Lp(e)?tf(e):e}function lu(r){const e=ps(r.mapValue.fields[yb].timestampValue);return new it(e.seconds,e.nanos)}class RI{constructor(e,n,s,o,u,f,m,g,p,E,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E,this.apiKey=b}}const kh="(default)";class uu{constructor(e,n){this.projectId=e,this.database=n||kh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}function CI(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new oe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(r.options.projectId,e)}const _b="__type__",xI="__max__",uh={mapValue:{}},vb="__vector__",Lh="value";function ys(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lp(r)?4:NI(r)?9007199254740991:II(r)?10:11:ve(28295,{value:r})}function Bi(r,e){if(r===e)return!0;const n=ys(r);if(n!==ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return lu(r).isEqual(lu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ps(o.timestampValue),m=ps(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return gs(o.bytesValue).isEqual(gs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?Vh(f)===Vh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return vo(r.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(B0(f)!==B0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Bi(f[g],m[g])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function cu(r,e){return(r.values||[]).find((n=>Bi(n,e)))!==void 0}function Eo(r,e){if(r===e)return 0;const n=ys(r),s=ys(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),g=vt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return H0(r.timestampValue,e.timestampValue);case 4:return H0(lu(r),lu(e));case 5:return Jm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=gs(u),g=gs(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Ve(m[p],g[p]);if(E!==0)return E}return Ve(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(vt(u.latitude),vt(f.latitude));return m!==0?m:Ve(vt(u.longitude),vt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return F0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},p=m[Lh]?.arrayValue,E=g[Lh]?.arrayValue,b=Ve(p?.values?.length||0,E?.values?.length||0);return b!==0?b:F0(p,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===uh.mapValue&&f===uh.mapValue)return 0;if(u===uh.mapValue)return 1;if(f===uh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const A=Jm(g[b],E[b]);if(A!==0)return A;const k=Eo(m[g[b]],p[E[b]]);if(k!==0)return k}return Ve(g.length,E.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function H0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=ps(r),s=ps(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function F0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Eo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function To(r){return Wm(r)}function Wm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ps(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return gs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Wm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Wm(n.fields[f])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function vh(r){switch(ys(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tf(r);return e?16+vh(e):16;case 5:return 2*r.stringValue.length;case 6:return gs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+vh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ts(s.fields,((u,f)=>{o+=u.length+vh(f)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function G0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Zm(r){return!!r&&"integerValue"in r}function Pp(r){return!!r&&"arrayValue"in r}function K0(r){return!!r&&"nullValue"in r}function Q0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Eh(r){return!!r&&"mapValue"in r}function II(r){return(r?.mapValue?.fields||{})[_b]?.stringValue===vb}function Zl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ts(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Zl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zl(r.arrayValue.values[n]);return e}return{...r}}function NI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===xI}class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Zl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ts(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new yn(Zl(this.value))}}function Eb(r){const e=[];return Ts(r.fields,((n,s)=>{const o=new Xt([n]);if(Eh(s)){const u=Eb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new xn(e)}class rn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new rn(e,0,Te.min(),Te.min(),Te.min(),yn.empty(),0)}static newFoundDocument(e,n,s,o){return new rn(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new rn(e,2,n,Te.min(),Te.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,Te.min(),Te.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ph{constructor(e,n){this.position=e,this.inclusive=n}}function Y0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=Eo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function $0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Bi(r.position[n],e.position[n]))return!1;return!0}class hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function DI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Tb{}class Nt extends Tb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new MI(e,n,s):n==="array-contains"?new LI(e,s):n==="in"?new PI(e,s):n==="not-in"?new UI(e,s):n==="array-contains-any"?new jI(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new VI(e,s):new kI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends Tb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ci(e,n)}matches(e){return bb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bb(r){return r.op==="and"}function Sb(r){return OI(r)&&bb(r)}function OI(r){for(const e of r.filters)if(e instanceof ci)return!1;return!0}function ep(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+To(r.value);if(Sb(r))return r.filters.map((e=>ep(e))).join(",");{const e=r.filters.map((n=>ep(n))).join(",");return`${r.op}(${e})`}}function Ab(r,e){return r instanceof Nt?(function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)})(r,e):r instanceof ci?(function(s,o){return o instanceof ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&Ab(f,o.filters[m])),!0):!1})(r,e):void ve(19439)}function wb(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`})(r):r instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(wb).join(" ,")+"}"})(r):"Filter"}class MI extends Nt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class VI extends Nt{constructor(e,n){super(e,"in",n),this.keys=Rb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kI extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=Rb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Rb(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class LI extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pp(n)&&cu(n.arrayValue,this.value)}}class PI extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class UI extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cu(this.value.arrayValue,n)}}class jI extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>cu(this.value.arrayValue,s)))}}class zI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function X0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new zI(r,e,n,s,o,u,f)}function Up(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ep(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>To(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>To(s))).join(",")),e.Te=n}return e.Te}function jp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!DI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Ab(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!$0(r.startAt,e.startAt)&&$0(r.endAt,e.endAt)}function tp(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Mo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function BI(r,e,n,s,o,u,f,m){return new Mo(r,e,n,s,o,u,f,m)}function nf(r){return new Mo(r)}function J0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function qI(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Cb(r){return r.collectionGroup!==null}function eu(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ut(Xt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new hu(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new hu(Xt.keyField(),s))}return e.Ie}function Pi(r){const e=Ae(r);return e.Ee||(e.Ee=HI(e,eu(r))),e.Ee}function HI(r,e){if(r.limitType==="F")return X0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new hu(o.field,u)}));const n=r.endAt?new Ph(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ph(r.startAt.position,r.startAt.inclusive):null;return X0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function np(r,e){const n=r.filters.concat([e]);return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function FI(r,e){const n=r.explicitOrderBy.concat([e]);return new Mo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function ip(r,e,n){return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function rf(r,e){return jp(Pi(r),Pi(e))&&r.limitType===e.limitType}function xb(r){return`${Up(Pi(r))}|lt:${r.limitType}`}function ao(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>wb(o))).join(", ")}]`),ef(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>To(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>To(o))).join(",")),`Target(${s})`})(Pi(r))}; limitType=${r.limitType})`}function sf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const p=Y0(f,m,g);return f.inclusive?p<=0:p<0})(s.startAt,eu(s),o)||s.endAt&&!(function(f,m,g){const p=Y0(f,m,g);return f.inclusive?p>=0:p>0})(s.endAt,eu(s),o))})(r,e)}function GI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ib(r){return(e,n)=>{let s=!1;for(const o of eu(r)){const u=KI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function KI(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Eo(g,p):ve(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return fb(this.inner)}size(){return this.innerSize}}const QI=new ut(pe.comparator);function gr(){return QI}const Nb=new ut(pe.comparator);function Ql(...r){let e=Nb;for(const n of r)e=e.insert(n.key,n);return e}function Db(r){let e=Nb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function na(){return tu()}function Ob(){return tu()}function tu(){return new da((r=>r.toString()),((r,e)=>r.isEqual(e)))}const YI=new ut(pe.comparator),$I=new Ut(pe.comparator);function ke(...r){let e=$I;for(const n of r)e=e.add(n);return e}const XI=new Ut(Ve);function JI(){return XI}function zp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function Mb(r){return{integerValue:""+r}}function WI(r,e){return bI(e)?Mb(e):zp(r,e)}class af{constructor(){this._=void 0}}function ZI(r,e,n){return r instanceof fu?(function(o,u){const f={fields:{[pb]:{stringValue:mb},[yb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Lp(u)&&(u=tf(u)),u&&(f.fields[gb]=u),{mapValue:f}})(n,e):r instanceof du?kb(r,e):r instanceof mu?Lb(r,e):(function(o,u){const f=Vb(o,u),m=W0(f)+W0(o.Ae);return Zm(f)&&Zm(o.Ae)?Mb(m):zp(o.serializer,m)})(r,e)}function eN(r,e,n){return r instanceof du?kb(r,e):r instanceof mu?Lb(r,e):n}function Vb(r,e){return r instanceof Uh?(function(s){return Zm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class fu extends af{}class du extends af{constructor(e){super(),this.elements=e}}function kb(r,e){const n=Pb(e);for(const s of r.elements)n.some((o=>Bi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class mu extends af{constructor(e){super(),this.elements=e}}function Lb(r,e){let n=Pb(e);for(const s of r.elements)n=n.filter((o=>!Bi(o,s)));return{arrayValue:{values:n}}}class Uh extends af{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function W0(r){return vt(r.integerValue||r.doubleValue)}function Pb(r){return Pp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class tN{constructor(e,n){this.field=e,this.transform=n}}function nN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof du&&o instanceof du||s instanceof mu&&o instanceof mu?vo(s.elements,o.elements,Bi):s instanceof Uh&&o instanceof Uh?Bi(s.Ae,o.Ae):s instanceof fu&&o instanceof fu})(r.transform,e.transform)}class iN{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class of{}function Ub(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Bp(r.key,Gn.none()):new wu(r.key,r.data,Gn.none());{const n=r.data,s=yn.empty();let o=new Ut(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new bs(r.key,s,new xn(o.toArray()),Gn.none())}}function rN(r,e,n){r instanceof wu?(function(o,u,f){const m=o.value.clone(),g=eE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof bs?(function(o,u,f){if(!Th(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=eE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(jb(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function nu(r,e,n,s){return r instanceof wu?(function(u,f,m,g){if(!Th(u.precondition,f))return m;const p=u.value.clone(),E=tE(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof bs?(function(u,f,m,g){if(!Th(u.precondition,f))return m;const p=tE(u.fieldTransforms,g,f),E=f.data;return E.setAll(jb(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,f,m){return Th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function sN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Vb(s.transform,o||null);u!=null&&(n===null&&(n=yn.empty()),n.set(s.field,u))}return n||null}function Z0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,((u,f)=>nN(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class wu extends of{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bs extends of{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function jb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function eE(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,eN(f,m,n[o]))}return s}function tE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,ZI(u,f,e))}return s}class Bp extends of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aN extends of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&rN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Ob();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=Ub(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,((n,s)=>Z0(n,s)))&&vo(this.baseMutations,e.baseMutations,((n,s)=>Z0(n,s)))}}class qp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return YI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new qp(e,n,s,o)}}class lN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uN{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Ue;function cN(r){switch(r){case J.OK:return ve(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function zb(r){if(r===void 0)return pr("GRPC error has no .code"),J.UNKNOWN;switch(r){case It.OK:return J.OK;case It.CANCELLED:return J.CANCELLED;case It.UNKNOWN:return J.UNKNOWN;case It.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case It.INTERNAL:return J.INTERNAL;case It.UNAVAILABLE:return J.UNAVAILABLE;case It.UNAUTHENTICATED:return J.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case It.NOT_FOUND:return J.NOT_FOUND;case It.ALREADY_EXISTS:return J.ALREADY_EXISTS;case It.PERMISSION_DENIED:return J.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case It.ABORTED:return J.ABORTED;case It.OUT_OF_RANGE:return J.OUT_OF_RANGE;case It.UNIMPLEMENTED:return J.UNIMPLEMENTED;case It.DATA_LOSS:return J.DATA_LOSS;default:return ve(39323,{code:r})}}(Ue=It||(It={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function hN(){return new TextEncoder}const fN=new cs([4294967295,4294967295],0);function nE(r){const e=hN().encode(r),n=new tb;return n.update(e),new Uint8Array(n.digest())}function iE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new cs([n,s],0),new cs([o,u],0)]}class Hp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(cs.fromNumber(s)));return o.compare(fN)===1&&(o=new cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=nE(e),[s,o]=iE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Hp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=nE(e),[s,o]=iE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new lf(Te.min(),o,new ut(Ve),gr(),ke())}}class Ru{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ru(s,n,ke(),ke(),ke())}}class bh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Bb{constructor(e,n){this.targetId=e,this.Ce=n}}class qb{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class rE{constructor(){this.ve=0,this.Fe=sE(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new Ru(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=sE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class dN{constructor(e){this.Ge=e,this.ze=new Map,this.je=gr(),this.He=ch(),this.Je=ch(),this.Ze=new ut(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(tp(u))if(s===0){const f=new pe(u.path);this.et(n,f,rn.newNoDocument(f,Te.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=gs(s).toUint8Array()}catch(g){if(g instanceof db)return _o("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Hp(f,o,u)}catch(g){return _o(g instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&tp(m.target)){const g=new pe(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,rn.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=ke();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new lf(e,n,this.Ze,this.je,s);return this.je=gr(),this.He=ch(),this.Je=ch(),this.Ze=new ut(Ve),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new rE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ut(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ut(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ch(){return new ut(pe.comparator)}function sE(){return new ut(pe.comparator)}const mN={asc:"ASCENDING",desc:"DESCENDING"},pN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gN={and:"AND",or:"OR"};class yN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rp(r,e){return r.useProto3Json||ef(e)?e:{value:e}}function jh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function _N(r,e){return jh(r,e.toTimestamp())}function Ui(r){return Fe(!!r,49232),Te.fromTimestamp((function(n){const s=ps(n);return new it(s.seconds,s.nanos)})(r))}function Fp(r,e){return sp(r,e).canonicalString()}function sp(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Fb(r){const e=et.fromString(r);return Fe($b(e),10190,{key:e.toString()}),e}function ap(r,e){return Fp(r.databaseId,e.path)}function km(r,e){const n=Fb(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(Kb(n))}function Gb(r,e){return Fp(r.databaseId,e)}function vN(r){const e=Fb(r);return e.length===4?et.emptyPath():Kb(e)}function op(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Kb(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function aE(r,e,n){return{name:ap(r,e),fields:n.value.mapValue.fields}}function EN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ve(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Jt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Jt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?J.UNKNOWN:zb(p.code);return new oe(E,p.message||"")})(f);n=new qb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=km(r,s.document.name),u=Ui(s.document.updateTime),f=s.document.createTime?Ui(s.document.createTime):Te.min(),m=new yn({mapValue:{fields:s.document.fields}}),g=rn.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new bh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=km(r,s.document),u=s.readTime?Ui(s.readTime):Te.min(),f=rn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new bh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=km(r,s.document),u=s.removedTargetIds||[];n=new bh([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new uN(o,u),m=s.targetId;n=new Bb(m,f)}}return n}function TN(r,e){let n;if(e instanceof wu)n={update:aE(r,e.key,e.value)};else if(e instanceof Bp)n={delete:ap(r,e.key)};else if(e instanceof bs)n={update:aE(r,e.key,e.data),updateMask:NN(e.fieldMask)};else{if(!(e instanceof aN))return ve(16599,{dt:e.type});n={verify:ap(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof fu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof du)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof mu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:_N(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(r,e.precondition)),n}function bN(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ui(o.updateTime):Ui(u);return f.isEqual(Te.min())&&(f=Ui(u)),new iN(f,o.transformResults||[])})(n,e)))):[]}function SN(r,e){return{documents:[Gb(r,e.path)]}}function AN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Gb(r,o);const u=(function(p){if(p.length!==0)return Yb(ci.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(A){return{field:oo(A.field),direction:CN(A.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=rp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function wN(r){let e=vN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const A=Qb(b);return A instanceof ci&&Sb(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((A=>(function(H){return new hu(lo(H.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let A;return A=typeof b=="object"?b.value:b,ef(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(b){const A=!!b.before,k=b.values||[];return new Ph(k,A)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const A=!b.before,k=b.values||[];return new Ph(k,A)})(n.endAt)),BI(e,o,f,u,m,"F",g,p)}function RN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Qb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=lo(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(lo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((s=>Qb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(r):ve(30097,{filter:r})}function CN(r){return mN[r]}function xN(r){return pN[r]}function IN(r){return gN[r]}function oo(r){return{fieldPath:r.canonicalString()}}function lo(r){return Xt.fromServerFormat(r.fieldPath)}function Yb(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(Q0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(K0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(K0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:xN(n.op),value:n.value}}})(r):r instanceof ci?(function(n){const s=n.getFilters().map((o=>Yb(o)));return s.length===1?s[0]:{compositeFilter:{op:IN(n.op),filters:s}}})(r):ve(54877,{filter:r})}function NN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function $b(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function Xb(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class as{constructor(e,n,s,o,u=Te.min(),f=Te.min(),m=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class DN{constructor(e){this.yt=e}}function ON(r){const e=wN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ip(e,e.limit,"L"):e}class MN{constructor(){this.Sn=new VN}addToCollectionParentIndex(e,n){return this.Sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ms.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class VN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(et.comparator)).toArray()}}const oE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jb=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(Jb,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class bo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new bo(0)}static ar(){return new bo(-1)}}const lE="LruGarbageCollector",kN=1048576;function uE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class LN{constructor(e){this.Pr=e,this.buffer=new Ut(uE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();uE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(lE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oo(n)?le(lE,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.Ar(3e5)}))}}class UN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Zh.ce);const s=new LN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(oE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),so()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function jN(r,e){return new UN(r,e)}class zN{constructor(){this.changes=new da((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class BN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class qN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&nu(s.mutation,o,xn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=na();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Ql();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=na();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=gr();const f=tu(),m=(function(){return tu()})();return n.forEach(((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof bs)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),nu(E.mutation,p,E.mutation.getFieldMask(),it.now())):f.set(p.key,xn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>m.set(p,new BN(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=tu();let o=new ut(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||xn.empty();E=m.applyToLocalView(p,E),s.set(g,E);const b=(o.get(m.batchId)||ke()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,b=Ob();E.forEach((A=>{if(!u.has(A)){const k=Ub(n.get(A),s.get(A));k!==null&&b.set(A,k),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,b))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return qI(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Cb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(na());let m=ou,g=u;return f.next((p=>te.forEach(p,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{g=g.insert(E,A)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,ke()))).next((E=>({batchId:m,changes:Db(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ql();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(g=>{const p=(function(b,A){return new Mo(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((b,A)=>{f=f.insert(b,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,rn.newInvalidDocument(E)))}));let m=Ql();return f.forEach(((g,p)=>{const E=u.get(g);E!==void 0&&nu(E.mutation,p,xn.empty(),it.now()),sf(n,p)&&(m=m.insert(g,p))})),m}))}}class HN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ui(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:ON(o.bundledQuery),readTime:Ui(o.readTime)}})(n)),te.resolve()}}class FN{constructor(){this.overlays=new ut(pe.comparator),this.Lr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=na();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=na(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=na(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=na(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return te.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new lN(n,s));let u=this.Lr.get(n);u===void 0&&(u=ke(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class GN{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class Gp{constructor(){this.kr=new Ut(qt.Kr),this.qr=new Ut(qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new qt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new pe(new et([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new pe(new et([])),s=new qt(n,e),o=new qt(n,e+1);let u=ke();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new qt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return pe.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||pe.comparator(e.key,n.key)}}class KN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(qt.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new oN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?kp:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(Ve);return n.forEach((o=>{const u=new qt(o,0),f=new qt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),te.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new qt(new pe(u),0);let m=new Ut(Ve);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),f),te.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return te.forEach(n.mutations,(o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new qt(n,0),o=this.Jr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class QN{constructor(e){this.ti=e,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let s=gr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=gr();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||_I(yI(E),s)<=0||(o.has(E.key)||sf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ni(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new YN(this)}getSize(e){return te.resolve(this.size)}}class YN extends zN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class $N{constructor(e){this.persistence=e,this.ri=new da((n=>Up(n)),jp),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new Gp,this.targetCount=0,this.oi=bo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.lr(n),te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.si.containsKey(n))}}class Wb{constructor(e,n){this._i={},this.overlays={},this.ai=new Zh(0),this.ui=!1,this.ui=!0,this.ci=new GN,this.referenceDelegate=e(this),this.li=new $N(this),this.indexManager=new MN,this.remoteDocumentCache=(function(o){return new QN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new DN(n),this.Pi=new HN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new KN(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new XN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return te.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class XN extends EI{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.Ri=new Gp,this.Ai=null}static Vi(e){return new Kp(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(s=>{const o=pe.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.fi=new da((s=>SI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=jN(this,n)}static Vi(e,n){return new zh(e,n)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return te.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}wr(e,n,s){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Qp(e,n.fromCache,s,o)}}class JN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class WN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return bR()?8:TI(sn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new JN;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(so()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(so()<=Me.DEBUG&&le("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(so()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(n))):te.resolve())}gs(e,n){if(J0(n))return te.resolve(null);let s=Pi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ip(n,null,"F"),s=Pi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.bs(n,m);return this.Ss(n,p,f,g.readTime)?this.gs(e,ip(n,null,"F")):this.Ds(e,p,n,g)}))))})))))}ps(e,n,s,o){return J0(n)||o.isEqual(Te.min())?te.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?te.resolve(null):(so()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.Ds(e,f,n,gI(o,ou)).next((m=>m)))}))}bs(e,n){let s=new Ut(Ib(e));return n.forEach(((o,u)=>{sf(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return so()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ao(n)),this.fs.getDocumentsMatchingQuery(e,n,ms.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Yp="LocalStore",ZN=3e8;class eD{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ut(Ve),this.Fs=new da((u=>Up(u)),jp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function tD(r,e,n,s){return new eD(r,e,n,s)}async function Zb(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=ke();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ns:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function nD(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const b=p.batch,A=b.keys();let k=te.resolve();return A.forEach((H=>{k=k.next((()=>E.getEntry(g,H))).next((Q=>{const G=p.docVersions.get(H);Fe(G!==null,48541),Q.version.compareTo(G)<0&&(b.applyToRemoteDocument(Q,p),Q.isValidDocument()&&(Q.setReadTime(p.commitVersion),E.addEntry(Q)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=ke();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function eS(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function iD(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,b)=>{const A=o.get(b);if(!A)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,b))));let k=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?k=k.withResumeToken(Jt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(b,k),(function(Q,G,Z){return Q.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=ZN?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(A,k,E)&&m.push(n.li.updateTargetData(u,k))}));let g=gr(),p=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(rD(u,f,e.documentUpdates).next((E=>{g=E.Bs,p=E.Ls}))),!s.isEqual(Te.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.vs=o,u)))}function rD(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=gr();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):le(Yp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function sD(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=kp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function aD(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new as(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function lp(r,e,n){const s=Ae(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Oo(f))throw f;le(Yp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function cE(r,e,n){const s=Ae(r);let o=Te.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,p,E){const b=Ae(g),A=b.Fs.get(E);return A!==void 0?te.resolve(b.vs.get(A)):b.li.getTargetData(p,E)})(s,f,Pi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Te.min(),n?u:ke()))).next((m=>(oD(s,GI(e),m),{documents:m,ks:u})))))}function oD(r,e,n){let s=r.Ms.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class hE{constructor(){this.activeTargetIds=JI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lD{constructor(){this.vo=new hE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new hE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uD{Mo(e){}shutdown(){}}const fE="ConnectivityMonitor";class dE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(fE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(fE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hh=null;function up(){return hh===null?hh=(function(){return 268435456+Math.round(2147483648*Math.random())})():hh++,"0x"+hh.toString(16)}const Lm="RestConnection",cD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class hD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=up(),m=this.Qo(e,n.toUriEncodedString());le(Lm,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:p}=new URL(m),E=Co(p);return this.zo(e,m,g,s,E).then((b=>(le(Lm,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw _o(Lm,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=cD[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class fD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Zt="WebChannelConnection",Hl=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class mo extends hD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!mo.c_){const e=sb();Hl(e,rb.STAT_EVENT,(n=>{n.stat===Xm.PROXY?le(Zt,"STAT_EVENT: detected buffering proxy"):n.stat===Xm.NOPROXY&&le(Zt,"STAT_EVENT: detected no buffering proxy")})),mo.c_=!0}}zo(e,n,s,o,u){const f=up();return new Promise(((m,g)=>{const p=new nb;p.setWithCredentials(!0),p.listenOnce(ib.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case _h.NO_ERROR:const b=p.getResponseJson();le(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case _h.TIMEOUT:le(Zt,`RPC '${e}' ${f} timed out`),g(new oe(J.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const A=p.getStatus();if(le(Zt,`RPC '${e}' ${f} failed with status:`,A,"response text:",p.getResponseText()),A>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const H=k?.error;if(H&&H.status&&H.message){const Q=(function(Z){const ne=Z.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ne)>=0?ne:J.UNKNOWN})(H.status);g(new oe(Q,H.message))}else g(new oe(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new oe(J.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{le(Zt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);le(Zt,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=up(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const p=u.join("");le(Zt,`Creating RPC '${e}' stream ${o}: ${p}`,m);const E=f.createWebChannel(p,m);this.I_(E);let b=!1,A=!1;const k=new fD({Ho:H=>{A?le(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(b||(le(Zt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),le(Zt,`RPC '${e}' stream ${o} sending:`,H),E.send(H))},Jo:()=>E.close()});return Hl(E,Kl.EventType.OPEN,(()=>{A||(le(Zt,`RPC '${e}' stream ${o} transport opened.`),k.i_())})),Hl(E,Kl.EventType.CLOSE,(()=>{A||(A=!0,le(Zt,`RPC '${e}' stream ${o} transport closed`),k.o_(),this.E_(E))})),Hl(E,Kl.EventType.ERROR,(H=>{A||(A=!0,_o(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),k.o_(new oe(J.UNAVAILABLE,"The operation could not be completed")))})),Hl(E,Kl.EventType.MESSAGE,(H=>{if(!A){const Q=H.data[0];Fe(!!Q,16349);const G=Q,Z=G?.error||G[0]?.error;if(Z){le(Zt,`RPC '${e}' stream ${o} received error:`,Z);const ne=Z.status;let ie=(function(be){const x=It[be];if(x!==void 0)return zb(x)})(ne),fe=Z.message;ie===void 0&&(ie=J.INTERNAL,fe="Unknown error status: "+ne+" with message "+Z.message),A=!0,k.o_(new oe(ie,fe)),E.close()}else le(Zt,`RPC '${e}' stream ${o} received:`,Q),k.__(Q)}})),mo.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ab()}}function dD(r){return new mo(r)}function Pm(){return typeof document<"u"?document:null}function uf(r){return new yN(r,!0)}mo.c_=!1;class tS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const mE="PersistentStream";class nS{constructor(e,n,s,o,u,f,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(mE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(mE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mD extends nS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=EN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?Ui(f.readTime):Te.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=op(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=tp(g)?{documents:SN(u,g)}:{query:AN(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Hb(u,f.resumeToken);const p=rp(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=jh(u,f.snapshotVersion.toTimestamp());const p=rp(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=RN(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=op(this.serializer),n.removeTarget=e,this.K_(n)}}class pD extends nS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bN(e.writeResults,e.commitTime),s=Ui(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=op(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>TN(this.serializer,s)))};this.K_(n)}}class gD{}class yD extends gD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,sp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(J.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,sp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function _D(r,e,n,s){return new yD(r,e,n,s)}class vD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class ED{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{ma(this)&&(le(ca,"Restarting streams for network reachability change."),await(async function(g){const p=Ae(g);p.Ea.add(4),await Cu(p),p.Va.set("Unknown"),p.Ea.delete(4),await cf(p)})(this))}))})),this.Va=new vD(s,o)}}async function cf(r){if(ma(r))for(const e of r.Ra)await e(!0)}async function Cu(r){for(const e of r.Ra)await e(!1)}function iS(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Wp(n)?Jp(n):Vo(n).O_()&&Xp(n,e))}function $p(r,e){const n=Ae(r),s=Vo(n);n.Ia.delete(e),s.O_()&&rS(n,e),n.Ia.size===0&&(s.O_()?s.L_():ma(n)&&n.Va.set("Unknown"))}function Xp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(r).Z_(e)}function rS(r,e){r.da.$e(e),Vo(r).X_(e)}function Jp(r){r.da=new dN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Vo(r).start(),r.Va.ua()}function Wp(r){return ma(r)&&!Vo(r).x_()&&r.Ia.size>0}function ma(r){return Ae(r).Ea.size===0}function sS(r){r.da=void 0}async function TD(r){r.Va.set("Online")}async function bD(r){r.Ia.forEach(((e,n)=>{Xp(r,e)}))}async function SD(r,e){sS(r),Wp(r)?(r.Va.ha(e),Jp(r)):r.Va.set("Unknown")}async function AD(r,e,n){if(r.Va.set("Online"),e instanceof qb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){le(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bh(r,s)}else if(e instanceof bh?r.da.Xe(e):e instanceof Bb?r.da.st(e):r.da.tt(e),!n.isEqual(Te.min()))try{const s=await eS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Jt.EMPTY_BYTE_STRING,E.snapshotVersion)),rS(u,g);const b=new as(E.target,g,p,E.sequenceNumber);Xp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(ca,"Failed to raise snapshot:",s),await Bh(r,s)}}async function Bh(r,e,n){if(!Oo(e))throw e;r.Ea.add(1),await Cu(r),r.Va.set("Offline"),n||(n=()=>eS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(ca,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await cf(r)}))}function aS(r,e){return e().catch((n=>Bh(r,n,e)))}async function hf(r){const e=Ae(r),n=_s(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kp;for(;wD(e);)try{const o=await sD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,RD(e,o)}catch(o){await Bh(e,o)}oS(e)&&lS(e)}function wD(r){return ma(r)&&r.Ta.length<10}function RD(r,e){r.Ta.push(e);const n=_s(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function oS(r){return ma(r)&&!_s(r).x_()&&r.Ta.length>0}function lS(r){_s(r).start()}async function CD(r){_s(r).ra()}async function xD(r){const e=_s(r);for(const n of r.Ta)e.ea(n.mutations)}async function ID(r,e,n){const s=r.Ta.shift(),o=qp.from(s,e,n);await aS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await hf(r)}async function ND(r,e){e&&_s(r).Y_&&await(async function(s,o){if((function(f){return cN(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();_s(s).B_(),await aS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await hf(s)}})(r,e),oS(r)&&lS(r)}async function pE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),le(ca,"RemoteStore received new credentials");const s=ma(n);n.Ea.add(3),await Cu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cf(n)}async function DD(r,e){const n=Ae(r);e?(n.Ea.delete(2),await cf(n)):e||(n.Ea.add(2),await Cu(n),n.Va.set("Unknown"))}function Vo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new mD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:TD.bind(null,r),Yo:bD.bind(null,r),t_:SD.bind(null,r),J_:AD.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Wp(r)?Jp(r):r.Va.set("Unknown")):(await r.ma.stop(),sS(r))}))),r.ma}function _s(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new pD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:CD.bind(null,r),t_:ND.bind(null,r),ta:xD.bind(null,r),na:ID.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await hf(r)):(await r.fa.stop(),r.Ta.length>0&&(le(ca,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Zp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Zp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(r,e){if(pr("AsyncQueue",`${e}: ${r}`),Oo(r))return new oe(J.UNAVAILABLE,`${e}: ${r}`);throw r}class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Ql(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class gE{constructor(){this.ga=new ut(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class So{constructor(e,n,s,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new So(e,n,po.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class OD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class MD{constructor(){this.queries=yE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=yE(),u.forEach(((f,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new oe(J.ABORTED,"Firestore shutting down"))}}function yE(){return new da((r=>xb(r)),rf)}async function tg(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new OD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=eg(f,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ig(n)}async function ng(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function VD(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&ig(n)}function kD(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function ig(r){r.Ca.forEach((e=>{e.next()}))}var cp,_E;(_E=cp||(cp={})).Ma="default",_E.Cache="cache";class rg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new So(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cp.Cache}}class uS{constructor(e){this.key=e}}class cS{constructor(e){this.key=e}}class LD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ke(),this.mutatedKeys=ke(),this.eu=Ib(e),this.tu=new po(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new gE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const A=o.get(E),k=sf(this.query,b)?b:null,H=!!A&&this.mutatedKeys.has(A.key),Q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let G=!1;A&&k?A.data.isEqual(k.data)?H!==Q&&(s.track({type:3,doc:k}),G=!0):this.su(A,k)||(s.track({type:2,doc:k}),G=!0,(g&&this.eu(k,g)>0||p&&this.eu(k,p)<0)&&(m=!0)):!A&&k?(s.track({type:0,doc:k}),G=!0):A&&!k&&(s.track({type:1,doc:A}),G=!0,(g||p)&&(m=!0)),G&&(k?(f=f.add(k),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,b)=>(function(k,H){const Q=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:G})}};return Q(k)-Q(H)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,f.length!==0||p?{snapshot:new So(this.query,e.tu,u,f,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new cS(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new uS(s))})),n}cu(e){this.Za=e.ks,this.Ya=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sg="SyncEngine";class PD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class UD{constructor(e){this.key=e,this.hu=!1}}class jD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new da((m=>xb(m)),rf),this.Iu=new Map,this.Eu=new Set,this.Ru=new ut(pe.comparator),this.Au=new Map,this.Vu=new Gp,this.du={},this.mu=new Map,this.fu=bo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zD(r,e,n=!0){const s=gS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await hS(s,e,n,!0),o}async function BD(r,e){const n=gS(r);await hS(n,e,!0,!1)}async function hS(r,e,n,s){const o=await aD(r.localStore,Pi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await qD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&iS(r.remoteStore,o),m}async function qD(r,e,n,s,o){r.pu=(b,A,k)=>(async function(Q,G,Z,ne){let ie=G.view.ru(Z);ie.Ss&&(ie=await cE(Q.localStore,G.query,!1).then((({documents:x})=>G.view.ru(x,ie))));const fe=ne&&ne.targetChanges.get(G.targetId),de=ne&&ne.targetMismatches.get(G.targetId)!=null,be=G.view.applyChanges(ie,Q.isPrimaryClient,fe,de);return EE(Q,G.targetId,be.au),be.snapshot})(r,b,A,k);const u=await cE(r.localStore,e,!0),f=new LD(e,u.ks),m=f.ru(u.documents),g=Ru.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,g);EE(r,n,p.au);const E=new PD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function HD(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!rf(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await lp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&$p(s.remoteStore,o.targetId),hp(s,o.targetId)})).catch(Do)):(hp(s,o.targetId),await lp(s.localStore,o.targetId,!0))}async function FD(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),$p(n.remoteStore,s.targetId))}async function GD(r,e,n){const s=WD(r);try{const o=await(function(f,m){const g=Ae(f),p=it.now(),E=m.reduce(((k,H)=>k.add(H.key)),ke());let b,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let H=gr(),Q=ke();return g.xs.getEntries(k,E).next((G=>{H=G,H.forEach(((Z,ne)=>{ne.isValidDocument()||(Q=Q.add(Z))}))})).next((()=>g.localDocuments.getOverlayedDocuments(k,H))).next((G=>{b=G;const Z=[];for(const ne of m){const ie=sN(ne,b.get(ne.key).overlayedDocument);ie!=null&&Z.push(new bs(ne.key,ie,Eb(ie.value.mapValue),Gn.exists(!0)))}return g.mutationQueue.addMutationBatch(k,p,Z,m)})).next((G=>{A=G;const Z=G.applyToLocalDocumentSet(b,Q);return g.documentOverlayCache.saveOverlays(k,G.batchId,Z)}))})).then((()=>({batchId:A.batchId,changes:Db(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let p=f.du[f.currentUser.toKey()];p||(p=new ut(Ve)),p=p.insert(m,g),f.du[f.currentUser.toKey()]=p})(s,o.batchId,n),await xu(s,o.changes),await hf(s.remoteStore)}catch(o){const u=eg(o,"Failed to persist write");n.reject(u)}}async function fS(r,e){const n=Ae(r);try{const s=await iD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await xu(n,s,e)}catch(s){await Do(s)}}function vE(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Ae(f);g.onlineState=m;let p=!1;g.queries.forEach(((E,b)=>{for(const A of b.ba)A.va(m)&&(p=!0)})),p&&ig(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function KD(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(pe.comparator);f=f.insert(u,rn.newNoDocument(u,Te.min()));const m=ke().add(u),g=new lf(Te.min(),new Map,new ut(Ve),f,m);await fS(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),ag(s)}else await lp(s.localStore,e,!1).then((()=>hp(s,e,n))).catch(Do)}async function QD(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await nD(n.localStore,e);mS(n,s,null),dS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await xu(n,o)}catch(o){await Do(o)}}async function YD(r,e,n){const s=Ae(r);try{const o=await(function(f,m){const g=Ae(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((b=>(Fe(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(p,b)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);mS(s,e,n),dS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await xu(s,o)}catch(o){await Do(o)}}function dS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function mS(r,e,n){const s=Ae(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function hp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||pS(r,s)}))}function pS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&($p(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),ag(r))}function EE(r,e,n){for(const s of n)s instanceof uS?(r.Vu.addReference(s.key,e),$D(r,s)):s instanceof cS?(le(sg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||pS(r,s.key)):ve(19791,{wu:s})}function $D(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(le(sg,"New document in limbo: "+n),r.Eu.add(s),ag(r))}function ag(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(et.fromString(e)),s=r.fu.next();r.Au.set(s,new UD(n)),r.Ru=r.Ru.insert(n,s),iS(r.remoteStore,new as(Pi(nf(n.path)),s,"TargetPurposeLimboResolution",Zh.ce))}}async function xu(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=Qp.Es(g.targetId,p);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(g,p){const E=Ae(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>te.forEach(p,(A=>te.forEach(A.Ts,(k=>E.persistence.referenceDelegate.addReference(b,A.targetId,k))).next((()=>te.forEach(A.Is,(k=>E.persistence.referenceDelegate.removeReference(b,A.targetId,k)))))))))}catch(b){if(!Oo(b))throw b;le(Yp,"Failed to update sequence numbers: "+b)}for(const b of p){const A=b.targetId;if(!b.fromCache){const k=E.vs.get(A),H=k.snapshotVersion,Q=k.withLastLimboFreeSnapshotVersion(H);E.vs=E.vs.insert(A,Q)}}})(s.localStore,u))}async function XD(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){le(sg,"User change. New user:",e.toKey());const s=await Zb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new oe(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xu(n,s.Ns)}}function JD(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function gS(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=fS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KD.bind(null,e),e.Pu.J_=VD.bind(null,e.eventManager),e.Pu.yu=kD.bind(null,e.eventManager),e}function WD(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YD.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tD(this.persistence,new WN,e.initialUser,this.serializer)}Cu(e){return new Wb(Kp.Vi,this.serializer)}Du(e){return new lD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class ZD extends qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new PN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new Wb((s=>zh.Vi(s,n)),this.serializer)}}class fp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=XD.bind(null,this.syncEngine),await DD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MD})()}createDatastore(e){const n=uf(e.databaseInfo.databaseId),s=dD(e.databaseInfo);return _D(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new ED(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>vE(this.syncEngine,n,0)),(function(){return dE.v()?new dE:new uD})())}createSyncEngine(e,n){return(function(o,u,f,m,g,p,E){const b=new jD(o,u,f,m,g,p);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);le(ca,"RemoteStore shutting down."),s.Ea.add(5),await Cu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fp.provider={build:()=>new fp};class og{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const vs="FirestoreClient";class eO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{le(vs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(le(vs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=eg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Um(r,e){r.asyncQueue.verifyOperationInProgress(),le(vs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Zb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function TE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await tO(r);le(vs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>pE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>pE(e.remoteStore,o))),r._onlineComponents=e}async function tO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(vs,"Using user provided OfflineComponentProvider");try{await Um(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Um(r,new qh)}}else le(vs,"Using default OfflineComponentProvider"),await Um(r,new ZD(void 0));return r._offlineComponents}async function yS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(vs,"Using user provided OnlineComponentProvider"),await TE(r,r._uninitializedComponentsProvider._online)):(le(vs,"Using default OnlineComponentProvider"),await TE(r,new fp))),r._onlineComponents}function nO(r){return yS(r).then((e=>e.syncEngine))}async function Hh(r){const e=await yS(r),n=e.eventManager;return n.onListen=zD.bind(null,e.syncEngine),n.onUnlisten=HD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FD.bind(null,e.syncEngine),n}function iO(r,e,n,s){const o=new og(s),u=new rg(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>tg(await Hh(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>ng(await Hh(r),u)))}}function rO(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const E=new og({next:A=>{E.Nu(),f.enqueueAndForget((()=>ng(u,b)));const k=A.docs.has(m);!k&&A.fromCache?p.reject(new oe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&A.fromCache&&g&&g.source==="server"?p.reject(new oe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),b=new rg(nf(m.path),E,{includeMetadataChanges:!0,Ka:!0});return tg(u,b)})(await Hh(r),r.asyncQueue,e,n,s))),s.promise}function sO(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,p){const E=new og({next:A=>{E.Nu(),f.enqueueAndForget((()=>ng(u,b))),A.fromCache&&g.source==="server"?p.reject(new oe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(A)},error:A=>p.reject(A)}),b=new rg(m,E,{includeMetadataChanges:!0,Ka:!0});return tg(u,b)})(await Hh(r),r.asyncQueue,e,n,s))),s.promise}function aO(r,e){const n=new hr;return r.asyncQueue.enqueueAndForget((async()=>GD(await nO(r),e,n))),n.promise}function _S(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const oO="ComponentProvider",bE=new Map;function lO(r,e,n,s,o){return new RI(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,_S(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const vS="firestore.googleapis.com",SE=!0;class AE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vS,this.ssl=SE}else this.host=e.host,this.ssl=e.ssl??SE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Jb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kN)throw new oe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_S(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ff{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new sI;switch(s.type){case"firstParty":return new uI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=bE.get(n);s&&(le(oO,"Removing Datastore"),bE.delete(n),s.terminate())})(this),Promise.resolve()}}function uO(r,e,n,s={}){r=_n(r,ff);const o=Co(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(dT(`https://${m}`),mT("Firestore",!0)),u.host!==vS&&u.host!==m&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!sa(g,f)&&(r._setSettings(g),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=tn.MOCK_USER;else{p=dR(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new oe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(b)}r._authCredentials=new aI(new lb(p,E))}}class Ss{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Au(n,mt._jsonSchema))return new mt(e,s||null,new pe(et.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Dt("string",mt._jsonSchemaVersion),referencePath:Dt("string")};class hs extends Ss{constructor(e,n,s){super(e,n,nf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new pe(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function ai(r,e,...n){if(r=Ot(r),ub("collection","path",e),r instanceof ff){const s=et.fromString(e,...n);return P0(s),new hs(r,null,s)}{if(!(r instanceof mt||r instanceof hs))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return P0(s),new hs(r.firestore,null,s)}}function Kn(r,e,...n){if(r=Ot(r),arguments.length===1&&(e=Vp.newId()),ub("doc","path",e),r instanceof ff){const s=et.fromString(e,...n);return L0(s),new mt(r,null,new pe(s))}{if(!(r instanceof mt||r instanceof hs))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return L0(s),new mt(r.firestore,r instanceof hs?r.converter:null,new pe(s))}}const wE="AsyncQueue";class RE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tS(this,"async_queue_retry"),this._c=()=>{const s=Pm();s&&le(wE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Oo(e))throw e;le(wE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,pr("INTERNAL UNHANDLED ERROR: ",CE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Zp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:CE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function CE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class yr extends ff{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new RE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RE(e),this._firestoreClient=void 0,await e}}}function cO(r,e){const n=typeof r=="object"?r:_T(),s=typeof r=="string"?r:kh,o=Ap(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=hR("firestore");u&&uO(o,...u)}return o}function df(r){if(r._terminated)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||hO(r),r._firestoreClient}function hO(r){const e=r._freezeSettings(),n=lO(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new eO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Jt.fromBase64String(e))}catch(n){throw new oe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Au(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Dt("string",Fn._jsonSchemaVersion),bytes:Dt("string")};class lg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mf{constructor(e){this._methodName=e}}class ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(Au(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Dt("string",ji._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class oi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Au(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new oi(e.vectorValues);throw new oe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Dt("string",oi._jsonSchemaVersion),vectorValues:Dt("object")};const fO=/^__.*__$/;class dO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new wu(e,this.data,n,this.fieldTransforms)}}class ES{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new bs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:r})}}class ug{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ug({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Fh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(TS(this.dataSource)&&fO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class mO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||uf(e)}createContext(e,n,s,o=!1){return new ug({dataSource:e,methodName:n,targetDoc:s,path:Xt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pf(r){const e=r._freezeSettings(),n=uf(r._databaseId);return new mO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function bS(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);hg("Data must be an object, but it was:",f,s);const m=SS(s,f);let g,p;if(u.merge)g=new xn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const A=ha(e,b,n);if(!f.contains(A))throw new oe(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);RS(E,A)||E.push(A)}g=new xn(E),p=f.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,p=f.fieldTransforms;return new dO(new yn(m),g,p)}class gf extends mf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gf}}class cg extends mf{_toFieldTransform(e){return new tN(e.path,new fu)}isEqual(e){return e instanceof cg}}function pO(r,e,n,s){const o=r.createContext(1,e,n);hg("Data must be an object, but it was:",o,s);const u=[],f=yn.empty();Ts(s,((g,p)=>{const E=wS(e,g,n);p=Ot(p);const b=o.childContextForFieldPath(E);if(p instanceof gf)u.push(E);else{const A=Iu(p,b);A!=null&&(u.push(E),f.set(E,A))}}));const m=new xn(u);return new ES(f,m,o.fieldTransforms)}function gO(r,e,n,s,o,u){const f=r.createContext(1,e,n),m=[ha(e,s,n)],g=[o];if(u.length%2!=0)throw new oe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(ha(e,u[A])),g.push(u[A+1]);const p=[],E=yn.empty();for(let A=m.length-1;A>=0;--A)if(!RS(p,m[A])){const k=m[A];let H=g[A];H=Ot(H);const Q=f.childContextForFieldPath(k);if(H instanceof gf)p.push(k);else{const G=Iu(H,Q);G!=null&&(p.push(k),E.set(k,G))}}const b=new xn(p);return new ES(E,b,f.fieldTransforms)}function yO(r,e,n,s=!1){return Iu(n,r.createContext(s?4:3,e))}function Iu(r,e){if(AS(r=Ot(r)))return hg("Unsupported field value:",e,r),SS(r,e);if(r instanceof mf)return(function(s,o){if(!TS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Iu(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Ot(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return WI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:jh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(s instanceof ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:Hb(o.serializer,s._byteString)};if(s instanceof mt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof oi)return(function(f,m){const g=f instanceof oi?f.toArray():f;return{mapValue:{fields:{[_b]:{stringValue:vb},[Lh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return zp(m.serializer,E)}))}}}}}})(s,o);if(Xb(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Wh(s)}`)})(r,e)}function SS(r,e){const n={};return fb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(r,((s,o)=>{const u=Iu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function AS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof ji||r instanceof Fn||r instanceof mt||r instanceof mf||r instanceof oi||Xb(r))}function hg(r,e,n){if(!AS(n)||!cb(n)){const s=Wh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function ha(r,e,n){if((e=Ot(e))instanceof lg)return e._internalPath;if(typeof e=="string")return wS(r,e);throw Fh("Field path arguments must be of type string or ",r,!1,void 0,n)}const _O=new RegExp("[~\\*/\\[\\]]");function wS(r,e,n){if(e.search(_O)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new lg(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Fh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new oe(J.INVALID_ARGUMENT,m+r+g)}function RS(r,e){return r.some((n=>n.isEqual(e)))}class vO{convertValue(e,n="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ts(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Lh].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new oi(n)}convertGeoPoint(e){return new ji(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=tf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=ps(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe($b(s),9688,{name:e});const o=new uu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class fg extends vO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function Gh(){return new cg("serverTimestamp")}const xE="@firebase/firestore",IE="4.10.0";function NE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class CS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ha("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EO extends CS{data(){return super.data()}}function xS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dg{}class IS extends dg{}function fs(r,e,...n){let s=[];e instanceof dg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof mg)).length,m=u.filter((g=>g instanceof yf)).length;if(f>1||f>0&&m>0)throw new oe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class yf extends IS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new yf(e,n,s)}_apply(e){const n=this._parse(e);return NS(e._query,n),new Ss(e.firestore,e.converter,np(e._query,n))}_parse(e){const n=pf(e.firestore);return(function(u,f,m,g,p,E,b){let A;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){OE(b,E);const H=[];for(const Q of b)H.push(DE(g,u,Q));A={arrayValue:{values:H}}}else A=DE(g,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||OE(b,E),A=yO(m,f,b,E==="in"||E==="not-in");return Nt.create(p,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function go(r,e,n){const s=e,o=ha("where",r);return yf._create(o,s,n)}class mg extends dg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)NS(f,g),f=np(f,g)})(e._query,n),new Ss(e.firestore,e.converter,np(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pg extends IS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pg(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(u,f)})(e._query,this._field,this._direction);return new Ss(e.firestore,e.converter,FI(e._query,n))}}function Sh(r,e="asc"){const n=e,s=ha("orderBy",r);return pg._create(s,n)}function DE(r,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new oe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cb(e)&&n.indexOf("/")!==-1)throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!pe.isDocumentKey(s))throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return G0(r,new pe(s))}if(n instanceof mt)return G0(r,n._key);throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function OE(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function DS(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class $l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends CS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ha("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Dt("string",ia._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Ah extends ia{data(e={}){return super.data(e)}}class ra{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ah(this._firestore,this._userDataWriter,s.key,s,new $l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:TO(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:Dt("string",ra._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};function gg(r){r=_n(r,mt);const e=_n(r.firestore,yr),n=df(e);return rO(n,r._key).then((s=>OS(e,r,s)))}function ME(r){r=_n(r,Ss);const e=_n(r.firestore,yr),n=df(e),s=new fg(e);return xS(r._query),sO(n,r._query).then((o=>new ra(e,s,r,o)))}function yg(r,e,n){r=_n(r,mt);const s=_n(r.firestore,yr),o=DS(r.converter,e),u=pf(s);return _f(s,[bS(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Gn.none())])}function VE(r,e,n,...s){r=_n(r,mt);const o=_n(r.firestore,yr),u=pf(o);let f;return f=typeof(e=Ot(e))=="string"||e instanceof lg?gO(u,"updateDoc",r._key,e,n,s):pO(u,"updateDoc",r._key,e),_f(o,[f.toMutation(r._key,Gn.exists(!0))])}function bO(r){return _f(_n(r.firestore,yr),[new Bp(r._key,Gn.none())])}function dp(r,e){const n=_n(r.firestore,yr),s=Kn(r),o=DS(r.converter,e),u=pf(r.firestore);return _f(n,[bS(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then((()=>s))}function ds(r,...e){r=Ot(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||NE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(NE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof mt)f=_n(r.firestore,yr),m=nf(r._key.path),u={next:p=>{e[s]&&e[s](OS(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=_n(r,Ss);f=_n(p.firestore,yr),m=p._query;const E=new fg(f);u={next:b=>{e[s]&&e[s](new ra(f,E,p,b))},error:e[s+1],complete:e[s+2]},xS(r._query)}const g=df(f);return iO(g,m,o,u)}function _f(r,e){const n=df(r);return aO(n,e)}function OS(r,e,n){const s=n.docs.get(e._key),o=new fg(r);return new ia(r,o,e._key,s,new $l(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){rI(xo),yo(new aa("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new yr(new oI(s.getProvider("auth-internal")),new cI(f,s.getProvider("app-check-internal")),CI(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),us(xE,IE,e),us(xE,IE,"esm2020")})();var SO="firebase",AO="12.8.0";us(SO,AO,"app");const wO={apiKey:"AIzaSyDyGohZmFuhTbloXWpcHpzRfVRi-JB0UUI",authDomain:"sleme-mess-app.firebaseapp.com",projectId:"sleme-mess-app",storageBucket:"sleme-mess-app.firebasestorage.app",messagingSenderId:"163661936584",appId:"1:163661936584:web:1327cc54cdd9fa8476f2fd"},MS=yT(wO),vf=nI(MS),dt=cO(MS),VS=L.createContext();function ko(){return L.useContext(VS)}function RO({children:r}){const[e,n]=L.useState(null),[s,o]=L.useState(null),[u,f]=L.useState(!0);L.useEffect(()=>FC(vf,async p=>{if(n(p),p)try{const E=await gg(Kn(dt,"users",p.uid));E.exists()?o(E.data()):(console.error("User document does not exist"),o(null))}catch(E){console.error("Error fetching user data:",E),o(null)}else o(null);f(!1)}),[]);const m={currentUser:e,userData:s,loading:u};return T.jsx(VS.Provider,{value:m,children:!u&&r})}function CO(){return T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-army-50 px-4",children:T.jsxs("div",{className:"w-full max-w-md",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-army-900",children:"3 SLEME MESS"}),T.jsx("p",{className:"text-army-600 mt-2",children:"Mess Management System"})]}),T.jsx(tT,{})]})})}const kS=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const xO=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const IO=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const kE=r=>{const e=IO(r);return e.charAt(0).toUpperCase()+e.slice(1)};var NO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DO=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const OO=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},g)=>L.createElement("svg",{ref:g,...NO,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:kS("lucide",o),...!u&&!DO(m)&&{"aria-hidden":"true"},...m},[...f.map(([p,E])=>L.createElement(p,E)),...Array.isArray(u)?u:[u]]));const ct=(r,e)=>{const n=L.forwardRef(({className:s,...o},u)=>L.createElement(OO,{ref:u,iconNode:e,className:kS(`lucide-${xO(kE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=kE(r),n};const MO=[["path",{d:"M17 11h1a3 3 0 0 1 0 6h-1",key:"1yp76v"}],["path",{d:"M9 12v6",key:"1u1cab"}],["path",{d:"M13 12v6",key:"1sugkk"}],["path",{d:"M14 7.5c-1 0-1.44.5-3 .5s-2-.5-3-.5-1.72.5-2.5.5a2.5 2.5 0 0 1 0-5c.78 0 1.57.5 2.5.5S9.44 2 11 2s2 1.5 3 1.5 1.72-.5 2.5-.5a2.5 2.5 0 0 1 0 5c-.78 0-1.5-.5-2.5-.5Z",key:"1510fo"}],["path",{d:"M5 8v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"19jb7n"}]],VO=ct("beer",MO);const kO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_g=ct("calendar",kO);const LO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],PO=ct("check",LO);const UO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],jO=ct("chevron-left",UO);const zO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BO=ct("chevron-right",zO);const qO=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],LS=ct("clipboard-list",qO);const HO=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],PS=ct("dollar-sign",HO);const FO=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],LE=ct("layout-dashboard",FO);const GO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],PE=ct("loader-circle",GO);const KO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QO=ct("log-out",KO);const YO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$O=ct("menu",YO);const XO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],JO=ct("pen",XO);const WO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ZO=ct("plus",WO);const e4=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],t4=ct("receipt",e4);const n4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],i4=ct("save",n4);const r4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],s4=ct("search",r4);const a4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],o4=ct("trash-2",a4);const l4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],u4=ct("user",l4);const c4=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],UE=ct("utensils-crossed",c4);const h4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],f4=ct("users",h4);const d4=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],jE=ct("utensils",d4);const m4=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],vg=ct("wine",m4);const p4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Eg=ct("x",p4);function zE({role:r}){const[e,n]=L.useState(!1),{userData:s}=ko(),o=gu(),u=async()=>{try{await GC(vf),o("/login")}catch(p){console.error("Error signing out: ",p)}},g=r==="admin"?[{path:"/admin",label:"Dashboard",icon:LE},{path:"/admin/menu",label:"Menu Management",icon:UE},{path:"/admin/officers",label:"Officers",icon:f4},{path:"/admin/inventory",label:"Inventory",icon:LS}]:[{path:"/dashboard",label:"Dashboard",icon:LE},{path:"/menu",label:"Menu & RSVP",icon:UE},{path:"/bill",label:"My Bill",icon:t4},{path:"/bar",label:"Bar Facilities",icon:vg}];return T.jsxs("div",{className:"min-h-screen bg-army-50 flex",children:[e&&T.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>n(!1)}),T.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-army-900 text-white transform transition-transform duration-200 ease-in-out lg:relative lg:translate-x-0
        ${e?"translate-x-0":"-translate-x-full"}
      `,children:T.jsxs("div",{className:"h-full flex flex-col",children:[T.jsxs("div",{className:"p-6 border-b border-army-800 flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold",children:"3 SLEME"}),T.jsx("p",{className:"text-xs text-army-300",children:"Mess Management"})]}),T.jsx("button",{onClick:()=>n(!1),className:"lg:hidden p-1 hover:bg-army-800 rounded",children:T.jsx(Eg,{size:20})})]}),T.jsxs("div",{className:"p-4 border-b border-army-800",children:[T.jsx("p",{className:"text-sm font-medium truncate",children:s?.name||"User"}),T.jsx("p",{className:"text-xs text-army-400 capitalize",children:r})]}),T.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:g.map(p=>T.jsxs(sT,{to:p.path,onClick:()=>n(!1),className:({isActive:E})=>`
                  flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors
                  ${E?"bg-army-700 text-white":"text-army-300 hover:bg-army-800 hover:text-white"}
                `,children:[T.jsx(p.icon,{size:20}),p.label]},p.path))}),T.jsx("div",{className:"p-4 border-t border-army-800",children:T.jsxs("button",{onClick:u,className:"flex items-center gap-3 px-4 py-3 w-full rounded-lg text-sm font-medium text-red-400 hover:bg-army-800 hover:text-red-300 transition-colors",children:[T.jsx(QO,{size:20}),"Logout"]})})]})}),T.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[T.jsx("header",{className:"bg-white border-b border-army-200 p-4 lg:hidden",children:T.jsx("button",{onClick:()=>n(!0),className:"p-2 text-army-700 hover:bg-army-50 rounded-lg",children:T.jsx($O,{size:24})})}),T.jsx("main",{className:"flex-1 p-4 lg:p-8 overflow-auto",children:T.jsx(tT,{})})]})]})}function zi({children:r,onClick:e,type:n="button",variant:s="primary",className:o="",disabled:u=!1}){const f="px-4 py-2 rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",m={primary:"bg-army-600 text-white hover:bg-army-700 focus:ring-army-500",secondary:"bg-white text-army-700 border border-army-300 hover:bg-army-50 focus:ring-army-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"text-army-600 hover:bg-army-100 focus:ring-army-500"};return T.jsx("button",{type:n,onClick:e,disabled:u,className:`${f} ${m[s]} ${o}`,children:r})}function nn({label:r,type:e="text",id:n,value:s,onChange:o,placeholder:u,required:f=!1,className:m=""}){return T.jsxs("div",{className:`mb-4 ${m}`,children:[r&&T.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-army-800 mb-1",children:r}),T.jsx("input",{type:e,id:n,value:s,onChange:o,placeholder:u,required:f,className:"w-full px-3 py-2 border border-army-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-500 focus:border-army-500 bg-white"})]})}function Pt({children:r,className:e=""}){return T.jsx("div",{className:`bg-white rounded-xl shadow-md border border-army-100 p-6 ${e}`,children:r})}function g4(){const[r,e]=L.useState(""),[n,s]=L.useState(""),[o,u]=L.useState(""),[f,m]=L.useState(!1);gu();const g=async p=>{p.preventDefault(),u(""),m(!0);try{const E=await zC(vf,r,n)}catch(E){u("Failed to log in. Please check your credentials."),console.error(E)}finally{m(!1)}};return T.jsxs(Pt,{children:[T.jsx("h2",{className:"text-2xl font-bold text-center text-army-800 mb-6",children:"Login"}),o&&T.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-4 text-sm",children:o}),T.jsxs("form",{onSubmit:g,children:[T.jsx(nn,{label:"Email Address",type:"email",id:"email",value:r,onChange:p=>e(p.target.value),required:!0}),T.jsx(nn,{label:"Password",type:"password",id:"password",value:n,onChange:p=>s(p.target.value),required:!0}),T.jsx(zi,{type:"submit",disabled:f,className:"w-full mt-2",children:f?"Logging in...":"Login"})]}),T.jsxs("div",{className:"mt-4 text-center text-sm text-army-600",children:["Don't have an account?"," ",T.jsx(ss,{to:"/register",className:"text-army-800 font-semibold hover:underline",children:"Register"})]})]})}function y4(){const[r,e]=L.useState({officerNo:"",rank:"",name:"",mobile:"",email:"",password:"",confirmPassword:""}),[n,s]=L.useState(""),[o,u]=L.useState(!1),f=gu(),m=p=>{e({...r,[p.target.id]:p.target.value})},g=async p=>{if(p.preventDefault(),s(""),r.password!==r.confirmPassword)return s("Passwords do not match");if(r.password.length<6)return s("Password must be at least 6 characters");u(!0);try{const b=(await jC(vf,r.email,r.password)).user;await BC(b),await yg(Kn(dt,"users",b.uid),{uid:b.uid,officerNo:r.officerNo,rank:r.rank,name:r.name,mobile:r.mobile,email:r.email,role:"officer",createdAt:Gh()}),alert("Registration successful! Please verify your email before logging in."),f("/login")}catch(E){console.error(E),s(E.message||"Failed to register.")}finally{u(!1)}};return T.jsxs(Pt,{children:[T.jsx("h2",{className:"text-2xl font-bold text-center text-army-800 mb-6",children:"Officer Registration"}),n&&T.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-4 text-sm",children:n}),T.jsxs("form",{onSubmit:g,className:"space-y-4",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsx(nn,{label:"Officer No",id:"officerNo",value:r.officerNo,onChange:m,required:!0}),T.jsx(nn,{label:"Rank",id:"rank",value:r.rank,onChange:m,required:!0})]}),T.jsx(nn,{label:"Name",id:"name",value:r.name,onChange:m,required:!0}),T.jsx(nn,{label:"Mobile Number",id:"mobile",value:r.mobile,onChange:m,required:!0}),T.jsx(nn,{label:"Email Address",type:"email",id:"email",value:r.email,onChange:m,required:!0}),T.jsx(nn,{label:"Password",type:"password",id:"password",value:r.password,onChange:m,required:!0}),T.jsx(nn,{label:"Confirm Password",type:"password",id:"confirmPassword",value:r.confirmPassword,onChange:m,required:!0}),T.jsx(zi,{type:"submit",disabled:o,className:"w-full mt-4",children:o?"Creating Account...":"Register"})]}),T.jsxs("div",{className:"mt-4 text-center text-sm text-army-600",children:["Already have an account?"," ",T.jsx(ss,{to:"/login",className:"text-army-800 font-semibold hover:underline",children:"Login"})]})]})}function _4(){const{currentUser:r,userData:e}=ko(),[n,s]=L.useState(null),[o,u]=L.useState(0);return L.useEffect(()=>{const f=new Date().toISOString().split("T")[0],m=Kn(dt,"menus",f),g=ds(m,p=>{s(p.exists()?p.data():null)});return()=>{g()}},[]),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsxs("h1",{className:"text-2xl font-bold text-army-900",children:["Welcome, ",e?.rank," ",e?.name]}),T.jsx("p",{className:"text-army-600",children:"3 SLEME Officers' Mess"})]}),T.jsx("div",{className:"text-right hidden sm:block",children:T.jsx("p",{className:"text-sm font-medium text-army-500",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[T.jsxs(Pt,{className:"bg-gradient-to-br from-army-800 to-army-900 text-white border-none",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-army-200 text-sm mb-1",children:"Current Bill"}),T.jsxs("h3",{className:"text-3xl font-bold",children:["LKR ",o.toFixed(2)]})]}),T.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:T.jsx(PS,{size:24})})]}),T.jsx(ss,{to:"/bill",className:"text-xs text-army-300 hover:text-white mt-4 inline-block",children:"View Details "})]}),T.jsxs(Pt,{className:"border-l-4 border-l-orange-500",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Today's Menu Status"}),T.jsx("h3",{className:"text-xl font-bold text-army-900",children:n?"Updated":"Not Posted"})]}),T.jsx("div",{className:"p-2 bg-orange-50 rounded-lg",children:T.jsx(jE,{size:24,className:"text-orange-500"})})]}),T.jsx(ss,{to:"/menu",className:"text-xs text-orange-600 hover:text-orange-700 mt-4 inline-block font-medium",children:"View Menu & RSVP "})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsxs(Pt,{children:[T.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[T.jsx(_g,{className:"text-army-600",size:20}),T.jsx("h3",{className:"text-lg font-bold text-army-900",children:"Today's Menu"})]}),n?T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"p-3 bg-army-50 rounded-lg",children:[T.jsx("span",{className:"text-xs font-bold text-army-500 uppercase tracking-wider",children:"Breakfast"}),T.jsx("p",{className:"text-army-800 font-medium mt-1",children:n.breakfast||"Standard"})]}),T.jsxs("div",{className:"p-3 bg-army-50 rounded-lg",children:[T.jsx("span",{className:"text-xs font-bold text-army-500 uppercase tracking-wider",children:"Lunch"}),T.jsx("p",{className:"text-army-800 font-medium mt-1",children:n.lunch||"Standard"})]}),T.jsxs("div",{className:"p-3 bg-army-50 rounded-lg",children:[T.jsx("span",{className:"text-xs font-bold text-army-500 uppercase tracking-wider",children:"Dinner"}),T.jsx("p",{className:"text-army-800 font-medium mt-1",children:n.dinner||"Standard"})]})]}):T.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-dashed border-gray-200",children:T.jsx("p",{className:"text-gray-500",children:"Menu not yet available for today."})})]}),T.jsxs(Pt,{children:[T.jsx("h3",{className:"text-lg font-bold text-army-900 mb-4",children:"Quick Actions"}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs(ss,{to:"/menu",className:"flex flex-col items-center justify-center p-4 bg-white border border-gray-200 rounded-xl hover:border-army-500 hover:shadow-md transition-all",children:[T.jsx("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-full mb-2",children:T.jsx(jE,{size:24})}),T.jsx("span",{className:"font-medium text-gray-800",children:"Order Meals"})]}),T.jsxs(ss,{to:"/bar",className:"flex flex-col items-center justify-center p-4 bg-white border border-gray-200 rounded-xl hover:border-army-500 hover:shadow-md transition-all",children:[T.jsx("div",{className:"p-3 bg-purple-100 text-purple-600 rounded-full mb-2",children:T.jsx(VO,{size:24})}),T.jsx("span",{className:"font-medium text-gray-800",children:"Bar List"})]})]})]})]})]})}function v4(){const{currentUser:r}=ko(),[e,n]=L.useState(new Date),[s,o]=L.useState(null),[u,f]=L.useState({breakfast:!1,lunch:!1,dinner:!1}),[m,g]=L.useState(!0),[p,E]=L.useState(!1),A=(Z=>Z.toISOString().split("T")[0])(e);L.useEffect(()=>{g(!0);const Z=Kn(dt,"menus",A),ne=ds(Z,fe=>{fe.exists()?o(fe.data()):o(null)});return(async()=>{try{const fe=Kn(dt,"rsvp",`${A}_${r.uid}`),de=await gg(fe);de.exists()?f(de.data().meals):f({breakfast:!1,lunch:!1,dinner:!1})}catch(fe){console.error("Error fetching RSVP:",fe)}finally{g(!1)}})(),()=>ne()},[A,r.uid]);const k=Z=>{const ne=new Date(e);ne.setDate(e.getDate()+Z),n(ne)},H=Z=>{f(ne=>({...ne,[Z]:!ne[Z]}))},Q=async()=>{E(!0);try{await yg(Kn(dt,"rsvp",`${A}_${r.uid}`),{date:A,userId:r.uid,meals:u,updatedAt:new Date}),alert("Meal selections saved successfully!")}catch(Z){console.error("Error saving RSVP:",Z),alert("Failed to save selection.")}finally{E(!1)}},G=()=>{const Z=new Date;return Z.setHours(0,0,0,0),e<Z};return T.jsxs("div",{className:"max-w-4xl mx-auto",children:[T.jsxs("div",{className:"flex items-center justify-between mb-6",children:[T.jsx("h1",{className:"text-2xl font-bold text-army-900",children:"Weekly Menu & RSVP"}),T.jsxs("div",{className:"flex items-center gap-4 bg-white p-2 rounded-lg shadow-sm border border-army-200",children:[T.jsx("button",{onClick:()=>k(-1),className:"p-1 hover:bg-army-100 rounded",children:T.jsx(jO,{size:20})}),T.jsxs("div",{className:"flex items-center gap-2 font-medium min-w-[140px] justify-center",children:[T.jsx(_g,{size:18,className:"text-army-600"}),e.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})]}),T.jsx("button",{onClick:()=>k(1),className:"p-1 hover:bg-army-100 rounded",children:T.jsx(BO,{size:20})})]})]}),m?T.jsx("div",{className:"text-center py-12",children:"Loading menu data..."}):T.jsxs("div",{className:"grid gap-6 md:grid-cols-1",children:[T.jsx(Pt,{className:"relative overflow-hidden",children:s?T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold text-army-800 border-b border-army-100 pb-2 mb-2",children:"Breakfast"}),T.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:s.breakfast||"No special menu"})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold text-army-800 border-b border-army-100 pb-2 mb-2",children:"Lunch"}),T.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:s.lunch||"No special menu"})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold text-army-800 border-b border-army-100 pb-2 mb-2",children:"Dinner"}),T.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:s.dinner||"No special menu"})]})]}):T.jsxs("div",{className:"text-center py-12 text-gray-500",children:[T.jsx("p",{className:"text-lg",children:"Menu not updated for this date."}),T.jsx("p",{className:"text-sm",children:"Contact Mess Manager if this is an error."})]})}),T.jsxs(Pt,{children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsx("h2",{className:"text-xl font-bold text-army-900",children:"Meal Attendance"}),G()&&T.jsx("span",{className:"text-xs font-bold text-red-500 bg-red-50 px-2 py-1 rounded",children:"PAST DATE"})]}),T.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:["breakfast","lunch","dinner"].map(Z=>T.jsxs("button",{onClick:()=>!G()&&H(Z),disabled:G(),className:`
                    flex flex-col items-center justify-center p-4 rounded-xl border-2 transition-all
                    ${u[Z]?"border-army-600 bg-army-50 text-army-800":"border-gray-200 text-gray-400 hover:border-army-300"}
                  `,children:[T.jsx("span",{className:"capitalize font-semibold mb-2",children:Z}),u[Z]?T.jsx("div",{className:"bg-army-600 text-white p-1 rounded-full",children:T.jsx(PO,{size:16})}):T.jsx("div",{className:"bg-gray-200 text-gray-400 p-1 rounded-full",children:T.jsx(Eg,{size:16})})]},Z))}),T.jsx(zi,{onClick:Q,disabled:G()||p,className:"w-full",children:p?"Saving...":"Update My Meal Requests"})]})]})]})}function E4(){const{currentUser:r}=ko(),[e,n]=L.useState([]),[s,o]=L.useState([]),[u,f]=L.useState(!0);L.useEffect(()=>{if(!r)return;const p=fs(ai(dt,"transactions"),go("userId","==",r.uid),Sh("date","desc")),E=fs(ai(dt,"bar_transactions"),go("userId","==",r.uid),Sh("date","desc")),b=fs(ai(dt,"payments"),go("userId","==",r.uid),Sh("date","desc")),A=ds(p,ie=>{const fe=ie.docs.map(de=>({id:de.id,...de.data(),category:"Messing"}));ne(fe,null,null)}),k=ds(E,ie=>{const fe=ie.docs.map(de=>({id:de.id,...de.data(),category:"Bar"}));ne(null,fe,null)}),H=ds(b,ie=>{const fe=ie.docs.map(de=>({id:de.id,...de.data(),type:"payment"}));ne(null,null,fe)});let Q=[],G=[],Z=[];const ne=(ie,fe,de)=>{ie&&(Q=ie),fe&&(G=fe),de&&(Z=de);const be=[...Q,...G].sort((x,C)=>new Date(C.date)-new Date(x.date));n(be),o(Z),f(!1)};return()=>{A(),k(),H()}},[r]);const m=()=>{const p=e.reduce((b,A)=>b+(A.totalCost||0),0),E=s.reduce((b,A)=>b+(A.amount||0),0);return p-E},g=()=>{const E=new Date().toISOString().slice(0,7);return e.filter(A=>A.date.startsWith(E)).reduce((A,k)=>A+(k.totalCost||0),0)};return T.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[T.jsx("h1",{className:"text-2xl font-bold text-army-900",children:"Billing & History"}),T.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[T.jsxs(Pt,{className:"bg-army-900 text-white border-none",children:[T.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[T.jsx("div",{className:"p-3 bg-white/10 rounded-full",children:T.jsx(PS,{size:24,className:"text-white"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-army-200 text-sm",children:"Total Outstanding"}),T.jsxs("h2",{className:"text-3xl font-bold",children:["LKR ",m().toFixed(2)]})]})]}),T.jsx("div",{className:"pt-4 border-t border-white/10",children:T.jsxs("div",{className:"flex justify-between text-sm text-army-300",children:[T.jsx("span",{children:"This Month's Consumption"}),T.jsxs("span",{className:"text-white font-medium",children:["LKR ",g().toFixed(2)]})]})})]}),T.jsxs(Pt,{children:[T.jsx("h3",{className:"font-semibold text-army-900 mb-4",children:"Payment History"}),T.jsx("div",{className:"space-y-3 max-h-40 overflow-y-auto",children:s.length===0?T.jsx("p",{className:"text-sm text-gray-500",children:"No payments recorded."}):s.map(p=>T.jsxs("div",{className:"flex justify-between text-sm py-2 border-b border-gray-100 last:border-0",children:[T.jsx("span",{className:"text-gray-600",children:p.date}),T.jsxs("span",{className:"font-medium text-green-600",children:["- LKR ",p.amount.toFixed(2)]})]},p.id))})]})]}),T.jsx("h2",{className:"text-xl font-bold text-army-900 mt-8",children:"Recent Transactions"}),T.jsx(Pt,{className:"overflow-hidden p-0",children:T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full text-left text-sm",children:[T.jsx("thead",{className:"bg-army-50 text-army-700",children:T.jsxs("tr",{children:[T.jsx("th",{className:"p-4 font-semibold",children:"Date"}),T.jsx("th",{className:"p-4 font-semibold",children:"Description"}),T.jsx("th",{className:"p-4 font-semibold",children:"Category"}),T.jsx("th",{className:"p-4 font-semibold text-right",children:"Amount"})]})}),T.jsx("tbody",{className:"divide-y divide-gray-100",children:u?T.jsx("tr",{children:T.jsx("td",{colSpan:"4",className:"p-4 text-center",children:"Loading..."})}):e.length===0?T.jsx("tr",{children:T.jsx("td",{colSpan:"4",className:"p-4 text-center text-gray-500",children:"No transactions found."})}):e.map(p=>T.jsxs("tr",{className:"hover:bg-gray-50",children:[T.jsx("td",{className:"p-4 text-gray-600",children:p.date}),T.jsx("td",{className:"p-4 font-medium text-gray-900",children:p.items?.map(E=>E.name||E.brand).join(", ")}),T.jsx("td",{className:"p-4",children:T.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${p.category==="Bar"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:p.category})}),T.jsxs("td",{className:"p-4 text-right font-medium text-army-900",children:["LKR ",p.totalCost.toFixed(2)]})]},p.id))})]})})})]})}function T4(){const{currentUser:r}=ko(),[e,n]=L.useState("inventory"),[s,o]=L.useState([]),[u,f]=L.useState([]),[m,g]=L.useState("");L.useEffect(()=>{const E=fs(ai(dt,"inventory")),b=ds(E,A=>{const k=A.docs.map(H=>({id:H.id,...H.data()}));o(k)});return()=>b()},[]),L.useEffect(()=>{if(!r)return;const E=fs(ai(dt,"bar_transactions"),go("userId","==",r.uid)),b=ds(E,A=>{const k=A.docs.map(H=>({id:H.id,...H.data()}));k.sort((H,Q)=>new Date(Q.date)-new Date(H.date)),f(k)});return()=>b()},[r]);const p=s.filter(E=>E.brand.toLowerCase().includes(m.toLowerCase()));return T.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[T.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[T.jsx("h1",{className:"text-2xl font-bold text-army-900",children:"Bar Facilities"}),e==="inventory"&&T.jsxs("div",{className:"relative w-full sm:w-64",children:[T.jsx(s4,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),T.jsx("input",{type:"text",placeholder:"Search brands...",value:m,onChange:E=>g(E.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-army-500"})]})]}),T.jsxs("div",{className:"flex border-b border-gray-200",children:[T.jsx("button",{onClick:()=>n("inventory"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${e==="inventory"?"border-army-600 text-army-800":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Price List"}),T.jsx("button",{onClick:()=>n("history"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${e==="history"?"border-army-600 text-army-800":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"My Consumption"})]}),e==="inventory"?T.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:p.length===0?T.jsx("p",{className:"col-span-full text-center py-8 text-gray-500",children:"No items found."}):p.map(E=>T.jsxs(Pt,{className:"relative overflow-hidden group hover:shadow-lg transition-shadow",children:[T.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20",children:T.jsx(vg,{size:64,className:"text-army-800"})}),T.jsx("h3",{className:"text-lg font-bold text-army-900 mb-1",children:E.brand}),T.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${E.available?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:E.available?"In Stock":"Out of Stock"}),T.jsxs("div",{className:"mt-4 space-y-2",children:[T.jsxs("div",{className:"flex justify-between items-center text-sm",children:[T.jsx("span",{className:"text-gray-600",children:"Full Bottle"}),T.jsxs("span",{className:"font-semibold text-army-900",children:["LKR ",E.priceFull?.toFixed(2)]})]}),T.jsxs("div",{className:"flex justify-between items-center text-sm",children:[T.jsx("span",{className:"text-gray-600",children:"Shot (50ml)"}),T.jsxs("span",{className:"font-semibold text-army-900",children:["LKR ",E.priceShot?.toFixed(2)]})]})]})]},E.id))}):T.jsx(Pt,{className:"p-0 overflow-hidden",children:T.jsxs("table",{className:"w-full text-left text-sm",children:[T.jsx("thead",{className:"bg-army-50 text-army-700",children:T.jsxs("tr",{children:[T.jsx("th",{className:"p-4 font-semibold",children:"Date"}),T.jsx("th",{className:"p-4 font-semibold",children:"Item"}),T.jsx("th",{className:"p-4 font-semibold",children:"Quantity"}),T.jsx("th",{className:"p-4 font-semibold text-right",children:"Cost"})]})}),T.jsx("tbody",{className:"divide-y divide-gray-100",children:u.length===0?T.jsx("tr",{children:T.jsx("td",{colSpan:"4",className:"p-6 text-center text-gray-500",children:"No consumption history found."})}):u.map(E=>T.jsx(_A.Fragment,{children:E.items.map((b,A)=>T.jsxs("tr",{className:"hover:bg-gray-50",children:[T.jsx("td",{className:"p-4 text-gray-600",children:E.date}),T.jsx("td",{className:"p-4 font-medium text-gray-900",children:b.brand}),T.jsx("td",{className:"p-4 text-gray-600",children:b.quantity}),T.jsxs("td",{className:"p-4 text-right font-medium text-army-900",children:["LKR ",b.cost?.toFixed(2)]})]},`${E.id}-${A}`))},E.id))})]})})]})}function b4(){return T.jsxs("div",{children:[T.jsx("h1",{className:"text-2xl font-bold text-army-900 mb-4",children:"Mess Admin Dashboard"}),T.jsx("p",{children:"Admin controls coming soon..."})]})}function S4(){const[r,e]=L.useState(new Date),[n,s]=L.useState({breakfast:"",lunch:"",dinner:""}),[o,u]=L.useState(!1),[f,m]=L.useState(!1),[g,p]=L.useState(""),E=r.toISOString().split("T")[0];L.useEffect(()=>{b()},[E]);const b=async()=>{u(!0),p("");try{const H=Kn(dt,"menus",E),Q=await gg(H);if(Q.exists()){const G=Q.data();s({breakfast:G.breakfast||"",lunch:G.lunch||"",dinner:G.dinner||""})}else s({breakfast:"",lunch:"",dinner:""})}catch(H){console.error(H)}finally{u(!1)}},A=async H=>{H.preventDefault(),m(!0),p("");try{await yg(Kn(dt,"menus",E),{date:E,...n,updatedAt:Gh()}),p("Menu updated successfully!")}catch(Q){console.error(Q),p("Failed to update menu.")}finally{m(!1)}},k=H=>{e(new Date(H.target.value))};return T.jsxs("div",{className:"max-w-2xl mx-auto",children:[T.jsx("h1",{className:"text-2xl font-bold text-army-900 mb-6",children:"Menu Management"}),T.jsxs(Pt,{children:[T.jsxs("div",{className:"flex items-center gap-4 mb-6 pb-6 border-b border-army-100",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"block text-sm font-medium text-army-700 mb-1",children:"Select Date"}),T.jsxs("div",{className:"relative",children:[T.jsx(_g,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-army-400",size:18}),T.jsx("input",{type:"date",value:E,onChange:k,className:"w-full pl-10 pr-4 py-2 border border-army-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-500"})]})]}),T.jsx("div",{className:"flex-1 flex justify-end items-end",children:T.jsx(zi,{onClick:()=>e(new Date),variant:"secondary",className:"text-sm",children:"Today"})})]}),o?T.jsx("div",{className:"py-12 flex justify-center",children:T.jsx(PE,{className:"animate-spin text-army-600",size:32})}):T.jsxs("form",{onSubmit:A,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-army-900 mb-1",children:"Breakfast"}),T.jsx("textarea",{value:n.breakfast,onChange:H=>s({...n,breakfast:H.target.value}),rows:3,className:"w-full p-3 border border-army-300 rounded-lg focus:ring-2 focus:ring-army-500 focus:outline-none",placeholder:"e.g. String Hoppers, Dhal, Fish Curry..."})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-army-900 mb-1",children:"Lunch"}),T.jsx("textarea",{value:n.lunch,onChange:H=>s({...n,lunch:H.target.value}),rows:3,className:"w-full p-3 border border-army-300 rounded-lg focus:ring-2 focus:ring-army-500 focus:outline-none",placeholder:"e.g. Rice, Chicken Curry, Dhal, Salad..."})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-army-900 mb-1",children:"Dinner"}),T.jsx("textarea",{value:n.dinner,onChange:H=>s({...n,dinner:H.target.value}),rows:3,className:"w-full p-3 border border-army-300 rounded-lg focus:ring-2 focus:ring-army-500 focus:outline-none",placeholder:"e.g. Fried Rice, Chopsuey..."})]}),g&&T.jsx("div",{className:`p-3 rounded text-sm ${g.includes("Success")?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:g}),T.jsxs(zi,{type:"submit",disabled:f,className:"w-full flex justify-center items-center gap-2",children:[f?T.jsx(PE,{className:"animate-spin",size:18}):T.jsx(i4,{size:18}),f?"Updating...":"Update Menu"]})]})]})]})}function A4(){const[r,e]=L.useState([]),[n,s]=L.useState(""),[o,u]=L.useState(null),[f,m]=L.useState([]),[g,p]=L.useState(""),[E,b]=L.useState(""),[A,k]=L.useState(""),[H,Q]=L.useState("shot"),[G,Z]=L.useState(1),[ne,ie]=L.useState(!1);L.useEffect(()=>{fe(),de()},[]);const fe=async()=>{const R=fs(ai(dt,"users"),go("role","==","officer")),M=await ME(R);e(M.docs.map(D=>({id:D.id,...D.data()})))},de=async()=>{const R=fs(ai(dt,"inventory"),go("available","==",!0)),M=await ME(R);m(M.docs.map(D=>({id:D.id,...D.data()})))},be=()=>r.filter(R=>R.name.toLowerCase().includes(n.toLowerCase())||R.officerNo.toLowerCase().includes(n.toLowerCase())),x=async R=>{if(R.preventDefault(),!(!g||!E)){ie(!0);try{await dp(ai(dt,"transactions"),{userId:o.id,date:new Date().toISOString(),type:"messing",items:[{name:g,cost:parseFloat(E)}],totalCost:parseFloat(E),timestamp:Gh()}),p(""),b(""),alert("Messing entry added!")}catch(M){console.error(M),alert("Failed to add entry.")}finally{ie(!1)}}},C=async R=>{if(R.preventDefault(),!!A){ie(!0);try{const M=f.find(I=>I.id===A),U=(H==="bottle"?M.priceFull:M.priceShot)*parseInt(G);await dp(ai(dt,"bar_transactions"),{userId:o.id,date:new Date().toISOString(),type:"bar",items:[{brand:M.brand,type:H,quantity:parseInt(G),cost:U}],totalCost:U,timestamp:Gh()}),k(""),Z(1),alert("Bar entry added!")}catch(M){console.error(M),alert("Failed to add entry.")}finally{ie(!1)}}};return T.jsxs("div",{className:"max-w-6xl mx-auto flex gap-6 h-[calc(100vh-100px)]",children:[T.jsxs("div",{className:"w-1/3 flex flex-col",children:[T.jsx("div",{className:"mb-4",children:T.jsx(nn,{placeholder:"Search Officers...",value:n,onChange:R=>s(R.target.value),className:"mb-0"})}),T.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-army-200 flex-1 overflow-y-auto",children:be().map(R=>T.jsx("div",{onClick:()=>u(R),className:`p-4 border-b border-army-100 cursor-pointer hover:bg-army-50 transition-colors ${o?.id===R.id?"bg-army-100":""}`,children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-army-200 flex items-center justify-center text-army-700 font-bold",children:R.rank.charAt(0)}),T.jsxs("div",{children:[T.jsxs("h3",{className:"font-semibold text-army-900",children:[R.rank," ",R.name]}),T.jsx("p",{className:"text-xs text-army-500",children:R.officerNo})]})]})},R.id))})]}),T.jsx("div",{className:"w-2/3",children:o?T.jsxs("div",{className:"space-y-6 h-full overflow-y-auto pr-2",children:[T.jsxs(Pt,{className:"border-t-4 border-t-army-600",children:[T.jsxs("h2",{className:"text-xl font-bold text-army-900",children:["Ledger: ",o.rank," ",o.name]}),T.jsx("p",{className:"text-army-500 text-sm",children:"Add consumption records below."})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsxs(Pt,{children:[T.jsxs("div",{className:"flex items-center gap-2 mb-4 text-orange-700",children:[T.jsx(LS,{size:20}),T.jsx("h3",{className:"font-bold",children:"Sheet A: Messing"})]}),T.jsxs("form",{onSubmit:x,className:"space-y-4",children:[T.jsx(nn,{label:"Item Description",placeholder:"e.g. Tea, Sandwich, Guest Meal",value:g,onChange:R=>p(R.target.value)}),T.jsx(nn,{label:"Cost (LKR)",type:"number",placeholder:"0.00",value:E,onChange:R=>b(R.target.value)}),T.jsx(zi,{type:"submit",variant:"secondary",disabled:ne,className:"w-full",children:"Add to Ledger"})]})]}),T.jsxs(Pt,{children:[T.jsxs("div",{className:"flex items-center gap-2 mb-4 text-purple-700",children:[T.jsx(vg,{size:20}),T.jsx("h3",{className:"font-bold",children:"Sheet B: Bar"})]}),T.jsxs("form",{onSubmit:C,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-army-800 mb-1",children:"Select Item"}),T.jsxs("select",{value:A,onChange:R=>k(R.target.value),className:"w-full px-3 py-2 border border-army-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-500 bg-white",children:[T.jsx("option",{value:"",children:"Select Brand"}),f.map(R=>T.jsx("option",{value:R.id,children:R.brand},R.id))]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-army-800 mb-1",children:"Type"}),T.jsxs("select",{value:H,onChange:R=>Q(R.target.value),className:"w-full px-3 py-2 border border-army-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-500 bg-white",children:[T.jsx("option",{value:"shot",children:"Shot (50ml)"}),T.jsx("option",{value:"bottle",children:"Full Bottle"})]})]}),T.jsx(nn,{label:"Quantity",type:"number",value:G,onChange:R=>Z(R.target.value)})]}),T.jsx(zi,{type:"submit",variant:"secondary",disabled:ne,className:"w-full",children:"Add to Bar Bill"})]})]})]})]}):T.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[T.jsx(u4,{size:48,className:"mb-4 opacity-50"}),T.jsx("p",{children:"Select an officer to view ledger and add entries."})]})})]})}function w4(){const[r,e]=L.useState([]),[n,s]=L.useState(!1),[o,u]=L.useState({brand:"",priceFull:"",priceShot:"",available:!0}),[f,m]=L.useState(null);L.useEffect(()=>{const A=fs(ai(dt,"inventory"),Sh("brand")),k=ds(A,H=>{e(H.docs.map(Q=>({id:Q.id,...Q.data()})))});return()=>k()},[]);const g=async A=>{A.preventDefault();try{f?(await VE(Kn(dt,"inventory",f),{brand:o.brand,priceFull:parseFloat(o.priceFull),priceShot:parseFloat(o.priceShot),available:o.available}),m(null)):await dp(ai(dt,"inventory"),{brand:o.brand,priceFull:parseFloat(o.priceFull),priceShot:parseFloat(o.priceShot),available:o.available}),u({brand:"",priceFull:"",priceShot:"",available:!0}),s(!1)}catch(k){console.error("Error saving inventory:",k)}},p=A=>{u({brand:A.brand,priceFull:A.priceFull,priceShot:A.priceShot,available:A.available}),m(A.id),s(!0)},E=async A=>{window.confirm("Are you sure you want to delete this item?")&&await bO(Kn(dt,"inventory",A))},b=async A=>{await VE(Kn(dt,"inventory",A.id),{available:!A.available})};return T.jsxs("div",{className:"max-w-5xl mx-auto",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h1",{className:"text-2xl font-bold text-army-900",children:"Bar Inventory"}),T.jsxs(zi,{onClick:()=>{s(!0),m(null),u({brand:"",priceFull:"",priceShot:"",available:!0})},children:[T.jsx(ZO,{size:20,className:"mr-2"})," Add Item"]})]}),n&&T.jsxs(Pt,{className:"mb-8 border-l-4 border-l-army-500",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{className:"font-bold text-lg",children:f?"Edit Item":"Add New Item"}),T.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600",children:T.jsx(Eg,{size:20})})]}),T.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[T.jsx("div",{className:"md:col-span-1",children:T.jsx(nn,{label:"Brand Name",value:o.brand,onChange:A=>u({...o,brand:A.target.value}),required:!0})}),T.jsx("div",{children:T.jsx(nn,{label:"Price (Full Bottle)",type:"number",value:o.priceFull,onChange:A=>u({...o,priceFull:A.target.value}),required:!0})}),T.jsx("div",{children:T.jsx(nn,{label:"Price (50ml Shot)",type:"number",value:o.priceShot,onChange:A=>u({...o,priceShot:A.target.value}),required:!0})}),T.jsx("div",{className:"mb-4",children:T.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:o.available,onChange:A=>u({...o,available:A.target.checked}),className:"w-4 h-4 text-army-600 rounded focus:ring-army-500"}),T.jsx("span",{className:"text-sm font-medium text-army-800",children:"In Stock"})]})}),T.jsxs("div",{className:"md:col-span-4 flex justify-end gap-2",children:[T.jsx(zi,{type:"button",variant:"ghost",onClick:()=>s(!1),children:"Cancel"}),T.jsx(zi,{type:"submit",children:f?"Update Item":"Save Item"})]})]})]}),T.jsx(Pt,{className:"overflow-hidden p-0",children:T.jsxs("table",{className:"w-full text-left text-sm",children:[T.jsx("thead",{className:"bg-army-50 text-army-700",children:T.jsxs("tr",{children:[T.jsx("th",{className:"p-4 font-semibold",children:"Brand"}),T.jsx("th",{className:"p-4 font-semibold text-right",children:"Price (Bottle)"}),T.jsx("th",{className:"p-4 font-semibold text-right",children:"Price (Shot)"}),T.jsx("th",{className:"p-4 font-semibold text-center",children:"Status"}),T.jsx("th",{className:"p-4 font-semibold text-right",children:"Actions"})]})}),T.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map(A=>T.jsxs("tr",{className:"hover:bg-gray-50",children:[T.jsx("td",{className:"p-4 font-medium text-gray-900",children:A.brand}),T.jsx("td",{className:"p-4 text-right text-gray-600",children:A.priceFull?.toFixed(2)}),T.jsx("td",{className:"p-4 text-right text-gray-600",children:A.priceShot?.toFixed(2)}),T.jsx("td",{className:"p-4 text-center",children:T.jsx("button",{onClick:()=>b(A),className:`inline-flex items-center px-2 py-1 rounded text-xs font-semibold ${A.available?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:A.available?"In Stock":"Unavailable"})}),T.jsxs("td",{className:"p-4 text-right flex justify-end gap-2",children:[T.jsx("button",{onClick:()=>p(A),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:T.jsx(JO,{size:16})}),T.jsx("button",{onClick:()=>E(A.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:T.jsx(o4,{size:16})})]})]},A.id))})]})})]})}const BE=({children:r,allowedRole:e})=>{const{currentUser:n,userData:s,loading:o}=ko();return o?T.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):n?e&&s?.role!==e?s?.role==="admin"?T.jsx(Xl,{to:"/admin",replace:!0}):T.jsx(Xl,{to:"/dashboard",replace:!0}):r:T.jsx(Xl,{to:"/login",replace:!0})};function R4(){return T.jsx(Yw,{children:T.jsx(RO,{children:T.jsxs(Aw,{children:[T.jsxs(en,{element:T.jsx(CO,{}),children:[T.jsx(en,{path:"/login",element:T.jsx(g4,{})}),T.jsx(en,{path:"/register",element:T.jsx(y4,{})})]}),T.jsxs(en,{path:"/",element:T.jsx(BE,{allowedRole:"officer",children:T.jsx(zE,{role:"officer"})}),children:[T.jsx(en,{index:!0,element:T.jsx(Xl,{to:"/dashboard",replace:!0})}),T.jsx(en,{path:"dashboard",element:T.jsx(_4,{})}),T.jsx(en,{path:"menu",element:T.jsx(v4,{})}),T.jsx(en,{path:"bill",element:T.jsx(E4,{})}),T.jsx(en,{path:"bar",element:T.jsx(T4,{})})]}),T.jsxs(en,{path:"/admin",element:T.jsx(BE,{allowedRole:"admin",children:T.jsx(zE,{role:"admin"})}),children:[T.jsx(en,{index:!0,element:T.jsx(b4,{})}),T.jsx(en,{path:"menu",element:T.jsx(S4,{})}),T.jsx(en,{path:"officers",element:T.jsx(A4,{})}),T.jsx(en,{path:"inventory",element:T.jsx(w4,{})})]}),T.jsx(en,{path:"*",element:T.jsx(Xl,{to:"/login",replace:!0})})]})})})}wA.createRoot(document.getElementById("root")).render(T.jsx(L.StrictMode,{children:T.jsx(R4,{})}));
