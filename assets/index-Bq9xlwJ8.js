(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var F9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function NE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var B0={exports:{}},Qf={};var X5;function TE(){if(X5)return Qf;X5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return Qf.Fragment=e,Qf.jsx=t,Qf.jsxs=t,Qf}var J5;function CE(){return J5||(J5=1,B0.exports=TE()),B0.exports}var x=CE(),V0={exports:{}},nn={};var Z5;function RE(){if(Z5)return nn;Z5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function _(W){return W===null||typeof W!="object"?null:(W=A&&W[A]||W["@@iterator"],typeof W=="function"?W:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,L={};function j(W,D,K){this.props=W,this.context=D,this.refs=L,this.updater=K||P}j.prototype.isReactComponent={},j.prototype.setState=function(W,D){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,D,"setState")},j.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function $(){}$.prototype=j.prototype;function X(W,D,K){this.props=W,this.context=D,this.refs=L,this.updater=K||P}var Z=X.prototype=new $;Z.constructor=X,I(Z,j.prototype),Z.isPureReactComponent=!0;var se=Array.isArray;function _e(){}var z={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function k(W,D,K){var ee=K.ref;return{$$typeof:n,type:W,key:D,ref:ee!==void 0?ee:null,props:K}}function H(W,D){return k(W.type,D,W.props)}function C(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function M(W){var D={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(K){return D[K]})}var F=/\/+/g;function ue(W,D){return typeof W=="object"&&W!==null&&W.key!=null?M(""+W.key):D.toString(36)}function Ne(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(_e,_e):(W.status="pending",W.then(function(D){W.status==="pending"&&(W.status="fulfilled",W.value=D)},function(D){W.status==="pending"&&(W.status="rejected",W.reason=D)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function le(W,D,K,ee,oe){var ce=typeof W;(ce==="undefined"||ce==="boolean")&&(W=null);var ve=!1;if(W===null)ve=!0;else switch(ce){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(W.$$typeof){case n:case e:ve=!0;break;case g:return ve=W._init,le(ve(W._payload),D,K,ee,oe)}}if(ve)return oe=oe(W),ve=ee===""?"."+ue(W,0):ee,se(oe)?(K="",ve!=null&&(K=ve.replace(F,"$&/")+"/"),le(oe,D,K,"",function(Be){return Be})):oe!=null&&(C(oe)&&(oe=H(oe,K+(oe.key==null||W&&W.key===oe.key?"":(""+oe.key).replace(F,"$&/")+"/")+ve)),D.push(oe)),1;ve=0;var De=ee===""?".":ee+":";if(se(W))for(var Le=0;Le<W.length;Le++)ee=W[Le],ce=De+ue(ee,Le),ve+=le(ee,D,K,ce,oe);else if(Le=_(W),typeof Le=="function")for(W=Le.call(W),Le=0;!(ee=W.next()).done;)ee=ee.value,ce=De+ue(ee,Le++),ve+=le(ee,D,K,ce,oe);else if(ce==="object"){if(typeof W.then=="function")return le(Ne(W),D,K,ee,oe);throw D=String(W),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return ve}function ge(W,D,K){if(W==null)return W;var ee=[],oe=0;return le(W,ee,"","",function(ce){return D.call(K,ce,oe++)}),ee}function pe(W){if(W._status===-1){var D=W._result;D=D(),D.then(function(K){(W._status===0||W._status===-1)&&(W._status=1,W._result=K)},function(K){(W._status===0||W._status===-1)&&(W._status=2,W._result=K)}),W._status===-1&&(W._status=0,W._result=D)}if(W._status===1)return W._result.default;throw W._result}var Ce=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},Ge={map:ge,forEach:function(W,D,K){ge(W,function(){D.apply(this,arguments)},K)},count:function(W){var D=0;return ge(W,function(){D++}),D},toArray:function(W){return ge(W,function(D){return D})||[]},only:function(W){if(!C(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return nn.Activity=w,nn.Children=Ge,nn.Component=j,nn.Fragment=t,nn.Profiler=a,nn.PureComponent=X,nn.StrictMode=r,nn.Suspense=f,nn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,nn.__COMPILER_RUNTIME={__proto__:null,c:function(W){return z.H.useMemoCache(W)}},nn.cache=function(W){return function(){return W.apply(null,arguments)}},nn.cacheSignal=function(){return null},nn.cloneElement=function(W,D,K){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var ee=I({},W.props),oe=W.key;if(D!=null)for(ce in D.key!==void 0&&(oe=""+D.key),D)!U.call(D,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&D.ref===void 0||(ee[ce]=D[ce]);var ce=arguments.length-2;if(ce===1)ee.children=K;else if(1<ce){for(var ve=Array(ce),De=0;De<ce;De++)ve[De]=arguments[De+2];ee.children=ve}return k(W.type,oe,ee)},nn.createContext=function(W){return W={$$typeof:u,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:o,_context:W},W},nn.createElement=function(W,D,K){var ee,oe={},ce=null;if(D!=null)for(ee in D.key!==void 0&&(ce=""+D.key),D)U.call(D,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(oe[ee]=D[ee]);var ve=arguments.length-2;if(ve===1)oe.children=K;else if(1<ve){for(var De=Array(ve),Le=0;Le<ve;Le++)De[Le]=arguments[Le+2];oe.children=De}if(W&&W.defaultProps)for(ee in ve=W.defaultProps,ve)oe[ee]===void 0&&(oe[ee]=ve[ee]);return k(W,ce,oe)},nn.createRef=function(){return{current:null}},nn.forwardRef=function(W){return{$$typeof:c,render:W}},nn.isValidElement=C,nn.lazy=function(W){return{$$typeof:g,_payload:{_status:-1,_result:W},_init:pe}},nn.memo=function(W,D){return{$$typeof:d,type:W,compare:D===void 0?null:D}},nn.startTransition=function(W){var D=z.T,K={};z.T=K;try{var ee=W(),oe=z.S;oe!==null&&oe(K,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(_e,Ce)}catch(ce){Ce(ce)}finally{D!==null&&K.types!==null&&(D.types=K.types),z.T=D}},nn.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},nn.use=function(W){return z.H.use(W)},nn.useActionState=function(W,D,K){return z.H.useActionState(W,D,K)},nn.useCallback=function(W,D){return z.H.useCallback(W,D)},nn.useContext=function(W){return z.H.useContext(W)},nn.useDebugValue=function(){},nn.useDeferredValue=function(W,D){return z.H.useDeferredValue(W,D)},nn.useEffect=function(W,D){return z.H.useEffect(W,D)},nn.useEffectEvent=function(W){return z.H.useEffectEvent(W)},nn.useId=function(){return z.H.useId()},nn.useImperativeHandle=function(W,D,K){return z.H.useImperativeHandle(W,D,K)},nn.useInsertionEffect=function(W,D){return z.H.useInsertionEffect(W,D)},nn.useLayoutEffect=function(W,D){return z.H.useLayoutEffect(W,D)},nn.useMemo=function(W,D){return z.H.useMemo(W,D)},nn.useOptimistic=function(W,D){return z.H.useOptimistic(W,D)},nn.useReducer=function(W,D,K){return z.H.useReducer(W,D,K)},nn.useRef=function(W){return z.H.useRef(W)},nn.useState=function(W){return z.H.useState(W)},nn.useSyncExternalStore=function(W,D,K){return z.H.useSyncExternalStore(W,D,K)},nn.useTransition=function(){return z.H.useTransition()},nn.version="19.2.4",nn}var eb;function E2(){return eb||(eb=1,V0.exports=RE()),V0.exports}var he=E2();const IE=NE(he);var z0={exports:{}},Xf={},q0={exports:{}},H0={};var tb;function LE(){return tb||(tb=1,(function(n){function e(le,ge){var pe=le.length;le.push(ge);e:for(;0<pe;){var Ce=pe-1>>>1,Ge=le[Ce];if(0<a(Ge,ge))le[Ce]=ge,le[pe]=Ge,pe=Ce;else break e}}function t(le){return le.length===0?null:le[0]}function r(le){if(le.length===0)return null;var ge=le[0],pe=le.pop();if(pe!==ge){le[0]=pe;e:for(var Ce=0,Ge=le.length,W=Ge>>>1;Ce<W;){var D=2*(Ce+1)-1,K=le[D],ee=D+1,oe=le[ee];if(0>a(K,pe))ee<Ge&&0>a(oe,K)?(le[Ce]=oe,le[ee]=pe,Ce=ee):(le[Ce]=K,le[D]=pe,Ce=D);else if(ee<Ge&&0>a(oe,pe))le[Ce]=oe,le[ee]=pe,Ce=ee;else break e}}return ge}function a(le,ge){var pe=le.sortIndex-ge.sortIndex;return pe!==0?pe:le.id-ge.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],g=1,w=null,A=3,_=!1,P=!1,I=!1,L=!1,j=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function Z(le){for(var ge=t(d);ge!==null;){if(ge.callback===null)r(d);else if(ge.startTime<=le)r(d),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=t(d)}}function se(le){if(I=!1,Z(le),!P)if(t(f)!==null)P=!0,_e||(_e=!0,M());else{var ge=t(d);ge!==null&&Ne(se,ge.startTime-le)}}var _e=!1,z=-1,U=5,k=-1;function H(){return L?!0:!(n.unstable_now()-k<U)}function C(){if(L=!1,_e){var le=n.unstable_now();k=le;var ge=!0;try{e:{P=!1,I&&(I=!1,$(z),z=-1),_=!0;var pe=A;try{t:{for(Z(le),w=t(f);w!==null&&!(w.expirationTime>le&&H());){var Ce=w.callback;if(typeof Ce=="function"){w.callback=null,A=w.priorityLevel;var Ge=Ce(w.expirationTime<=le);if(le=n.unstable_now(),typeof Ge=="function"){w.callback=Ge,Z(le),ge=!0;break t}w===t(f)&&r(f),Z(le)}else r(f);w=t(f)}if(w!==null)ge=!0;else{var W=t(d);W!==null&&Ne(se,W.startTime-le),ge=!1}}break e}finally{w=null,A=pe,_=!1}ge=void 0}}finally{ge?M():_e=!1}}}var M;if(typeof X=="function")M=function(){X(C)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,ue=F.port2;F.port1.onmessage=C,M=function(){ue.postMessage(null)}}else M=function(){j(C,0)};function Ne(le,ge){z=j(function(){le(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(le){switch(A){case 1:case 2:case 3:var ge=3;break;default:ge=A}var pe=A;A=ge;try{return le()}finally{A=pe}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(le,ge){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var pe=A;A=le;try{return ge()}finally{A=pe}},n.unstable_scheduleCallback=function(le,ge,pe){var Ce=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ce+pe:Ce):pe=Ce,le){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=pe+Ge,le={id:g++,callback:ge,priorityLevel:le,startTime:pe,expirationTime:Ge,sortIndex:-1},pe>Ce?(le.sortIndex=pe,e(d,le),t(f)===null&&le===t(d)&&(I?($(z),z=-1):I=!0,Ne(se,pe-Ce))):(le.sortIndex=Ge,e(f,le),P||_||(P=!0,_e||(_e=!0,M()))),le},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(le){var ge=A;return function(){var pe=A;A=ge;try{return le.apply(this,arguments)}finally{A=pe}}}})(H0)),H0}var nb;function kE(){return nb||(nb=1,q0.exports=LE()),q0.exports}var G0={exports:{}},_a={};var rb;function DE(){if(rb)return _a;rb=1;var n=E2();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return _a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_a.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},_a.flushSync=function(f){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=g,r.d.f()}},_a.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},_a.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},_a.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,w=c(g,d.crossOrigin),A=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:_}):g==="script"&&r.d.X(f,{crossOrigin:w,integrity:A,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},_a.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},_a.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,w=c(g,d.crossOrigin);r.d.L(f,g,{crossOrigin:w,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},_a.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},_a.requestFormReset=function(f){r.d.r(f)},_a.unstable_batchedUpdates=function(f,d){return f(d)},_a.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},_a.useFormStatus=function(){return u.H.useHostTransitionStatus()},_a.version="19.2.4",_a}var ib;function OE(){if(ib)return G0.exports;ib=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),G0.exports=DE(),G0.exports}var ab;function PE(){if(ab)return Xf;ab=1;var n=kE(),e=E2(),t=OE();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,h=s;;){var y=l.return;if(y===null)break;var b=y.alternate;if(b===null){if(h=y.return,h!==null){l=h;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===l)return f(y),i;if(b===h)return f(y),s;b=b.sibling}throw Error(r(188))}if(l.return!==h.return)l=y,h=b;else{for(var R=!1,Y=y.child;Y;){if(Y===l){R=!0,l=y,h=b;break}if(Y===h){R=!0,h=y,l=b;break}Y=Y.sibling}if(!R){for(Y=b.child;Y;){if(Y===l){R=!0,l=b,h=y;break}if(Y===h){R=!0,h=b,l=y;break}Y=Y.sibling}if(!R)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),X=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function M(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var F=Symbol.for("react.client.reference");function ue(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===F?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case j:return"Profiler";case L:return"StrictMode";case se:return"Suspense";case _e:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case P:return"Portal";case X:return i.displayName||"Context";case $:return(i._context.displayName||"Context")+".Consumer";case Z:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case z:return s=i.displayName||null,s!==null?s:ue(i.type)||"Memo";case U:s=i._payload,i=i._init;try{return ue(i(s))}catch{}}return null}var Ne=Array.isArray,le=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ce=[],Ge=-1;function W(i){return{current:i}}function D(i){0>Ge||(i.current=Ce[Ge],Ce[Ge]=null,Ge--)}function K(i,s){Ge++,Ce[Ge]=i.current,i.current=s}var ee=W(null),oe=W(null),ce=W(null),ve=W(null);function De(i,s){switch(K(ce,s),K(oe,i),K(ee,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?_5(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=_5(s),i=w5(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}D(ee),K(ee,i)}function Le(){D(ee),D(oe),D(ce)}function Be(i){i.memoizedState!==null&&K(ve,i);var s=ee.current,l=w5(s,i.type);s!==l&&(K(oe,i),K(ee,l))}function Xe(i){oe.current===i&&(D(ee),D(oe)),ve.current===i&&(D(ve),Wf._currentValue=pe)}var nt,tt;function ct(i){if(nt===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);nt=s&&s[1]||"",tt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nt+i+tt}var ne=!1;function et(i,s){if(!i||ne)return"";ne=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(Pe){var Oe=Pe}Reflect.construct(i,[],We)}else{try{We.call()}catch(Pe){Oe=Pe}i.call(We.prototype)}}else{try{throw Error()}catch(Pe){Oe=Pe}(We=i())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(Pe){if(Pe&&Oe&&typeof Pe.stack=="string")return[Pe.stack,Oe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),R=b[0],Y=b[1];if(R&&Y){var fe=R.split(`
`),Ie=Y.split(`
`);for(y=h=0;h<fe.length&&!fe[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Ie.length&&!Ie[y].includes("DetermineComponentFrameRoot");)y++;if(h===fe.length||y===Ie.length)for(h=fe.length-1,y=Ie.length-1;1<=h&&0<=y&&fe[h]!==Ie[y];)y--;for(;1<=h&&0<=y;h--,y--)if(fe[h]!==Ie[y]){if(h!==1||y!==1)do if(h--,y--,0>y||fe[h]!==Ie[y]){var Fe=`
`+fe[h].replace(" at new "," at ");return i.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",i.displayName)),Fe}while(1<=h&&0<=y);break}}}finally{ne=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ct(l):""}function Yt(i,s){switch(i.tag){case 26:case 27:case 5:return ct(i.type);case 16:return ct("Lazy");case 13:return i.child!==s&&s!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return et(i.type,!1);case 11:return et(i.type.render,!1);case 1:return et(i.type,!0);case 31:return ct("Activity");default:return""}}function Nt(i){try{var s="",l=null;do s+=Yt(i,l),l=i,i=i.return;while(i);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var ze=Object.prototype.hasOwnProperty,at=n.unstable_scheduleCallback,it=n.unstable_cancelCallback,Ct=n.unstable_shouldYield,_t=n.unstable_requestPaint,Kt=n.unstable_now,en=n.unstable_getCurrentPriorityLevel,Vt=n.unstable_ImmediatePriority,on=n.unstable_UserBlockingPriority,Xt=n.unstable_NormalPriority,gt=n.unstable_LowPriority,Gt=n.unstable_IdlePriority,yt=n.log,dr=n.unstable_setDisableYieldValue,Jt=null,Tt=null;function Mt(i){if(typeof yt=="function"&&dr(i),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Jt,i)}catch{}}var Qt=Math.clz32?Math.clz32:Pt,xt=Math.log,Dn=Math.LN2;function Pt(i){return i>>>=0,i===0?32:31-(xt(i)/Dn|0)|0}var jt=256,jn=262144,wt=4194304;function vt(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ln(i,s,l){var h=i.pendingLanes;if(h===0)return 0;var y=0,b=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var Y=h&134217727;return Y!==0?(h=Y&~b,h!==0?y=vt(h):(R&=Y,R!==0?y=vt(R):l||(l=Y&~i,l!==0&&(y=vt(l))))):(Y=h&~b,Y!==0?y=vt(Y):R!==0?y=vt(R):l||(l=h&~i,l!==0&&(y=vt(l)))),y===0?0:s!==0&&s!==y&&(s&b)===0&&(b=y&-y,l=s&-s,b>=l||b===32&&(l&4194048)!==0)?s:y}function bi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function oi(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qa(){var i=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),i}function Xr(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function St(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ds(i,s,l,h,y,b){var R=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var Y=i.entanglements,fe=i.expirationTimes,Ie=i.hiddenUpdates;for(l=R&~l;0<l;){var Fe=31-Qt(l),We=1<<Fe;Y[Fe]=0,fe[Fe]=-1;var Oe=Ie[Fe];if(Oe!==null)for(Ie[Fe]=null,Fe=0;Fe<Oe.length;Fe++){var Pe=Oe[Fe];Pe!==null&&(Pe.lane&=-536870913)}l&=~We}h!==0&&Yi(i,h,0),b!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=b&~(R&~s))}function Yi(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-Qt(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function Di(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-Qt(l),y=1<<h;y&s|i[h]&s&&(i[h]|=s),l&=~y}}function Oi(i,s){var l=s&-s;return l=(l&42)!==0?1:Gn(l),(l&(i.suspendedLanes|s))!==0?0:l}function Gn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function er(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ur(){var i=ge.p;return i!==0?i:(i=window.event,i===void 0?32:H5(i.type))}function _i(i,s){var l=ge.p;try{return ge.p=i,s()}finally{ge.p=l}}var li=Math.random().toString(36).slice(2),Mn="__reactFiber$"+li,Yn="__reactProps$"+li,Fr="__reactContainer$"+li,Pi="__reactEvents$"+li,da="__reactListeners$"+li,Ls="__reactHandles$"+li,Ra="__reactResources$"+li,ji="__reactMarker$"+li;function ps(i){delete i[Mn],delete i[Yn],delete i[Pi],delete i[da],delete i[Ls]}function Ki(i){var s=i[Mn];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Fr]||l[Mn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=C5(i);i!==null;){if(l=i[Mn])return l;i=C5(i)}return s}i=l,l=i.parentNode}return null}function wi(i){if(i=i[Mn]||i[Fr]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Qi(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function pa(i){var s=i[Ra];return s||(s=i[Ra]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function gr(i){i[ji]=!0}var Lo=new Set,Mi={};function ma(i,s){Ia(i,s),Ia(i+"Capture",s)}function Ia(i,s){for(Mi[i]=s,i=0;i<s.length;i++)Lo.add(s[i])}var Zs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},Do={};function hl(i){return ze.call(Do,i)?!0:ze.call(ko,i)?!1:Zs.test(i)?Do[i]=!0:(ko[i]=!0,!1)}function Xi(i,s,l){if(hl(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function ui(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Sr(i,s,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+h)}}function fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ms(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ga(i,s,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,b=h.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return y.call(this)},set:function(R){l=""+R,b.call(this,R)}}),Object.defineProperty(i,s,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(R){l=""+R},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function _n(i){if(!i._valueTracker){var s=ms(i)?"checked":"value";i._valueTracker=ga(i,s,""+i[s])}}function ks(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=ms(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function Lr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var lr=/[\n"\\]/g;function Ar(i){return i.replace(lr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function eo(i,s,l,h,y,b,R,Y){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),s!=null?R==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+fn(s)):i.value!==""+fn(s)&&(i.value=""+fn(s)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),s!=null?fl(i,R,fn(s)):l!=null?fl(i,R,fn(l)):h!=null&&i.removeAttribute("value"),y==null&&b!=null&&(i.defaultChecked=!!b),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?i.name=""+fn(Y):i.removeAttribute("name")}function ru(i,s,l,h,y,b,R,Y){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),s!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||s!=null)){_n(i);return}l=l!=null?""+fn(l):"",s=s!=null?""+fn(s):l,Y||s===i.value||(i.value=s),i.defaultValue=s}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=Y?i.checked:!!h,i.defaultChecked=!!h,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R),_n(i)}function fl(i,s,l){s==="number"&&Lr(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function xi(i,s,l,h){if(i=i.options,s){s={};for(var y=0;y<l.length;y++)s["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=s.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&h&&(i[l].defaultSelected=!0)}else{for(l=""+fn(l),s=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}s!==null||i[y].disabled||(s=i[y])}s!==null&&(s.selected=!0)}}function dl(i,s,l){if(s!=null&&(s=""+fn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+fn(l):""}function gs(i,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(r(92));if(Ne(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=fn(s),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),_n(i)}function Jr(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Ds=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pl(i,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,l):typeof l!="number"||l===0||Ds.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function ml(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in s)h=s[y],s.hasOwnProperty(y)&&l[y]!==h&&pl(i,y,h)}else for(var b in s)s.hasOwnProperty(b)&&pl(i,b,s[b])}function Oo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Po=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ui(i){return ys.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function La(){}var vs=null;function Fi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Os=null,Rt=null;function to(i){var s=wi(i);if(s&&(i=s.stateNode)){var l=i[Yn]||null;e:switch(i=s.stateNode,s.type){case"input":if(eo(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ar(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var y=h[Yn]||null;if(!y)throw Error(r(90));eo(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===i.form&&ks(h)}break e;case"textarea":dl(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&xi(i,!!l.multiple,s,!1)}}}var jo=!1;function Ps(i,s,l){if(jo)return i(s,l);jo=!0;try{var h=i(s);return h}finally{if(jo=!1,(Os!==null||Rt!==null)&&(xp(),Os&&(s=Os,i=Rt,Rt=Os=null,to(s),i)))for(s=0;s<i.length;s++)to(i[s])}}function Zr(i,s){var l=i.stateNode;if(l===null)return null;var h=l[Yn]||null;if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),no=!1;if(Br)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){no=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{no=!1}var Ji=null,ro=null,ka=null;function gl(){if(ka)return ka;var i,s=ro,l=s.length,h,y="value"in Ji?Ji.value:Ji.textContent,b=y.length;for(i=0;i<l&&s[i]===y[i];i++);var R=l-i;for(h=1;h<=R&&s[l-h]===y[b-h];h++);return ka=y.slice(i,1<h?1-h:void 0)}function Zi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function bs(){return!0}function ea(){return!1}function kr(i){function s(l,h,y,b,R){this._reactName=l,this._targetInst=y,this.type=h,this.nativeEvent=b,this.target=R,this.currentTarget=null;for(var Y in i)i.hasOwnProperty(Y)&&(l=i[Y],this[Y]=l?l(b):b[Y]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?bs:ea,this.isPropagationStopped=ea,this}return w(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),s}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=kr(Ha),Ga=w({},Ha,{view:0,detail:0}),js=kr(Ga),Wa,$a,ya,io=w({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ya&&(ya&&i.type==="mousemove"?(Wa=i.screenX-ya.screenX,$a=i.screenY-ya.screenY):$a=Wa=0,ya=i),Wa)},movementY:function(i){return"movementY"in i?i.movementY:$a}}),Mo=kr(io),ta=w({},io,{dataTransfer:0}),Ya=kr(ta),yl=w({},Ga,{relatedTarget:0}),Da=kr(yl),Uo=w({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),S=kr(Uo),B=w({},Ha,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ie=kr(B),de=w({},Ha,{data:0}),we=kr(de),Ue={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ye={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dt(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=lt[i])?!!s[i]:!1}function Lt(){return dt}var At=w({},Ga,{key:function(i){if(i.key){var s=Ue[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Zi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ye[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lt,charCode:function(i){return i.type==="keypress"?Zi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Zi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),dn=kr(At),tr=w({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wn=kr(tr),m=w({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lt}),N=kr(m),O=w({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),J=kr(O),Se=w({},io,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ke=kr(Se),Je=w({},Ha,{newState:0,oldState:0}),Ht=kr(Je),nr=[9,13,27,32],cn=Br&&"CompositionEvent"in window,Fn=null;Br&&"documentMode"in document&&(Fn=document.documentMode);var hi=Br&&"TextEvent"in window&&!Fn,Si=Br&&(!cn||Fn&&8<Fn&&11>=Fn),Kn=" ",Ai=!1;function Oa(i,s){switch(i){case"keyup":return nr.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ms(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Us=!1;function na(i,s){switch(i){case"compositionend":return Ms(s);case"keypress":return s.which!==32?null:(Ai=!0,Kn);case"textInput":return i=s.data,i===Kn&&Ai?null:i;default:return null}}function ao(i,s){if(Us)return i==="compositionend"||!cn&&Oa(i,s)?(i=gl(),ka=ro=Ji=null,Us=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Si&&s.locale!=="ko"?null:s.data;default:return null}}var iu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!iu[i.type]:s==="textarea"}function Pa(i,s,l,h){Os?Rt?Rt.push(h):Rt=[h]:Os=h,s=Rp(s,"onChange"),0<s.length&&(l=new ci("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var _s=null,so=null;function sc(i){p5(i,0)}function ws(i){var s=Qi(i);if(ks(s))return i}function Fo(i,s){if(i==="change")return s}var va=!1;if(Br){var ra;if(Br){var Fs="oninput"in document;if(!Fs){var Bs=document.createElement("div");Bs.setAttribute("oninput","return;"),Fs=typeof Bs.oninput=="function"}ra=Fs}else ra=!1;va=ra&&(!document.documentMode||9<document.documentMode)}function oo(){_s&&(_s.detachEvent("onpropertychange",au),so=_s=null)}function au(i){if(i.propertyName==="value"&&ws(so)){var s=[];Pa(s,so,i,Fi(i)),Ps(sc,s)}}function su(i,s,l){i==="focusin"?(oo(),_s=s,so=l,_s.attachEvent("onpropertychange",au)):i==="focusout"&&oo()}function Dr(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ws(so)}function Gc(i,s){if(i==="click")return ws(s)}function Vs(i,s){if(i==="input"||i==="change")return ws(s)}function zs(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Ei=typeof Object.is=="function"?Object.is:zs;function lo(i,s){if(Ei(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var y=l[h];if(!ze.call(s,y)||!Ei(i[y],s[y]))return!1}return!0}function ou(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function lu(i,s){var l=ou(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ou(l)}}function uo(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?uo(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function co(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Lr(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Lr(i.document)}return s}function qs(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var vl=Br&&"documentMode"in document&&11>=document.documentMode,ja=null,ho=null,Bi=null,Ka=!1;function On(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ka||ja==null||ja!==Lr(h)||(h=ja,"selectionStart"in h&&qs(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Bi&&lo(Bi,h)||(Bi=h,h=Rp(ho,"onSelect"),0<h.length&&(s=new ci("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=ja)))}function Tn(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var rr={animationend:Tn("Animation","AnimationEnd"),animationiteration:Tn("Animation","AnimationIteration"),animationstart:Tn("Animation","AnimationStart"),transitionrun:Tn("Transition","TransitionRun"),transitionstart:Tn("Transition","TransitionStart"),transitioncancel:Tn("Transition","TransitionCancel"),transitionend:Tn("Transition","TransitionEnd")},Or={},Hs={};Br&&(Hs=document.createElement("div").style,"AnimationEvent"in window||(delete rr.animationend.animation,delete rr.animationiteration.animation,delete rr.animationstart.animation),"TransitionEvent"in window||delete rr.transitionend.transition);function xs(i){if(Or[i])return Or[i];if(!rr[i])return i;var s=rr[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Hs)return Or[i]=s[l];return i}var bl=xs("animationend"),oc=xs("animationiteration"),mf=xs("animationstart"),Jd=xs("transitionrun"),Zd=xs("transitionstart"),ep=xs("transitioncancel"),gf=xs("transitionend"),yf=new Map,_l="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_l.push("scrollEnd");function Qa(i,s){yf.set(i,s),ma(s,[i])}var lc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ma=[],wl=0,Wc=0;function uc(){for(var i=wl,s=Wc=wl=0;s<i;){var l=Ma[s];Ma[s++]=null;var h=Ma[s];Ma[s++]=null;var y=Ma[s];Ma[s++]=null;var b=Ma[s];if(Ma[s++]=null,h!==null&&y!==null){var R=h.pending;R===null?y.next=y:(y.next=R.next,R.next=y),h.pending=y}b!==0&&hc(l,y,b)}}function cc(i,s,l,h){Ma[wl++]=i,Ma[wl++]=s,Ma[wl++]=l,Ma[wl++]=h,Wc|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function $c(i,s,l,h){return cc(i,s,l,h),Vi(i)}function fo(i,s){return cc(i,null,null,s),Vi(i)}function hc(i,s,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var y=!1,b=i.return;b!==null;)b.childLanes|=l,h=b.alternate,h!==null&&(h.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(y=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,y&&s!==null&&(y=31-Qt(l),i=b.hiddenUpdates,h=i[y],h===null?i[y]=[s]:h.push(s),s.lane=l|536870912),b):null}function Vi(i){if(50<Ff)throw Ff=0,c0=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ni={};function Yc(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(i,s,l,h){return new Yc(i,s,l,h)}function Kc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Xa(i,s){var l=i.alternate;return l===null?(l=zi(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function fc(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function uu(i,s,l,h,y,b){var R=0;if(h=i,typeof i=="function")Kc(i)&&(R=1);else if(typeof i=="string")R=pE(i,l,ee.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=zi(31,l,s,y),i.elementType=k,i.lanes=b,i;case I:return Bo(l.children,y,b,s);case L:R=8,y|=24;break;case j:return i=zi(12,l,s,y|2),i.elementType=j,i.lanes=b,i;case se:return i=zi(13,l,s,y),i.elementType=se,i.lanes=b,i;case _e:return i=zi(19,l,s,y),i.elementType=_e,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case X:R=10;break e;case $:R=9;break e;case Z:R=11;break e;case z:R=14;break e;case U:R=16,h=null;break e}R=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=zi(R,l,s,y),s.elementType=i,s.type=h,s.lanes=b,s}function Bo(i,s,l,h){return i=zi(7,i,h,s),i.lanes=l,i}function dc(i,s,l){return i=zi(6,i,null,s),i.lanes=l,i}function Qc(i){var s=zi(18,null,null,0);return s.stateNode=i,s}function cu(i,s,l){return s=zi(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Xc=new WeakMap;function Ja(i,s){if(typeof i=="object"&&i!==null){var l=Xc.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Nt(s)},Xc.set(i,s),s)}return{value:i,source:s,stack:Nt(s)}}var hu=[],xl=0,Jc=null,pc=0,Za=[],es=0,Vo=null,ts=1,ns="";function Ua(i,s){hu[xl++]=pc,hu[xl++]=Jc,Jc=i,pc=s}function tp(i,s,l){Za[es++]=ts,Za[es++]=ns,Za[es++]=Vo,Vo=i;var h=ts;i=ns;var y=32-Qt(h)-1;h&=~(1<<y),l+=1;var b=32-Qt(s)+y;if(30<b){var R=y-y%5;b=(h&(1<<R)-1).toString(32),h>>=R,y-=R,ts=1<<32-Qt(s)+y|l<<y|h,ns=b+i}else ts=1<<b|l<<y|h,ns=i}function vf(i){i.return!==null&&(Ua(i,1),tp(i,1,0))}function Zc(i){for(;i===Jc;)Jc=hu[--xl],hu[xl]=null,pc=hu[--xl],hu[xl]=null;for(;i===Vo;)Vo=Za[--es],Za[es]=null,ns=Za[--es],Za[es]=null,ts=Za[--es],Za[es]=null}function np(i,s){Za[es++]=ts,Za[es++]=ns,Za[es++]=Vo,ts=s.id,ns=s.overflow,Vo=i}var Ti=null,ur=null,yn=!1,ia=null,Er=!1,Ss=Error(r(519));function zo(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fu(Ja(s,i)),Ss}function bf(i){var s=i.stateNode,l=i.type,h=i.memoizedProps;switch(s[Mn]=i,s[Yn]=h,l){case"dialog":bn("cancel",s),bn("close",s);break;case"iframe":case"object":case"embed":bn("load",s);break;case"video":case"audio":for(l=0;l<Vf.length;l++)bn(Vf[l],s);break;case"source":bn("error",s);break;case"img":case"image":case"link":bn("error",s),bn("load",s);break;case"details":bn("toggle",s);break;case"input":bn("invalid",s),ru(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":bn("invalid",s);break;case"textarea":bn("invalid",s),gs(s,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||v5(s.textContent,l)?(h.popover!=null&&(bn("beforetoggle",s),bn("toggle",s)),h.onScroll!=null&&bn("scroll",s),h.onScrollEnd!=null&&bn("scrollend",s),h.onClick!=null&&(s.onclick=La),s=!0):s=!1,s||zo(i,!0)}function po(i){for(Ti=i.return;Ti;)switch(Ti.tag){case 5:case 31:case 13:Er=!1;return;case 27:case 3:Er=!0;return;default:Ti=Ti.return}}function Ci(i){if(i!==Ti)return!1;if(!yn)return po(i),yn=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||E0(i.type,i.memoizedProps)),l=!l),l&&ur&&zo(i),po(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ur=T5(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ur=T5(i)}else s===27?(s=ur,Nu(i.type)?(i=I0,I0=null,ur=i):ur=s):ur=Ti?Ys(i.stateNode.nextSibling):null;return!0}function Sl(){ur=Ti=null,yn=!1}function _f(){var i=ia;return i!==null&&(ls===null?ls=i:ls.push.apply(ls,i),ia=null),i}function fu(i){ia===null?ia=[i]:ia.push(i)}var eh=W(null),qo=null,Gs=null;function Ho(i,s,l){K(eh,s._currentValue),s._currentValue=l}function rs(i){i._currentValue=eh.current,D(eh)}function du(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function Al(i,s,l,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var b=y.dependencies;if(b!==null){var R=y.child;b=b.firstContext;e:for(;b!==null;){var Y=b;b=y;for(var fe=0;fe<s.length;fe++)if(Y.context===s[fe]){b.lanes|=l,Y=b.alternate,Y!==null&&(Y.lanes|=l),du(b.return,l,i),h||(R=null);break e}b=Y.next}}else if(y.tag===18){if(R=y.return,R===null)throw Error(r(341));R.lanes|=l,b=R.alternate,b!==null&&(b.lanes|=l),du(R,l,i),R=null}else R=y.child;if(R!==null)R.return=y;else for(R=y;R!==null;){if(R===i){R=null;break}if(y=R.sibling,y!==null){y.return=R.return,R=y;break}R=R.return}y=R}}function Go(i,s,l,h){i=null;for(var y=s,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var R=y.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var Y=y.type;Ei(y.pendingProps.value,R.value)||(i!==null?i.push(Y):i=[Y])}}else if(y===ve.current){if(R=y.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Wf):i=[Wf])}y=y.return}i!==null&&Al(s,i,l,h),s.flags|=262144}function th(i){for(i=i.firstContext;i!==null;){if(!Ei(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Wo(i){qo=i,Gs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ri(i){return rp(qo,i)}function nh(i,s){return qo===null&&Wo(i),rp(i,s)}function rp(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Gs===null){if(i===null)throw Error(r(308));Gs=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Gs=Gs.next=s;return l}var Rg=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},Ig=n.unstable_scheduleCallback,Lg=n.unstable_NormalPriority,Pr={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pu(){return{controller:new Rg,data:new Map,refCount:0}}function mc(i){i.refCount--,i.refCount===0&&Ig(Lg,function(){i.controller.abort()})}var gc=null,rh=0,p=0,v=null;function E(i,s){if(gc===null){var l=gc=[];rh=0,p=g0(),v={status:"pending",value:void 0,then:function(h){l.push(h)}}}return rh++,s.then(T,T),s}function T(){if(--rh===0&&gc!==null){v!==null&&(v.status="fulfilled");var i=gc;gc=null,p=0,v=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function V(i,s){var l=[],h={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var y=0;y<l.length;y++)(0,l[y])(s)},function(y){for(h.status="rejected",h.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),h}var q=le.S;le.S=function(i,s){zv=Kt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&E(i,s),q!==null&&q(i,s)};var G=W(null);function Q(){var i=G.current;return i!==null?i:hr.pooledCache}function te(i,s){s===null?K(G,G.current):K(G,s.pool)}function ae(){var i=Q();return i===null?null:{parent:Pr._currentValue,pool:i}}var me=Error(r(460)),Te=Error(r(474)),re=Error(r(542)),be={then:function(){}};function Ae(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Me(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(La,La),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Qe(i),i;default:if(typeof s.status=="string")s.then(La,La);else{if(i=hr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=h}},function(h){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Qe(i),i}throw je=s,me}}function Ee(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(je=l,me):l}}var je=null;function Ve(){if(je===null)throw Error(r(459));var i=je;return je=null,i}function Qe(i){if(i===me||i===re)throw Error(r(483))}var $e=null,pt=0;function st(i){var s=pt;return pt+=1,$e===null&&($e=[]),Me($e,i,s)}function Wt(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ht(i,s){throw s.$$typeof===A?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function pn(i){function s(xe,ye){if(i){var Re=xe.deletions;Re===null?(xe.deletions=[ye],xe.flags|=16):Re.push(ye)}}function l(xe,ye){if(!i)return null;for(;ye!==null;)s(xe,ye),ye=ye.sibling;return null}function h(xe){for(var ye=new Map;xe!==null;)xe.key!==null?ye.set(xe.key,xe):ye.set(xe.index,xe),xe=xe.sibling;return ye}function y(xe,ye){return xe=Xa(xe,ye),xe.index=0,xe.sibling=null,xe}function b(xe,ye,Re){return xe.index=Re,i?(Re=xe.alternate,Re!==null?(Re=Re.index,Re<ye?(xe.flags|=67108866,ye):Re):(xe.flags|=67108866,ye)):(xe.flags|=1048576,ye)}function R(xe){return i&&xe.alternate===null&&(xe.flags|=67108866),xe}function Y(xe,ye,Re,qe){return ye===null||ye.tag!==6?(ye=dc(Re,xe.mode,qe),ye.return=xe,ye):(ye=y(ye,Re),ye.return=xe,ye)}function fe(xe,ye,Re,qe){var Dt=Re.type;return Dt===I?Fe(xe,ye,Re.props.children,qe,Re.key):ye!==null&&(ye.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===U&&Ee(Dt)===ye.type)?(ye=y(ye,Re.props),Wt(ye,Re),ye.return=xe,ye):(ye=uu(Re.type,Re.key,Re.props,null,xe.mode,qe),Wt(ye,Re),ye.return=xe,ye)}function Ie(xe,ye,Re,qe){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Re.containerInfo||ye.stateNode.implementation!==Re.implementation?(ye=cu(Re,xe.mode,qe),ye.return=xe,ye):(ye=y(ye,Re.children||[]),ye.return=xe,ye)}function Fe(xe,ye,Re,qe,Dt){return ye===null||ye.tag!==7?(ye=Bo(Re,xe.mode,qe,Dt),ye.return=xe,ye):(ye=y(ye,Re),ye.return=xe,ye)}function We(xe,ye,Re){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=dc(""+ye,xe.mode,Re),ye.return=xe,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case _:return Re=uu(ye.type,ye.key,ye.props,null,xe.mode,Re),Wt(Re,ye),Re.return=xe,Re;case P:return ye=cu(ye,xe.mode,Re),ye.return=xe,ye;case U:return ye=Ee(ye),We(xe,ye,Re)}if(Ne(ye)||M(ye))return ye=Bo(ye,xe.mode,Re,null),ye.return=xe,ye;if(typeof ye.then=="function")return We(xe,st(ye),Re);if(ye.$$typeof===X)return We(xe,nh(xe,ye),Re);ht(xe,ye)}return null}function Oe(xe,ye,Re,qe){var Dt=ye!==null?ye.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Dt!==null?null:Y(xe,ye,""+Re,qe);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case _:return Re.key===Dt?fe(xe,ye,Re,qe):null;case P:return Re.key===Dt?Ie(xe,ye,Re,qe):null;case U:return Re=Ee(Re),Oe(xe,ye,Re,qe)}if(Ne(Re)||M(Re))return Dt!==null?null:Fe(xe,ye,Re,qe,null);if(typeof Re.then=="function")return Oe(xe,ye,st(Re),qe);if(Re.$$typeof===X)return Oe(xe,ye,nh(xe,Re),qe);ht(xe,Re)}return null}function Pe(xe,ye,Re,qe,Dt){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return xe=xe.get(Re)||null,Y(ye,xe,""+qe,Dt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case _:return xe=xe.get(qe.key===null?Re:qe.key)||null,fe(ye,xe,qe,Dt);case P:return xe=xe.get(qe.key===null?Re:qe.key)||null,Ie(ye,xe,qe,Dt);case U:return qe=Ee(qe),Pe(xe,ye,Re,qe,Dt)}if(Ne(qe)||M(qe))return xe=xe.get(Re)||null,Fe(ye,xe,qe,Dt,null);if(typeof qe.then=="function")return Pe(xe,ye,Re,st(qe),Dt);if(qe.$$typeof===X)return Pe(xe,ye,Re,nh(ye,qe),Dt);ht(ye,qe)}return null}function ft(xe,ye,Re,qe){for(var Dt=null,Bn=null,bt=ye,un=ye=0,xn=null;bt!==null&&un<Re.length;un++){bt.index>un?(xn=bt,bt=null):xn=bt.sibling;var Vn=Oe(xe,bt,Re[un],qe);if(Vn===null){bt===null&&(bt=xn);break}i&&bt&&Vn.alternate===null&&s(xe,bt),ye=b(Vn,ye,un),Bn===null?Dt=Vn:Bn.sibling=Vn,Bn=Vn,bt=xn}if(un===Re.length)return l(xe,bt),yn&&Ua(xe,un),Dt;if(bt===null){for(;un<Re.length;un++)bt=We(xe,Re[un],qe),bt!==null&&(ye=b(bt,ye,un),Bn===null?Dt=bt:Bn.sibling=bt,Bn=bt);return yn&&Ua(xe,un),Dt}for(bt=h(bt);un<Re.length;un++)xn=Pe(bt,xe,un,Re[un],qe),xn!==null&&(i&&xn.alternate!==null&&bt.delete(xn.key===null?un:xn.key),ye=b(xn,ye,un),Bn===null?Dt=xn:Bn.sibling=xn,Bn=xn);return i&&bt.forEach(function(Lu){return s(xe,Lu)}),yn&&Ua(xe,un),Dt}function Bt(xe,ye,Re,qe){if(Re==null)throw Error(r(151));for(var Dt=null,Bn=null,bt=ye,un=ye=0,xn=null,Vn=Re.next();bt!==null&&!Vn.done;un++,Vn=Re.next()){bt.index>un?(xn=bt,bt=null):xn=bt.sibling;var Lu=Oe(xe,bt,Vn.value,qe);if(Lu===null){bt===null&&(bt=xn);break}i&&bt&&Lu.alternate===null&&s(xe,bt),ye=b(Lu,ye,un),Bn===null?Dt=Lu:Bn.sibling=Lu,Bn=Lu,bt=xn}if(Vn.done)return l(xe,bt),yn&&Ua(xe,un),Dt;if(bt===null){for(;!Vn.done;un++,Vn=Re.next())Vn=We(xe,Vn.value,qe),Vn!==null&&(ye=b(Vn,ye,un),Bn===null?Dt=Vn:Bn.sibling=Vn,Bn=Vn);return yn&&Ua(xe,un),Dt}for(bt=h(bt);!Vn.done;un++,Vn=Re.next())Vn=Pe(bt,xe,un,Vn.value,qe),Vn!==null&&(i&&Vn.alternate!==null&&bt.delete(Vn.key===null?un:Vn.key),ye=b(Vn,ye,un),Bn===null?Dt=Vn:Bn.sibling=Vn,Bn=Vn);return i&&bt.forEach(function(EE){return s(xe,EE)}),yn&&Ua(xe,un),Dt}function or(xe,ye,Re,qe){if(typeof Re=="object"&&Re!==null&&Re.type===I&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case _:e:{for(var Dt=Re.key;ye!==null;){if(ye.key===Dt){if(Dt=Re.type,Dt===I){if(ye.tag===7){l(xe,ye.sibling),qe=y(ye,Re.props.children),qe.return=xe,xe=qe;break e}}else if(ye.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===U&&Ee(Dt)===ye.type){l(xe,ye.sibling),qe=y(ye,Re.props),Wt(qe,Re),qe.return=xe,xe=qe;break e}l(xe,ye);break}else s(xe,ye);ye=ye.sibling}Re.type===I?(qe=Bo(Re.props.children,xe.mode,qe,Re.key),qe.return=xe,xe=qe):(qe=uu(Re.type,Re.key,Re.props,null,xe.mode,qe),Wt(qe,Re),qe.return=xe,xe=qe)}return R(xe);case P:e:{for(Dt=Re.key;ye!==null;){if(ye.key===Dt)if(ye.tag===4&&ye.stateNode.containerInfo===Re.containerInfo&&ye.stateNode.implementation===Re.implementation){l(xe,ye.sibling),qe=y(ye,Re.children||[]),qe.return=xe,xe=qe;break e}else{l(xe,ye);break}else s(xe,ye);ye=ye.sibling}qe=cu(Re,xe.mode,qe),qe.return=xe,xe=qe}return R(xe);case U:return Re=Ee(Re),or(xe,ye,Re,qe)}if(Ne(Re))return ft(xe,ye,Re,qe);if(M(Re)){if(Dt=M(Re),typeof Dt!="function")throw Error(r(150));return Re=Dt.call(Re),Bt(xe,ye,Re,qe)}if(typeof Re.then=="function")return or(xe,ye,st(Re),qe);if(Re.$$typeof===X)return or(xe,ye,nh(xe,Re),qe);ht(xe,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint"?(Re=""+Re,ye!==null&&ye.tag===6?(l(xe,ye.sibling),qe=y(ye,Re),qe.return=xe,xe=qe):(l(xe,ye),qe=dc(Re,xe.mode,qe),qe.return=xe,xe=qe),R(xe)):l(xe,ye)}return function(xe,ye,Re,qe){try{pt=0;var Dt=or(xe,ye,Re,qe);return $e=null,Dt}catch(bt){if(bt===me||bt===re)throw bt;var Bn=zi(29,bt,null,xe.mode);return Bn.lanes=qe,Bn.return=xe,Bn}}}var cr=pn(!0),tn=pn(!1),ot=!1;function Ze(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yr(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ut(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function sn(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Hn&2)!==0){var y=h.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),h.pending=s,s=Vi(i),hc(i,null,l),s}return cc(i,h,s,l),Vi(i)}function zn(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,Di(i,l)}}function ei(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var y=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var R={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?y=b=R:b=b.next=R,l=l.next}while(l!==null);b===null?y=b=s:b=b.next=s}else y=b=s;l={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Ii=!1;function ir(){if(Ii){var i=v;if(i!==null)throw i}}function Vr(i,s,l,h){Ii=!1;var y=i.updateQueue;ot=!1;var b=y.firstBaseUpdate,R=y.lastBaseUpdate,Y=y.shared.pending;if(Y!==null){y.shared.pending=null;var fe=Y,Ie=fe.next;fe.next=null,R===null?b=Ie:R.next=Ie,R=fe;var Fe=i.alternate;Fe!==null&&(Fe=Fe.updateQueue,Y=Fe.lastBaseUpdate,Y!==R&&(Y===null?Fe.firstBaseUpdate=Ie:Y.next=Ie,Fe.lastBaseUpdate=fe))}if(b!==null){var We=y.baseState;R=0,Fe=Ie=fe=null,Y=b;do{var Oe=Y.lane&-536870913,Pe=Oe!==Y.lane;if(Pe?(wn&Oe)===Oe:(h&Oe)===Oe){Oe!==0&&Oe===p&&(Ii=!0),Fe!==null&&(Fe=Fe.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var ft=i,Bt=Y;Oe=s;var or=l;switch(Bt.tag){case 1:if(ft=Bt.payload,typeof ft=="function"){We=ft.call(or,We,Oe);break e}We=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Bt.payload,Oe=typeof ft=="function"?ft.call(or,We,Oe):ft,Oe==null)break e;We=w({},We,Oe);break e;case 2:ot=!0}}Oe=Y.callback,Oe!==null&&(i.flags|=64,Pe&&(i.flags|=8192),Pe=y.callbacks,Pe===null?y.callbacks=[Oe]:Pe.push(Oe))}else Pe={lane:Oe,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Fe===null?(Ie=Fe=Pe,fe=We):Fe=Fe.next=Pe,R|=Oe;if(Y=Y.next,Y===null){if(Y=y.shared.pending,Y===null)break;Pe=Y,Y=Pe.next,Pe.next=null,y.lastBaseUpdate=Pe,y.shared.pending=null}}while(!0);Fe===null&&(fe=We),y.baseState=fe,y.firstBaseUpdate=Ie,y.lastBaseUpdate=Fe,b===null&&(y.shared.lanes=0),wu|=R,i.lanes=R,i.memoizedState=We}}function qi(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function zr(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)qi(l[i],s)}var hn=W(null),Rn=W(0);function vr(i,s){i=Ol,K(Rn,i),K(hn,s),Ol=i|s.baseLanes}function Pn(){K(Rn,Ol),K(hn,hn.current)}function ti(){Ol=Rn.current,D(hn),D(Rn)}var br=W(null),In=null;function jr(i){var s=i.alternate;K(Cn,Cn.current&1),K(br,i),In===null&&(s===null||hn.current!==null||s.memoizedState!==null)&&(In=i)}function qn(i){K(Cn,Cn.current),K(br,i),In===null&&(In=i)}function qr(i){i.tag===22?(K(Cn,Cn.current),K(br,i),In===null&&(In=i)):Hr()}function Hr(){K(Cn,Cn.current),K(br,br.current)}function Qn(i){D(br),In===i&&(In=null),D(Cn)}var Cn=W(0);function Hi(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||C0(l)||R0(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nr=0,It=null,kt=null,Ln=null,ba=!1,is=!1,aa=!1,Gr=0,$o=0,Yo=null,ih=0;function ar(){throw Error(r(321))}function wf(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Ei(i[l],s[l]))return!1;return!0}function xf(i,s,l,h,y,b){return Nr=b,It=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,le.H=i===null||i.memoizedState===null?Zy:Fg,aa=!1,b=l(h,y),aa=!1,is&&(b=mo(s,l,h,y)),ah(i),b}function ah(i){le.H=If;var s=kt!==null&&kt.next!==null;if(Nr=0,Ln=kt=It=null,ba=!1,$o=0,Yo=null,s)throw Error(r(300));i===null||di||(i=i.dependencies,i!==null&&th(i)&&(di=!0))}function mo(i,s,l,h){It=i;var y=0;do{if(is&&(Yo=null),$o=0,is=!1,25<=y)throw Error(r(301));if(y+=1,Ln=kt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}le.H=ev,b=s(l,h)}while(is);return b}function kg(){var i=le.H,s=i.useState()[0];return s=typeof s.then=="function"?Ko(s):s,i=i.useState()[0],(kt!==null?kt.memoizedState:null)!==i&&(It.flags|=1024),s}function Sf(){var i=Gr!==0;return Gr=0,i}function Af(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function sh(i){if(ba){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ba=!1}Nr=0,Ln=kt=It=null,is=!1,$o=Gr=0,Yo=null}function fi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?It.memoizedState=Ln=i:Ln=Ln.next=i,Ln}function Tr(){if(kt===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var s=Ln===null?It.memoizedState:Ln.next;if(s!==null)Ln=s,kt=i;else{if(i===null)throw It.alternate===null?Error(r(467)):Error(r(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Ln===null?It.memoizedState=Ln=i:Ln=Ln.next=i}return Ln}function yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(i){var s=$o;return $o+=1,Yo===null&&(Yo=[]),i=Me(Yo,i,s),s=It,(Ln===null?s.memoizedState:Ln.next)===null&&(s=s.alternate,le.H=s===null||s.memoizedState===null?Zy:Fg),i}function mu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ko(i);if(i.$$typeof===X)return Ri(i)}throw Error(r(438,String(i)))}function El(i){var s=null,l=It.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=It.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=yc(),It.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),h=0;h<i;h++)l[h]=H;return s.index++,l}function Ws(i,s){return typeof s=="function"?s(i):s}function oh(i){var s=Tr();return gu(s,kt,i)}function gu(i,s,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var y=i.baseQueue,b=h.pending;if(b!==null){if(y!==null){var R=y.next;y.next=b.next,b.next=R}s.baseQueue=y=b,h.pending=null}if(b=i.baseState,y===null)i.memoizedState=b;else{s=y.next;var Y=R=null,fe=null,Ie=s,Fe=!1;do{var We=Ie.lane&-536870913;if(We!==Ie.lane?(wn&We)===We:(Nr&We)===We){var Oe=Ie.revertLane;if(Oe===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,gesture:null,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),We===p&&(Fe=!0);else if((Nr&Oe)===Oe){Ie=Ie.next,Oe===p&&(Fe=!0);continue}else We={lane:0,revertLane:Ie.revertLane,gesture:null,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},fe===null?(Y=fe=We,R=b):fe=fe.next=We,It.lanes|=Oe,wu|=Oe;We=Ie.action,aa&&l(b,We),b=Ie.hasEagerState?Ie.eagerState:l(b,We)}else Oe={lane:We,revertLane:Ie.revertLane,gesture:Ie.gesture,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},fe===null?(Y=fe=Oe,R=b):fe=fe.next=Oe,It.lanes|=We,wu|=We;Ie=Ie.next}while(Ie!==null&&Ie!==s);if(fe===null?R=b:fe.next=Y,!Ei(b,i.memoizedState)&&(di=!0,Fe&&(l=v,l!==null)))throw l;i.memoizedState=b,i.baseState=R,i.baseQueue=fe,h.lastRenderedState=b}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function lh(i){var s=Tr(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,y=l.pending,b=s.memoizedState;if(y!==null){l.pending=null;var R=y=y.next;do b=i(b,R.action),R=R.next;while(R!==y);Ei(b,s.memoizedState)||(di=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),l.lastRenderedState=b}return[b,h]}function uh(i,s,l){var h=It,y=Tr(),b=yn;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=s();var R=!Ei((kt||y).memoizedState,l);if(R&&(y.memoizedState=l,di=!0),y=y.queue,Dg(Nf.bind(null,h,y,i),[i]),y.getSnapshot!==s||R||Ln!==null&&Ln.memoizedState.tag&1){if(h.flags|=2048,Tl(9,{destroy:void 0},Ef.bind(null,h,y,l,s),null),hr===null)throw Error(r(349));b||(Nr&127)!==0||go(h,s,l)}return l}function go(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=It.updateQueue,s===null?(s=yc(),It.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Ef(i,s,l,h){s.value=l,s.getSnapshot=h,ip(s)&&Tf(i)}function Nf(i,s,l){return l(function(){ip(s)&&Tf(i)})}function ip(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Ei(i,l)}catch{return!0}}function Tf(i){var s=fo(i,2);s!==null&&us(s,i,2)}function Qo(i){var s=fi();if(typeof i=="function"){var l=i;if(i=l(),aa){Mt(!0);try{l()}finally{Mt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:i},s}function ap(i,s,l,h){return i.baseState=l,gu(i,kt,typeof h=="function"?h:Ws)}function sp(i,s,l,h,y){if(cp(i))throw Error(r(485));if(i=s.action,i!==null){var b={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){b.listeners.push(R)}};le.T!==null?l(!0):b.isTransition=!1,h(b),l=s.pending,l===null?(b.next=s.pending=b,op(s,b)):(b.next=l.next,s.pending=l.next=b)}}function op(i,s){var l=s.action,h=s.payload,y=i.state;if(s.isTransition){var b=le.T,R={};le.T=R;try{var Y=l(y,h),fe=le.S;fe!==null&&fe(R,Y),Cf(i,s,Y)}catch(Ie){Nl(i,s,Ie)}finally{b!==null&&R.types!==null&&(b.types=R.types),le.T=b}}else try{b=l(y,h),Cf(i,s,b)}catch(Ie){Nl(i,s,Ie)}}function Cf(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){lp(i,s,h)},function(h){return Nl(i,s,h)}):lp(i,s,l)}function lp(i,s,l){s.status="fulfilled",s.value=l,ch(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,op(i,l)))}function Nl(i,s,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,ch(s),s=s.next;while(s!==h)}i.action=null}function ch(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function vc(i,s){return s}function $s(i,s){if(yn){var l=hr.formState;if(l!==null){e:{var h=It;if(yn){if(ur){t:{for(var y=ur,b=Er;y.nodeType!==8;){if(!b){y=null;break t}if(y=Ys(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){ur=Ys(y.nextSibling),h=y.data==="F!";break e}}zo(h)}h=!1}h&&(s=l[0])}}return l=fi(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vc,lastRenderedState:s},l.queue=h,l=Qy.bind(null,It,h),h.dispatch=l,h=Qo(!1),b=Ug.bind(null,It,!1,h.queue),h=fi(),y={state:s,dispatch:null,action:i,pending:null},h.queue=y,l=sp.bind(null,It,y,b,l),y.dispatch=l,h.memoizedState=i,[s,l,!1]}function yo(i){var s=Tr();return vo(s,kt,i)}function vo(i,s,l){if(s=gu(i,s,vc)[0],i=oh(Ws)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Ko(s)}catch(R){throw R===me?re:R}else h=s;s=Tr();var y=s.queue,b=y.dispatch;return l!==s.memoizedState&&(It.flags|=2048,Tl(9,{destroy:void 0},hh.bind(null,y,l),null)),[h,b,i]}function hh(i,s){i.action=s}function fh(i){var s=Tr(),l=kt;if(l!==null)return vo(s,l,i);Tr(),s=s.memoizedState,l=Tr();var h=l.queue.dispatch;return l.memoizedState=i,[s,h,!1]}function Tl(i,s,l,h){return i={tag:i,create:l,deps:h,inst:s,next:null},s=It.updateQueue,s===null&&(s=yc(),It.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i),i}function up(){return Tr().memoizedState}function yu(i,s,l,h){var y=fi();It.flags|=i,y.memoizedState=Tl(1|s,{destroy:void 0},l,h===void 0?null:h)}function vu(i,s,l,h){var y=Tr();h=h===void 0?null:h;var b=y.memoizedState.inst;kt!==null&&h!==null&&wf(h,kt.memoizedState.deps)?y.memoizedState=Tl(s,b,l,h):(It.flags|=i,y.memoizedState=Tl(1|s,b,l,h))}function jy(i,s){yu(8390656,8,i,s)}function Dg(i,s){vu(2048,8,i,s)}function bA(i){It.flags|=4;var s=It.updateQueue;if(s===null)s=yc(),It.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function My(i){var s=Tr().memoizedState;return bA({ref:s,nextImpl:i}),function(){if((Hn&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Uy(i,s){return vu(4,2,i,s)}function Fy(i,s){return vu(4,4,i,s)}function By(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Vy(i,s,l){l=l!=null?l.concat([i]):null,vu(4,4,By.bind(null,s,i),l)}function Og(){}function zy(i,s){var l=Tr();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&wf(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function qy(i,s){var l=Tr();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&wf(s,h[1]))return h[0];if(h=i(),aa){Mt(!0);try{i()}finally{Mt(!1)}}return l.memoizedState=[h,s],h}function Pg(i,s,l){return l===void 0||(Nr&1073741824)!==0&&(wn&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=Hv(),It.lanes|=i,wu|=i,l)}function Hy(i,s,l,h){return Ei(l,s)?l:hn.current!==null?(i=Pg(i,l,h),Ei(i,s)||(di=!0),i):(Nr&42)===0||(Nr&1073741824)!==0&&(wn&261930)===0?(di=!0,i.memoizedState=l):(i=Hv(),It.lanes|=i,wu|=i,s)}function Gy(i,s,l,h,y){var b=ge.p;ge.p=b!==0&&8>b?b:8;var R=le.T,Y={};le.T=Y,Ug(i,!1,s,l);try{var fe=y(),Ie=le.S;if(Ie!==null&&Ie(Y,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Fe=V(fe,h);Rf(i,s,Fe,Ns(i))}else Rf(i,s,h,Ns(i))}catch(We){Rf(i,s,{then:function(){},status:"rejected",reason:We},Ns())}finally{ge.p=b,R!==null&&Y.types!==null&&(R.types=Y.types),le.T=R}}function _A(){}function jg(i,s,l,h){if(i.tag!==5)throw Error(r(476));var y=Wy(i).queue;Gy(i,y,s,pe,l===null?_A:function(){return $y(i),l(h)})}function Wy(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:pe},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function $y(i){var s=Wy(i);s.next===null&&(s=i.alternate.memoizedState),Rf(i,s.next.queue,{},Ns())}function Mg(){return Ri(Wf)}function Yy(){return Tr().memoizedState}function Ky(){return Tr().memoizedState}function wA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=Ns();i=Ut(l);var h=sn(s,i,l);h!==null&&(us(h,s,l),zn(h,s,l)),s={cache:pu()},i.payload=s;return}s=s.return}}function xA(i,s,l){var h=Ns();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},cp(i)?Xy(s,l):(l=$c(i,s,l,h),l!==null&&(us(l,i,h),Jy(l,s,h)))}function Qy(i,s,l){var h=Ns();Rf(i,s,l,h)}function Rf(i,s,l,h){var y={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(cp(i))Xy(s,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var R=s.lastRenderedState,Y=b(R,l);if(y.hasEagerState=!0,y.eagerState=Y,Ei(Y,R))return cc(i,s,y,0),hr===null&&uc(),!1}catch{}if(l=$c(i,s,y,h),l!==null)return us(l,i,h),Jy(l,s,h),!0}return!1}function Ug(i,s,l,h){if(h={lane:2,revertLane:g0(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},cp(i)){if(s)throw Error(r(479))}else s=$c(i,l,h,2),s!==null&&us(s,i,2)}function cp(i){var s=i.alternate;return i===It||s!==null&&s===It}function Xy(i,s){is=ba=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Jy(i,s,l){if((l&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,Di(i,l)}}var If={readContext:Ri,use:mu,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useLayoutEffect:ar,useInsertionEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useSyncExternalStore:ar,useId:ar,useHostTransitionStatus:ar,useFormState:ar,useActionState:ar,useOptimistic:ar,useMemoCache:ar,useCacheRefresh:ar};If.useEffectEvent=ar;var Zy={readContext:Ri,use:mu,useCallback:function(i,s){return fi().memoizedState=[i,s===void 0?null:s],i},useContext:Ri,useEffect:jy,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,yu(4194308,4,By.bind(null,s,i),l)},useLayoutEffect:function(i,s){return yu(4194308,4,i,s)},useInsertionEffect:function(i,s){yu(4,2,i,s)},useMemo:function(i,s){var l=fi();s=s===void 0?null:s;var h=i();if(aa){Mt(!0);try{i()}finally{Mt(!1)}}return l.memoizedState=[h,s],h},useReducer:function(i,s,l){var h=fi();if(l!==void 0){var y=l(s);if(aa){Mt(!0);try{l(s)}finally{Mt(!1)}}}else y=s;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=xA.bind(null,It,i),[h.memoizedState,i]},useRef:function(i){var s=fi();return i={current:i},s.memoizedState=i},useState:function(i){i=Qo(i);var s=i.queue,l=Qy.bind(null,It,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Og,useDeferredValue:function(i,s){var l=fi();return Pg(l,i,s)},useTransition:function(){var i=Qo(!1);return i=Gy.bind(null,It,i.queue,!0,!1),fi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var h=It,y=fi();if(yn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),hr===null)throw Error(r(349));(wn&127)!==0||go(h,s,l)}y.memoizedState=l;var b={value:l,getSnapshot:s};return y.queue=b,jy(Nf.bind(null,h,b,i),[i]),h.flags|=2048,Tl(9,{destroy:void 0},Ef.bind(null,h,b,l,s),null),l},useId:function(){var i=fi(),s=hr.identifierPrefix;if(yn){var l=ns,h=ts;l=(h&~(1<<32-Qt(h)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Gr++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=ih++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Mg,useFormState:$s,useActionState:$s,useOptimistic:function(i){var s=fi();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Ug.bind(null,It,!0,l),l.dispatch=s,[i,s]},useMemoCache:El,useCacheRefresh:function(){return fi().memoizedState=wA.bind(null,It)},useEffectEvent:function(i){var s=fi(),l={impl:i};return s.memoizedState=l,function(){if((Hn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Fg={readContext:Ri,use:mu,useCallback:zy,useContext:Ri,useEffect:Dg,useImperativeHandle:Vy,useInsertionEffect:Uy,useLayoutEffect:Fy,useMemo:qy,useReducer:oh,useRef:up,useState:function(){return oh(Ws)},useDebugValue:Og,useDeferredValue:function(i,s){var l=Tr();return Hy(l,kt.memoizedState,i,s)},useTransition:function(){var i=oh(Ws)[0],s=Tr().memoizedState;return[typeof i=="boolean"?i:Ko(i),s]},useSyncExternalStore:uh,useId:Yy,useHostTransitionStatus:Mg,useFormState:yo,useActionState:yo,useOptimistic:function(i,s){var l=Tr();return ap(l,kt,i,s)},useMemoCache:El,useCacheRefresh:Ky};Fg.useEffectEvent=My;var ev={readContext:Ri,use:mu,useCallback:zy,useContext:Ri,useEffect:Dg,useImperativeHandle:Vy,useInsertionEffect:Uy,useLayoutEffect:Fy,useMemo:qy,useReducer:lh,useRef:up,useState:function(){return lh(Ws)},useDebugValue:Og,useDeferredValue:function(i,s){var l=Tr();return kt===null?Pg(l,i,s):Hy(l,kt.memoizedState,i,s)},useTransition:function(){var i=lh(Ws)[0],s=Tr().memoizedState;return[typeof i=="boolean"?i:Ko(i),s]},useSyncExternalStore:uh,useId:Yy,useHostTransitionStatus:Mg,useFormState:fh,useActionState:fh,useOptimistic:function(i,s){var l=Tr();return kt!==null?ap(l,kt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:El,useCacheRefresh:Ky};ev.useEffectEvent=My;function Bg(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:w({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Vg={enqueueSetState:function(i,s,l){i=i._reactInternals;var h=Ns(),y=Ut(h);y.payload=s,l!=null&&(y.callback=l),s=sn(i,y,h),s!==null&&(us(s,i,h),zn(s,i,h))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=Ns(),y=Ut(h);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=sn(i,y,h),s!==null&&(us(s,i,h),zn(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Ns(),h=Ut(l);h.tag=2,s!=null&&(h.callback=s),s=sn(i,h,l),s!==null&&(us(s,i,l),zn(s,i,l))}};function tv(i,s,l,h,y,b,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,b,R):s.prototype&&s.prototype.isPureReactComponent?!lo(l,h)||!lo(y,b):!0}function nv(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&Vg.enqueueReplaceState(s,s.state,null)}function bc(i,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(i=i.defaultProps){l===s&&(l=w({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function rv(i){lc(i)}function iv(i){console.error(i)}function av(i){lc(i)}function hp(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function sv(i,s,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function zg(i,s,l){return l=Ut(l),l.tag=3,l.payload={element:null},l.callback=function(){hp(i,s)},l}function ov(i){return i=Ut(i),i.tag=3,i}function lv(i,s,l,h){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var b=h.value;i.payload=function(){return y(b)},i.callback=function(){sv(s,l,h)}}var R=l.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){sv(s,l,h),typeof y!="function"&&(xu===null?xu=new Set([this]):xu.add(this));var Y=h.stack;this.componentDidCatch(h.value,{componentStack:Y!==null?Y:""})})}function SA(i,s,l,h,y){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&Go(s,l,y,!0),l=br.current,l!==null){switch(l.tag){case 31:case 13:return In===null?Sp():l.alternate===null&&Wr===0&&(Wr=3),l.flags&=-257,l.flags|=65536,l.lanes=y,h===be?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),d0(i,h,y)),!1;case 22:return l.flags|=65536,h===be?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),d0(i,h,y)),!1}throw Error(r(435,l.tag))}return d0(i,h,y),Sp(),!1}if(yn)return s=br.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,h!==Ss&&(i=Error(r(422),{cause:h}),fu(Ja(i,l)))):(h!==Ss&&(s=Error(r(423),{cause:h}),fu(Ja(s,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=Ja(h,l),y=zg(i.stateNode,h,y),ei(i,y),Wr!==4&&(Wr=2)),!1;var b=Error(r(520),{cause:h});if(b=Ja(b,l),Uf===null?Uf=[b]:Uf.push(b),Wr!==4&&(Wr=2),s===null)return!0;h=Ja(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=zg(l.stateNode,h,i),ei(l,i),!1;case 1:if(s=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xu===null||!xu.has(b))))return l.flags|=65536,y&=-y,l.lanes|=y,y=ov(y),lv(y,i,l,h),ei(l,y),!1}l=l.return}while(l!==null);return!1}var qg=Error(r(461)),di=!1;function sa(i,s,l,h){s.child=i===null?tn(s,null,l,h):cr(s,i.child,l,h)}function uv(i,s,l,h,y){l=l.render;var b=s.ref;if("ref"in h){var R={};for(var Y in h)Y!=="ref"&&(R[Y]=h[Y])}else R=h;return Wo(s),h=xf(i,s,l,R,b,y),Y=Sf(),i!==null&&!di?(Af(i,s,y),Cl(i,s,y)):(yn&&Y&&vf(s),s.flags|=1,sa(i,s,h,y),s.child)}function cv(i,s,l,h,y){if(i===null){var b=l.type;return typeof b=="function"&&!Kc(b)&&b.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=b,hv(i,s,b,h,y)):(i=uu(l.type,null,h,s,s.mode,y),i.ref=s.ref,i.return=s,s.child=i)}if(b=i.child,!Xg(i,y)){var R=b.memoizedProps;if(l=l.compare,l=l!==null?l:lo,l(R,h)&&i.ref===s.ref)return Cl(i,s,y)}return s.flags|=1,i=Xa(b,h),i.ref=s.ref,i.return=s,s.child=i}function hv(i,s,l,h,y){if(i!==null){var b=i.memoizedProps;if(lo(b,h)&&i.ref===s.ref)if(di=!1,s.pendingProps=h=b,Xg(i,y))(i.flags&131072)!==0&&(di=!0);else return s.lanes=i.lanes,Cl(i,s,y)}return Hg(i,s,l,h,y)}function fv(i,s,l,h){var y=h.children,b=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,i!==null){for(h=s.child=i.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~b}else h=0,s.child=null;return dv(i,s,b,l,h)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&te(s,b!==null?b.cachePool:null),b!==null?vr(s,b):Pn(),qr(s);else return h=s.lanes=536870912,dv(i,s,b!==null?b.baseLanes|l:l,l,h)}else b!==null?(te(s,b.cachePool),vr(s,b),Hr(),s.memoizedState=null):(i!==null&&te(s,null),Pn(),Hr());return sa(i,s,y,l),s.child}function Lf(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function dv(i,s,l,h,y){var b=Q();return b=b===null?null:{parent:Pr._currentValue,pool:b},s.memoizedState={baseLanes:l,cachePool:b},i!==null&&te(s,null),Pn(),qr(s),i!==null&&Go(i,s,h,!0),s.childLanes=y,null}function fp(i,s){return s=pp({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function pv(i,s,l){return cr(s,i.child,null,l),i=fp(s,s.pendingProps),i.flags|=2,Qn(s),s.memoizedState=null,i}function AA(i,s,l){var h=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(yn){if(h.mode==="hidden")return i=fp(s,h),s.lanes=536870912,Lf(null,i);if(qn(s),(i=ur)?(i=N5(i,Er),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Vo!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},l=Qc(i),l.return=s,s.child=l,Ti=s,ur=null)):i=null,i===null)throw zo(s);return s.lanes=536870912,null}return fp(s,h)}var b=i.memoizedState;if(b!==null){var R=b.dehydrated;if(qn(s),y)if(s.flags&256)s.flags&=-257,s=pv(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(di||Go(i,s,l,!1),y=(l&i.childLanes)!==0,di||y){if(h=hr,h!==null&&(R=Oi(h,l),R!==0&&R!==b.retryLane))throw b.retryLane=R,fo(i,R),us(h,i,R),qg;Sp(),s=pv(i,s,l)}else i=b.treeContext,ur=Ys(R.nextSibling),Ti=s,yn=!0,ia=null,Er=!1,i!==null&&np(s,i),s=fp(s,h),s.flags|=4096;return s}return i=Xa(i.child,{mode:h.mode,children:h.children}),i.ref=s.ref,s.child=i,i.return=s,i}function dp(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Hg(i,s,l,h,y){return Wo(s),l=xf(i,s,l,h,void 0,y),h=Sf(),i!==null&&!di?(Af(i,s,y),Cl(i,s,y)):(yn&&h&&vf(s),s.flags|=1,sa(i,s,l,y),s.child)}function mv(i,s,l,h,y,b){return Wo(s),s.updateQueue=null,l=mo(s,h,l,y),ah(i),h=Sf(),i!==null&&!di?(Af(i,s,b),Cl(i,s,b)):(yn&&h&&vf(s),s.flags|=1,sa(i,s,l,b),s.child)}function gv(i,s,l,h,y){if(Wo(s),s.stateNode===null){var b=Ni,R=l.contextType;typeof R=="object"&&R!==null&&(b=Ri(R)),b=new l(h,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Vg,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=h,b.state=s.memoizedState,b.refs={},Ze(s),R=l.contextType,b.context=typeof R=="object"&&R!==null?Ri(R):Ni,b.state=s.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(Bg(s,l,R,h),b.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(R=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),R!==b.state&&Vg.enqueueReplaceState(b,b.state,null),Vr(s,h,b,y),ir(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){b=s.stateNode;var Y=s.memoizedProps,fe=bc(l,Y);b.props=fe;var Ie=b.context,Fe=l.contextType;R=Ni,typeof Fe=="object"&&Fe!==null&&(R=Ri(Fe));var We=l.getDerivedStateFromProps;Fe=typeof We=="function"||typeof b.getSnapshotBeforeUpdate=="function",Y=s.pendingProps!==Y,Fe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(Y||Ie!==R)&&nv(s,b,h,R),ot=!1;var Oe=s.memoizedState;b.state=Oe,Vr(s,h,b,y),ir(),Ie=s.memoizedState,Y||Oe!==Ie||ot?(typeof We=="function"&&(Bg(s,l,We,h),Ie=s.memoizedState),(fe=ot||tv(s,l,fe,h,Oe,Ie,R))?(Fe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=Ie),b.props=h,b.state=Ie,b.context=R,h=fe):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{b=s.stateNode,yr(i,s),R=s.memoizedProps,Fe=bc(l,R),b.props=Fe,We=s.pendingProps,Oe=b.context,Ie=l.contextType,fe=Ni,typeof Ie=="object"&&Ie!==null&&(fe=Ri(Ie)),Y=l.getDerivedStateFromProps,(Ie=typeof Y=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==We||Oe!==fe)&&nv(s,b,h,fe),ot=!1,Oe=s.memoizedState,b.state=Oe,Vr(s,h,b,y),ir();var Pe=s.memoizedState;R!==We||Oe!==Pe||ot||i!==null&&i.dependencies!==null&&th(i.dependencies)?(typeof Y=="function"&&(Bg(s,l,Y,h),Pe=s.memoizedState),(Fe=ot||tv(s,l,Fe,h,Oe,Pe,fe)||i!==null&&i.dependencies!==null&&th(i.dependencies))?(Ie||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,Pe,fe),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,Pe,fe)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===i.memoizedProps&&Oe===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Oe===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Pe),b.props=h,b.state=Pe,b.context=fe,h=Fe):(typeof b.componentDidUpdate!="function"||R===i.memoizedProps&&Oe===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Oe===i.memoizedState||(s.flags|=1024),h=!1)}return b=h,dp(i,s),h=(s.flags&128)!==0,b||h?(b=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,i!==null&&h?(s.child=cr(s,i.child,null,y),s.child=cr(s,null,l,y)):sa(i,s,l,y),s.memoizedState=b.state,i=s.child):i=Cl(i,s,y),i}function yv(i,s,l,h){return Sl(),s.flags|=256,sa(i,s,l,h),s.child}var Gg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wg(i){return{baseLanes:i,cachePool:ae()}}function $g(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Es),i}function vv(i,s,l){var h=s.pendingProps,y=!1,b=(s.flags&128)!==0,R;if((R=b)||(R=i!==null&&i.memoizedState===null?!1:(Cn.current&2)!==0),R&&(y=!0,s.flags&=-129),R=(s.flags&32)!==0,s.flags&=-33,i===null){if(yn){if(y?jr(s):Hr(),(i=ur)?(i=N5(i,Er),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Vo!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},l=Qc(i),l.return=s,s.child=l,Ti=s,ur=null)):i=null,i===null)throw zo(s);return R0(i)?s.lanes=32:s.lanes=536870912,null}var Y=h.children;return h=h.fallback,y?(Hr(),y=s.mode,Y=pp({mode:"hidden",children:Y},y),h=Bo(h,y,l,null),Y.return=s,h.return=s,Y.sibling=h,s.child=Y,h=s.child,h.memoizedState=Wg(l),h.childLanes=$g(i,R,l),s.memoizedState=Gg,Lf(null,h)):(jr(s),Yg(s,Y))}var fe=i.memoizedState;if(fe!==null&&(Y=fe.dehydrated,Y!==null)){if(b)s.flags&256?(jr(s),s.flags&=-257,s=Kg(i,s,l)):s.memoizedState!==null?(Hr(),s.child=i.child,s.flags|=128,s=null):(Hr(),Y=h.fallback,y=s.mode,h=pp({mode:"visible",children:h.children},y),Y=Bo(Y,y,l,null),Y.flags|=2,h.return=s,Y.return=s,h.sibling=Y,s.child=h,cr(s,i.child,null,l),h=s.child,h.memoizedState=Wg(l),h.childLanes=$g(i,R,l),s.memoizedState=Gg,s=Lf(null,h));else if(jr(s),R0(Y)){if(R=Y.nextSibling&&Y.nextSibling.dataset,R)var Ie=R.dgst;R=Ie,h=Error(r(419)),h.stack="",h.digest=R,fu({value:h,source:null,stack:null}),s=Kg(i,s,l)}else if(di||Go(i,s,l,!1),R=(l&i.childLanes)!==0,di||R){if(R=hr,R!==null&&(h=Oi(R,l),h!==0&&h!==fe.retryLane))throw fe.retryLane=h,fo(i,h),us(R,i,h),qg;C0(Y)||Sp(),s=Kg(i,s,l)}else C0(Y)?(s.flags|=192,s.child=i.child,s=null):(i=fe.treeContext,ur=Ys(Y.nextSibling),Ti=s,yn=!0,ia=null,Er=!1,i!==null&&np(s,i),s=Yg(s,h.children),s.flags|=4096);return s}return y?(Hr(),Y=h.fallback,y=s.mode,fe=i.child,Ie=fe.sibling,h=Xa(fe,{mode:"hidden",children:h.children}),h.subtreeFlags=fe.subtreeFlags&65011712,Ie!==null?Y=Xa(Ie,Y):(Y=Bo(Y,y,l,null),Y.flags|=2),Y.return=s,h.return=s,h.sibling=Y,s.child=h,Lf(null,h),h=s.child,Y=i.child.memoizedState,Y===null?Y=Wg(l):(y=Y.cachePool,y!==null?(fe=Pr._currentValue,y=y.parent!==fe?{parent:fe,pool:fe}:y):y=ae(),Y={baseLanes:Y.baseLanes|l,cachePool:y}),h.memoizedState=Y,h.childLanes=$g(i,R,l),s.memoizedState=Gg,Lf(i.child,h)):(jr(s),l=i.child,i=l.sibling,l=Xa(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,i!==null&&(R=s.deletions,R===null?(s.deletions=[i],s.flags|=16):R.push(i)),s.child=l,s.memoizedState=null,l)}function Yg(i,s){return s=pp({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function pp(i,s){return i=zi(22,i,null,s),i.lanes=0,i}function Kg(i,s,l){return cr(s,i.child,null,l),i=Yg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function bv(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),du(i.return,s,l)}function Qg(i,s,l,h,y,b){var R=i.memoizedState;R===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:y,treeForkCount:b}:(R.isBackwards=s,R.rendering=null,R.renderingStartTime=0,R.last=h,R.tail=l,R.tailMode=y,R.treeForkCount=b)}function _v(i,s,l){var h=s.pendingProps,y=h.revealOrder,b=h.tail;h=h.children;var R=Cn.current,Y=(R&2)!==0;if(Y?(R=R&1|2,s.flags|=128):R&=1,K(Cn,R),sa(i,s,h,l),h=yn?pc:0,!Y&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bv(i,l,s);else if(i.tag===19)bv(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=s.child,y=null;l!==null;)i=l.alternate,i!==null&&Hi(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=s.child,s.child=null):(y=l.sibling,l.sibling=null),Qg(s,!1,y,l,b,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=s.child,s.child=null;y!==null;){if(i=y.alternate,i!==null&&Hi(i)===null){s.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}Qg(s,!0,l,null,b,h);break;case"together":Qg(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function Cl(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),wu|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Go(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Xa(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Xa(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Xg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&th(i)))}function EA(i,s,l){switch(s.tag){case 3:De(s,s.stateNode.containerInfo),Ho(s,Pr,i.memoizedState.cache),Sl();break;case 27:case 5:Be(s);break;case 4:De(s,s.stateNode.containerInfo);break;case 10:Ho(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,qn(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(jr(s),s.flags|=128,null):(l&s.child.childLanes)!==0?vv(i,s,l):(jr(s),i=Cl(i,s,l),i!==null?i.sibling:null);jr(s);break;case 19:var y=(i.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(Go(i,s,l,!1),h=(l&s.childLanes)!==0),y){if(h)return _v(i,s,l);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),K(Cn,Cn.current),h)break;return null;case 22:return s.lanes=0,fv(i,s,l,s.pendingProps);case 24:Ho(s,Pr,i.memoizedState.cache)}return Cl(i,s,l)}function wv(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)di=!0;else{if(!Xg(i,l)&&(s.flags&128)===0)return di=!1,EA(i,s,l);di=(i.flags&131072)!==0}else di=!1,yn&&(s.flags&1048576)!==0&&tp(s,pc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var h=s.pendingProps;if(i=Ee(s.elementType),s.type=i,typeof i=="function")Kc(i)?(h=bc(i,h),s.tag=1,s=gv(null,s,i,h,l)):(s.tag=0,s=Hg(null,s,i,h,l));else{if(i!=null){var y=i.$$typeof;if(y===Z){s.tag=11,s=uv(null,s,i,h,l);break e}else if(y===z){s.tag=14,s=cv(null,s,i,h,l);break e}}throw s=ue(i)||i,Error(r(306,s,""))}}return s;case 0:return Hg(i,s,s.type,s.pendingProps,l);case 1:return h=s.type,y=bc(h,s.pendingProps),gv(i,s,h,y,l);case 3:e:{if(De(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var b=s.memoizedState;y=b.element,yr(i,s),Vr(s,h,null,l);var R=s.memoizedState;if(h=R.cache,Ho(s,Pr,h),h!==b.cache&&Al(s,[Pr],l,!0),ir(),h=R.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:R.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=yv(i,s,h,l);break e}else if(h!==y){y=Ja(Error(r(424)),s),fu(y),s=yv(i,s,h,l);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ur=Ys(i.firstChild),Ti=s,yn=!0,ia=null,Er=!0,l=tn(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Sl(),h===y){s=Cl(i,s,l);break e}sa(i,s,h,l)}s=s.child}return s;case 26:return dp(i,s),i===null?(l=k5(s.type,null,s.pendingProps,null))?s.memoizedState=l:yn||(l=s.type,i=s.pendingProps,h=Ip(ce.current).createElement(l),h[Mn]=s,h[Yn]=i,oa(h,l,i),gr(h),s.stateNode=h):s.memoizedState=k5(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Be(s),i===null&&yn&&(h=s.stateNode=R5(s.type,s.pendingProps,ce.current),Ti=s,Er=!0,y=ur,Nu(s.type)?(I0=y,ur=Ys(h.firstChild)):ur=y),sa(i,s,s.pendingProps.children,l),dp(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&yn&&((y=h=ur)&&(h=tE(h,s.type,s.pendingProps,Er),h!==null?(s.stateNode=h,Ti=s,ur=Ys(h.firstChild),Er=!1,y=!0):y=!1),y||zo(s)),Be(s),y=s.type,b=s.pendingProps,R=i!==null?i.memoizedProps:null,h=b.children,E0(y,b)?h=null:R!==null&&E0(y,R)&&(s.flags|=32),s.memoizedState!==null&&(y=xf(i,s,kg,null,null,l),Wf._currentValue=y),dp(i,s),sa(i,s,h,l),s.child;case 6:return i===null&&yn&&((i=l=ur)&&(l=nE(l,s.pendingProps,Er),l!==null?(s.stateNode=l,Ti=s,ur=null,i=!0):i=!1),i||zo(s)),null;case 13:return vv(i,s,l);case 4:return De(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=cr(s,null,h,l):sa(i,s,h,l),s.child;case 11:return uv(i,s,s.type,s.pendingProps,l);case 7:return sa(i,s,s.pendingProps,l),s.child;case 8:return sa(i,s,s.pendingProps.children,l),s.child;case 12:return sa(i,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,Ho(s,s.type,h.value),sa(i,s,h.children,l),s.child;case 9:return y=s.type._context,h=s.pendingProps.children,Wo(s),y=Ri(y),h=h(y),s.flags|=1,sa(i,s,h,l),s.child;case 14:return cv(i,s,s.type,s.pendingProps,l);case 15:return hv(i,s,s.type,s.pendingProps,l);case 19:return _v(i,s,l);case 31:return AA(i,s,l);case 22:return fv(i,s,l,s.pendingProps);case 24:return Wo(s),h=Ri(Pr),i===null?(y=Q(),y===null&&(y=hr,b=pu(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=l),y=b),s.memoizedState={parent:h,cache:y},Ze(s),Ho(s,Pr,y)):((i.lanes&l)!==0&&(yr(i,s),Vr(s,null,null,l),ir()),y=i.memoizedState,b=s.memoizedState,y.parent!==h?(y={parent:h,cache:h},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Ho(s,Pr,h)):(h=b.cache,Ho(s,Pr,h),h!==y.cache&&Al(s,[Pr],l,!0))),sa(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Rl(i){i.flags|=4}function Jg(i,s,l,h,y){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(Yv())i.flags|=8192;else throw je=be,Te}else i.flags&=-16777217}function xv(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!M5(s))if(Yv())i.flags|=8192;else throw je=be,Te}function mp(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?qa():536870912,i.lanes|=s,gh|=s)}function kf(i,s){if(!yn)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function _r(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function NA(i,s,l){var h=s.pendingProps;switch(Zc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(s),null;case 1:return _r(s),null;case 3:return l=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),rs(Pr),Le(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Ci(s)?Rl(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,_f())),_r(s),null;case 26:var y=s.type,b=s.memoizedState;return i===null?(Rl(s),b!==null?(_r(s),xv(s,b)):(_r(s),Jg(s,y,null,h,l))):b?b!==i.memoizedState?(Rl(s),_r(s),xv(s,b)):(_r(s),s.flags&=-16777217):(i=i.memoizedProps,i!==h&&Rl(s),_r(s),Jg(s,y,i,h,l)),null;case 27:if(Xe(s),l=ce.current,y=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Rl(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return _r(s),null}i=ee.current,Ci(s)?bf(s):(i=R5(y,h,l),s.stateNode=i,Rl(s))}return _r(s),null;case 5:if(Xe(s),y=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Rl(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return _r(s),null}if(b=ee.current,Ci(s))bf(s);else{var R=Ip(ce.current);switch(b){case 1:b=R.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=R.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=R.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?R.createElement("select",{is:h.is}):R.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?R.createElement(y,{is:h.is}):R.createElement(y)}}b[Mn]=s,b[Yn]=h;e:for(R=s.child;R!==null;){if(R.tag===5||R.tag===6)b.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===s)break e;for(;R.sibling===null;){if(R.return===null||R.return===s)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}s.stateNode=b;e:switch(oa(b,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Rl(s)}}return _r(s),Jg(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&Rl(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=ce.current,Ci(s)){if(i=s.stateNode,l=s.memoizedProps,h=null,y=Ti,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[Mn]=s,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||v5(i.nodeValue,l)),i||zo(s,!0)}else i=Ip(i).createTextNode(h),i[Mn]=s,s.stateNode=i}return _r(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(h=Ci(s),l!==null){if(i===null){if(!h)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Mn]=s}else Sl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_r(s),i=!1}else l=_f(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(Qn(s),s):(Qn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return _r(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Ci(s),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Mn]=s}else Sl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_r(s),y=!1}else y=_f(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(Qn(s),s):(Qn(s),null)}return Qn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=s.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==y&&(h.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),mp(s,s.updateQueue),_r(s),null);case 4:return Le(),i===null&&_0(s.stateNode.containerInfo),_r(s),null;case 10:return rs(s.type),_r(s),null;case 19:if(D(Cn),h=s.memoizedState,h===null)return _r(s),null;if(y=(s.flags&128)!==0,b=h.rendering,b===null)if(y)kf(h,!1);else{if(Wr!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(b=Hi(i),b!==null){for(s.flags|=128,kf(h,!1),i=b.updateQueue,s.updateQueue=i,mp(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)fc(l,i),l=l.sibling;return K(Cn,Cn.current&1|2),yn&&Ua(s,h.treeForkCount),s.child}i=i.sibling}h.tail!==null&&Kt()>_p&&(s.flags|=128,y=!0,kf(h,!1),s.lanes=4194304)}else{if(!y)if(i=Hi(b),i!==null){if(s.flags|=128,y=!0,i=i.updateQueue,s.updateQueue=i,mp(s,i),kf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!yn)return _r(s),null}else 2*Kt()-h.renderingStartTime>_p&&l!==536870912&&(s.flags|=128,y=!0,kf(h,!1),s.lanes=4194304);h.isBackwards?(b.sibling=s.child,s.child=b):(i=h.last,i!==null?i.sibling=b:s.child=b,h.last=b)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Kt(),i.sibling=null,l=Cn.current,K(Cn,y?l&1|2:l&1),yn&&Ua(s,h.treeForkCount),i):(_r(s),null);case 22:case 23:return Qn(s),ti(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(_r(s),s.subtreeFlags&6&&(s.flags|=8192)):_r(s),l=s.updateQueue,l!==null&&mp(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),i!==null&&D(G),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),rs(Pr),_r(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function TA(i,s){switch(Zc(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return rs(Pr),Le(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Xe(s),null;case 31:if(s.memoizedState!==null){if(Qn(s),s.alternate===null)throw Error(r(340));Sl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Qn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Sl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return D(Cn),null;case 4:return Le(),null;case 10:return rs(s.type),null;case 22:case 23:return Qn(s),ti(),i!==null&&D(G),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return rs(Pr),null;case 25:return null;default:return null}}function Sv(i,s){switch(Zc(s),s.tag){case 3:rs(Pr),Le();break;case 26:case 27:case 5:Xe(s);break;case 4:Le();break;case 31:s.memoizedState!==null&&Qn(s);break;case 13:Qn(s);break;case 19:D(Cn);break;case 10:rs(s.type);break;case 22:case 23:Qn(s),ti(),i!==null&&D(G);break;case 24:rs(Pr)}}function Df(i,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var y=h.next;l=y;do{if((l.tag&i)===i){h=void 0;var b=l.create,R=l.inst;h=b(),R.destroy=h}l=l.next}while(l!==y)}}catch(Y){Jn(s,s.return,Y)}}function bu(i,s,l){try{var h=s.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var b=y.next;h=b;do{if((h.tag&i)===i){var R=h.inst,Y=R.destroy;if(Y!==void 0){R.destroy=void 0,y=s;var fe=l,Ie=Y;try{Ie()}catch(Fe){Jn(y,fe,Fe)}}}h=h.next}while(h!==b)}}catch(Fe){Jn(s,s.return,Fe)}}function Av(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{zr(s,l)}catch(h){Jn(i,i.return,h)}}}function Ev(i,s,l){l.props=bc(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Jn(i,s,h)}}function Of(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(y){Jn(i,s,y)}}function Xo(i,s){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(y){Jn(i,s,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Jn(i,s,y)}else l.current=null}function Nv(i){var s=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(y){Jn(i,i.return,y)}}function Zg(i,s,l){try{var h=i.stateNode;KA(h,i.type,l,s),h[Yn]=s}catch(y){Jn(i,i.return,y)}}function Tv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Nu(i.type)||i.tag===4}function e0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Nu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function t0(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=La));else if(h!==4&&(h===27&&Nu(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(t0(i,s,l),i=i.sibling;i!==null;)t0(i,s,l),i=i.sibling}function gp(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(h===27&&Nu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(gp(i,s,l),i=i.sibling;i!==null;)gp(i,s,l),i=i.sibling}function Cv(i){var s=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);oa(s,h,l),s[Mn]=i,s[Yn]=l}catch(b){Jn(i,i.return,b)}}var Il=!1,pi=!1,n0=!1,Rv=typeof WeakSet=="function"?WeakSet:Set,Gi=null;function CA(i,s){if(i=i.containerInfo,S0=Mp,i=co(i),qs(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var y=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var R=0,Y=-1,fe=-1,Ie=0,Fe=0,We=i,Oe=null;t:for(;;){for(var Pe;We!==l||y!==0&&We.nodeType!==3||(Y=R+y),We!==b||h!==0&&We.nodeType!==3||(fe=R+h),We.nodeType===3&&(R+=We.nodeValue.length),(Pe=We.firstChild)!==null;)Oe=We,We=Pe;for(;;){if(We===i)break t;if(Oe===l&&++Ie===y&&(Y=R),Oe===b&&++Fe===h&&(fe=R),(Pe=We.nextSibling)!==null)break;We=Oe,Oe=We.parentNode}We=Pe}l=Y===-1||fe===-1?null:{start:Y,end:fe}}else l=null}l=l||{start:0,end:0}}else l=null;for(A0={focusedElem:i,selectionRange:l},Mp=!1,Gi=s;Gi!==null;)if(s=Gi,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Gi=i;else for(;Gi!==null;){switch(s=Gi,b=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=s,y=b.memoizedProps,b=b.memoizedState,h=l.stateNode;try{var ft=bc(l.type,y);i=h.getSnapshotBeforeUpdate(ft,b),h.__reactInternalSnapshotBeforeUpdate=i}catch(Bt){Jn(l,l.return,Bt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)T0(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":T0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Gi=i;break}Gi=s.return}}function Iv(i,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:kl(i,l),h&4&&Df(5,l);break;case 1:if(kl(i,l),h&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(R){Jn(l,l.return,R)}else{var y=bc(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(y,s,i.__reactInternalSnapshotBeforeUpdate)}catch(R){Jn(l,l.return,R)}}h&64&&Av(l),h&512&&Of(l,l.return);break;case 3:if(kl(i,l),h&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{zr(i,s)}catch(R){Jn(l,l.return,R)}}break;case 27:s===null&&h&4&&Cv(l);case 26:case 5:kl(i,l),s===null&&h&4&&Nv(l),h&512&&Of(l,l.return);break;case 12:kl(i,l);break;case 31:kl(i,l),h&4&&Dv(i,l);break;case 13:kl(i,l),h&4&&Ov(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=MA.bind(null,l),rE(i,l))));break;case 22:if(h=l.memoizedState!==null||Il,!h){s=s!==null&&s.memoizedState!==null||pi,y=Il;var b=pi;Il=h,(pi=s)&&!b?Dl(i,l,(l.subtreeFlags&8772)!==0):kl(i,l),Il=y,pi=b}break;case 30:break;default:kl(i,l)}}function Lv(i){var s=i.alternate;s!==null&&(i.alternate=null,Lv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ps(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Cr=null,as=!1;function Ll(i,s,l){for(l=l.child;l!==null;)kv(i,s,l),l=l.sibling}function kv(i,s,l){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Jt,l)}catch{}switch(l.tag){case 26:pi||Xo(l,s),Ll(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:pi||Xo(l,s);var h=Cr,y=as;Nu(l.type)&&(Cr=l.stateNode,as=!1),Ll(i,s,l),qf(l.stateNode),Cr=h,as=y;break;case 5:pi||Xo(l,s);case 6:if(h=Cr,y=as,Cr=null,Ll(i,s,l),Cr=h,as=y,Cr!==null)if(as)try{(Cr.nodeType===9?Cr.body:Cr.nodeName==="HTML"?Cr.ownerDocument.body:Cr).removeChild(l.stateNode)}catch(b){Jn(l,s,b)}else try{Cr.removeChild(l.stateNode)}catch(b){Jn(l,s,b)}break;case 18:Cr!==null&&(as?(i=Cr,A5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Ah(i)):A5(Cr,l.stateNode));break;case 4:h=Cr,y=as,Cr=l.stateNode.containerInfo,as=!0,Ll(i,s,l),Cr=h,as=y;break;case 0:case 11:case 14:case 15:bu(2,l,s),pi||bu(4,l,s),Ll(i,s,l);break;case 1:pi||(Xo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Ev(l,s,h)),Ll(i,s,l);break;case 21:Ll(i,s,l);break;case 22:pi=(h=pi)||l.memoizedState!==null,Ll(i,s,l),pi=h;break;default:Ll(i,s,l)}}function Dv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ah(i)}catch(l){Jn(s,s.return,l)}}}function Ov(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ah(i)}catch(l){Jn(s,s.return,l)}}function RA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Rv),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Rv),s;default:throw Error(r(435,i.tag))}}function yp(i,s){var l=RA(i);s.forEach(function(h){if(!l.has(h)){l.add(h);var y=UA.bind(null,i,h);h.then(y,y)}})}function ss(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var y=l[h],b=i,R=s,Y=R;e:for(;Y!==null;){switch(Y.tag){case 27:if(Nu(Y.type)){Cr=Y.stateNode,as=!1;break e}break;case 5:Cr=Y.stateNode,as=!1;break e;case 3:case 4:Cr=Y.stateNode.containerInfo,as=!0;break e}Y=Y.return}if(Cr===null)throw Error(r(160));kv(b,R,y),Cr=null,as=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Pv(s,i),s=s.sibling}var bo=null;function Pv(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ss(s,i),os(i),h&4&&(bu(3,i,i.return),Df(3,i),bu(5,i,i.return));break;case 1:ss(s,i),os(i),h&512&&(pi||l===null||Xo(l,l.return)),h&64&&Il&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var y=bo;if(ss(s,i),os(i),h&512&&(pi||l===null||Xo(l,l.return)),h&4){var b=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":b=y.getElementsByTagName("title")[0],(!b||b[ji]||b[Mn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(h),y.head.insertBefore(b,y.querySelector("head > title"))),oa(b,h,l),b[Mn]=i,gr(b),h=b;break e;case"link":var R=P5("link","href",y).get(h+(l.href||""));if(R){for(var Y=0;Y<R.length;Y++)if(b=R[Y],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){R.splice(Y,1);break t}}b=y.createElement(h),oa(b,h,l),y.head.appendChild(b);break;case"meta":if(R=P5("meta","content",y).get(h+(l.content||""))){for(Y=0;Y<R.length;Y++)if(b=R[Y],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){R.splice(Y,1);break t}}b=y.createElement(h),oa(b,h,l),y.head.appendChild(b);break;default:throw Error(r(468,h))}b[Mn]=i,gr(b),h=b}i.stateNode=h}else j5(y,i.type,i.stateNode);else i.stateNode=O5(y,h,i.memoizedProps);else b!==h?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,h===null?j5(y,i.type,i.stateNode):O5(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Zg(i,i.memoizedProps,l.memoizedProps)}break;case 27:ss(s,i),os(i),h&512&&(pi||l===null||Xo(l,l.return)),l!==null&&h&4&&Zg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ss(s,i),os(i),h&512&&(pi||l===null||Xo(l,l.return)),i.flags&32){y=i.stateNode;try{Jr(y,"")}catch(ft){Jn(i,i.return,ft)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,Zg(i,y,l!==null?l.memoizedProps:y)),h&1024&&(n0=!0);break;case 6:if(ss(s,i),os(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(ft){Jn(i,i.return,ft)}}break;case 3:if(Dp=null,y=bo,bo=Lp(s.containerInfo),ss(s,i),bo=y,os(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Ah(s.containerInfo)}catch(ft){Jn(i,i.return,ft)}n0&&(n0=!1,jv(i));break;case 4:h=bo,bo=Lp(i.stateNode.containerInfo),ss(s,i),os(i),bo=h;break;case 12:ss(s,i),os(i);break;case 31:ss(s,i),os(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,yp(i,h)));break;case 13:ss(s,i),os(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(bp=Kt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,yp(i,h)));break;case 22:y=i.memoizedState!==null;var fe=l!==null&&l.memoizedState!==null,Ie=Il,Fe=pi;if(Il=Ie||y,pi=Fe||fe,ss(s,i),pi=Fe,Il=Ie,os(i),h&8192)e:for(s=i.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(l===null||fe||Il||pi||_c(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){fe=l=s;try{if(b=fe.stateNode,y)R=b.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{Y=fe.stateNode;var We=fe.memoizedProps.style,Oe=We!=null&&We.hasOwnProperty("display")?We.display:null;Y.style.display=Oe==null||typeof Oe=="boolean"?"":(""+Oe).trim()}}catch(ft){Jn(fe,fe.return,ft)}}}else if(s.tag===6){if(l===null){fe=s;try{fe.stateNode.nodeValue=y?"":fe.memoizedProps}catch(ft){Jn(fe,fe.return,ft)}}}else if(s.tag===18){if(l===null){fe=s;try{var Pe=fe.stateNode;y?E5(Pe,!0):E5(fe.stateNode,!1)}catch(ft){Jn(fe,fe.return,ft)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,yp(i,l))));break;case 19:ss(s,i),os(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,yp(i,h)));break;case 30:break;case 21:break;default:ss(s,i),os(i)}}function os(i){var s=i.flags;if(s&2){try{for(var l,h=i.return;h!==null;){if(Tv(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var y=l.stateNode,b=e0(i);gp(i,b,y);break;case 5:var R=l.stateNode;l.flags&32&&(Jr(R,""),l.flags&=-33);var Y=e0(i);gp(i,Y,R);break;case 3:case 4:var fe=l.stateNode.containerInfo,Ie=e0(i);t0(i,Ie,fe);break;default:throw Error(r(161))}}catch(Fe){Jn(i,i.return,Fe)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function jv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;jv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function kl(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Iv(i,s.alternate,s),s=s.sibling}function _c(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:bu(4,s,s.return),_c(s);break;case 1:Xo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Ev(s,s.return,l),_c(s);break;case 27:qf(s.stateNode);case 26:case 5:Xo(s,s.return),_c(s);break;case 22:s.memoizedState===null&&_c(s);break;case 30:_c(s);break;default:_c(s)}i=i.sibling}}function Dl(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,y=i,b=s,R=b.flags;switch(b.tag){case 0:case 11:case 15:Dl(y,b,l),Df(4,b);break;case 1:if(Dl(y,b,l),h=b,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Ie){Jn(h,h.return,Ie)}if(h=b,y=h.updateQueue,y!==null){var Y=h.stateNode;try{var fe=y.shared.hiddenCallbacks;if(fe!==null)for(y.shared.hiddenCallbacks=null,y=0;y<fe.length;y++)qi(fe[y],Y)}catch(Ie){Jn(h,h.return,Ie)}}l&&R&64&&Av(b),Of(b,b.return);break;case 27:Cv(b);case 26:case 5:Dl(y,b,l),l&&h===null&&R&4&&Nv(b),Of(b,b.return);break;case 12:Dl(y,b,l);break;case 31:Dl(y,b,l),l&&R&4&&Dv(y,b);break;case 13:Dl(y,b,l),l&&R&4&&Ov(y,b);break;case 22:b.memoizedState===null&&Dl(y,b,l),Of(b,b.return);break;case 30:break;default:Dl(y,b,l)}s=s.sibling}}function r0(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&mc(l))}function i0(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&mc(i))}function _o(i,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Mv(i,s,l,h),s=s.sibling}function Mv(i,s,l,h){var y=s.flags;switch(s.tag){case 0:case 11:case 15:_o(i,s,l,h),y&2048&&Df(9,s);break;case 1:_o(i,s,l,h);break;case 3:_o(i,s,l,h),y&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&mc(i)));break;case 12:if(y&2048){_o(i,s,l,h),i=s.stateNode;try{var b=s.memoizedProps,R=b.id,Y=b.onPostCommit;typeof Y=="function"&&Y(R,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(fe){Jn(s,s.return,fe)}}else _o(i,s,l,h);break;case 31:_o(i,s,l,h);break;case 13:_o(i,s,l,h);break;case 23:break;case 22:b=s.stateNode,R=s.alternate,s.memoizedState!==null?b._visibility&2?_o(i,s,l,h):Pf(i,s):b._visibility&2?_o(i,s,l,h):(b._visibility|=2,dh(i,s,l,h,(s.subtreeFlags&10256)!==0||!1)),y&2048&&r0(R,s);break;case 24:_o(i,s,l,h),y&2048&&i0(s.alternate,s);break;default:_o(i,s,l,h)}}function dh(i,s,l,h,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var b=i,R=s,Y=l,fe=h,Ie=R.flags;switch(R.tag){case 0:case 11:case 15:dh(b,R,Y,fe,y),Df(8,R);break;case 23:break;case 22:var Fe=R.stateNode;R.memoizedState!==null?Fe._visibility&2?dh(b,R,Y,fe,y):Pf(b,R):(Fe._visibility|=2,dh(b,R,Y,fe,y)),y&&Ie&2048&&r0(R.alternate,R);break;case 24:dh(b,R,Y,fe,y),y&&Ie&2048&&i0(R.alternate,R);break;default:dh(b,R,Y,fe,y)}s=s.sibling}}function Pf(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,h=s,y=h.flags;switch(h.tag){case 22:Pf(l,h),y&2048&&r0(h.alternate,h);break;case 24:Pf(l,h),y&2048&&i0(h.alternate,h);break;default:Pf(l,h)}s=s.sibling}}var jf=8192;function ph(i,s,l){if(i.subtreeFlags&jf)for(i=i.child;i!==null;)Uv(i,s,l),i=i.sibling}function Uv(i,s,l){switch(i.tag){case 26:ph(i,s,l),i.flags&jf&&i.memoizedState!==null&&mE(l,bo,i.memoizedState,i.memoizedProps);break;case 5:ph(i,s,l);break;case 3:case 4:var h=bo;bo=Lp(i.stateNode.containerInfo),ph(i,s,l),bo=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=jf,jf=16777216,ph(i,s,l),jf=h):ph(i,s,l));break;default:ph(i,s,l)}}function Fv(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Mf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];Gi=h,Vv(h,i)}Fv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Bv(i),i=i.sibling}function Bv(i){switch(i.tag){case 0:case 11:case 15:Mf(i),i.flags&2048&&bu(9,i,i.return);break;case 3:Mf(i);break;case 12:Mf(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,vp(i)):Mf(i);break;default:Mf(i)}}function vp(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];Gi=h,Vv(h,i)}Fv(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:bu(8,s,s.return),vp(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,vp(s));break;default:vp(s)}i=i.sibling}}function Vv(i,s){for(;Gi!==null;){var l=Gi;switch(l.tag){case 0:case 11:case 15:bu(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:mc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Gi=h;else e:for(l=i;Gi!==null;){h=Gi;var y=h.sibling,b=h.return;if(Lv(h),h===l){Gi=null;break e}if(y!==null){y.return=b,Gi=y;break e}Gi=b}}}var IA={getCacheForType:function(i){var s=Ri(Pr),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return Ri(Pr).controller.signal}},LA=typeof WeakMap=="function"?WeakMap:Map,Hn=0,hr=null,vn=null,wn=0,Xn=0,As=null,_u=!1,mh=!1,a0=!1,Ol=0,Wr=0,wu=0,wc=0,s0=0,Es=0,gh=0,Uf=null,ls=null,o0=!1,bp=0,zv=0,_p=1/0,wp=null,xu=null,Li=0,Su=null,yh=null,Pl=0,l0=0,u0=null,qv=null,Ff=0,c0=null;function Ns(){return(Hn&2)!==0&&wn!==0?wn&-wn:le.T!==null?g0():Ur()}function Hv(){if(Es===0)if((wn&536870912)===0||yn){var i=jn;jn<<=1,(jn&3932160)===0&&(jn=262144),Es=i}else Es=536870912;return i=br.current,i!==null&&(i.flags|=32),Es}function us(i,s,l){(i===hr&&(Xn===2||Xn===9)||i.cancelPendingCommit!==null)&&(vh(i,0),Au(i,wn,Es,!1)),St(i,l),((Hn&2)===0||i!==hr)&&(i===hr&&((Hn&2)===0&&(wc|=l),Wr===4&&Au(i,wn,Es,!1)),Jo(i))}function Gv(i,s,l){if((Hn&6)!==0)throw Error(r(327));var h=!l&&(s&127)===0&&(s&i.expiredLanes)===0||bi(i,s),y=h?OA(i,s):f0(i,s,!0),b=h;do{if(y===0){mh&&!h&&Au(i,s,0,!1);break}else{if(l=i.current.alternate,b&&!kA(l)){y=f0(i,s,!1),b=!1;continue}if(y===2){if(b=s,i.errorRecoveryDisabledLanes&b)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){s=R;e:{var Y=i;y=Uf;var fe=Y.current.memoizedState.isDehydrated;if(fe&&(vh(Y,R).flags|=256),R=f0(Y,R,!1),R!==2){if(a0&&!fe){Y.errorRecoveryDisabledLanes|=b,wc|=b,y=4;break e}b=ls,ls=y,b!==null&&(ls===null?ls=b:ls.push.apply(ls,b))}y=R}if(b=!1,y!==2)continue}}if(y===1){vh(i,0),Au(i,s,0,!0);break}e:{switch(h=i,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Au(h,s,Es,!_u);break e;case 2:ls=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(y=bp+300-Kt(),10<y)){if(Au(h,s,Es,!_u),ln(h,0,!0)!==0)break e;Pl=s,h.timeoutHandle=x5(Wv.bind(null,h,l,ls,wp,o0,s,Es,wc,gh,_u,b,"Throttled",-0,0),y);break e}Wv(h,l,ls,wp,o0,s,Es,wc,gh,_u,b,null,-0,0)}}break}while(!0);Jo(i)}function Wv(i,s,l,h,y,b,R,Y,fe,Ie,Fe,We,Oe,Pe){if(i.timeoutHandle=-1,We=s.subtreeFlags,We&8192||(We&16785408)===16785408){We={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:La},Uv(s,b,We);var ft=(b&62914560)===b?bp-Kt():(b&4194048)===b?zv-Kt():0;if(ft=gE(We,ft),ft!==null){Pl=b,i.cancelPendingCommit=ft(e5.bind(null,i,s,b,l,h,y,R,Y,fe,Fe,We,null,Oe,Pe)),Au(i,b,R,!Ie);return}}e5(i,s,b,l,h,y,R,Y,fe)}function kA(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var y=l[h],b=y.getSnapshot;y=y.value;try{if(!Ei(b(),y))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Au(i,s,l,h){s&=~s0,s&=~wc,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var y=s;0<y;){var b=31-Qt(y),R=1<<b;h[b]=-1,y&=~R}l!==0&&Yi(i,l,s)}function xp(){return(Hn&6)===0?(Bf(0),!1):!0}function h0(){if(vn!==null){if(Xn===0)var i=vn.return;else i=vn,Gs=qo=null,sh(i),$e=null,pt=0,i=vn;for(;i!==null;)Sv(i.alternate,i),i=i.return;vn=null}}function vh(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,JA(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Pl=0,h0(),hr=i,vn=l=Xa(i.current,null),wn=s,Xn=0,As=null,_u=!1,mh=bi(i,s),a0=!1,gh=Es=s0=wc=wu=Wr=0,ls=Uf=null,o0=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var y=31-Qt(h),b=1<<y;s|=i[y],h&=~b}return Ol=s,uc(),l}function $v(i,s){It=null,le.H=If,s===me||s===re?(s=Ve(),Xn=3):s===Te?(s=Ve(),Xn=4):Xn=s===qg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,As=s,vn===null&&(Wr=1,hp(i,Ja(s,i.current)))}function Yv(){var i=br.current;return i===null?!0:(wn&4194048)===wn?In===null:(wn&62914560)===wn||(wn&536870912)!==0?i===In:!1}function Kv(){var i=le.H;return le.H=If,i===null?If:i}function Qv(){var i=le.A;return le.A=IA,i}function Sp(){Wr=4,_u||(wn&4194048)!==wn&&br.current!==null||(mh=!0),(wu&134217727)===0&&(wc&134217727)===0||hr===null||Au(hr,wn,Es,!1)}function f0(i,s,l){var h=Hn;Hn|=2;var y=Kv(),b=Qv();(hr!==i||wn!==s)&&(wp=null,vh(i,s)),s=!1;var R=Wr;e:do try{if(Xn!==0&&vn!==null){var Y=vn,fe=As;switch(Xn){case 8:h0(),R=6;break e;case 3:case 2:case 9:case 6:br.current===null&&(s=!0);var Ie=Xn;if(Xn=0,As=null,bh(i,Y,fe,Ie),l&&mh){R=0;break e}break;default:Ie=Xn,Xn=0,As=null,bh(i,Y,fe,Ie)}}DA(),R=Wr;break}catch(Fe){$v(i,Fe)}while(!0);return s&&i.shellSuspendCounter++,Gs=qo=null,Hn=h,le.H=y,le.A=b,vn===null&&(hr=null,wn=0,uc()),R}function DA(){for(;vn!==null;)Xv(vn)}function OA(i,s){var l=Hn;Hn|=2;var h=Kv(),y=Qv();hr!==i||wn!==s?(wp=null,_p=Kt()+500,vh(i,s)):mh=bi(i,s);e:do try{if(Xn!==0&&vn!==null){s=vn;var b=As;t:switch(Xn){case 1:Xn=0,As=null,bh(i,s,b,1);break;case 2:case 9:if(Ae(b)){Xn=0,As=null,Jv(s);break}s=function(){Xn!==2&&Xn!==9||hr!==i||(Xn=7),Jo(i)},b.then(s,s);break e;case 3:Xn=7;break e;case 4:Xn=5;break e;case 7:Ae(b)?(Xn=0,As=null,Jv(s)):(Xn=0,As=null,bh(i,s,b,7));break;case 5:var R=null;switch(vn.tag){case 26:R=vn.memoizedState;case 5:case 27:var Y=vn;if(R?M5(R):Y.stateNode.complete){Xn=0,As=null;var fe=Y.sibling;if(fe!==null)vn=fe;else{var Ie=Y.return;Ie!==null?(vn=Ie,Ap(Ie)):vn=null}break t}}Xn=0,As=null,bh(i,s,b,5);break;case 6:Xn=0,As=null,bh(i,s,b,6);break;case 8:h0(),Wr=6;break e;default:throw Error(r(462))}}PA();break}catch(Fe){$v(i,Fe)}while(!0);return Gs=qo=null,le.H=h,le.A=y,Hn=l,vn!==null?0:(hr=null,wn=0,uc(),Wr)}function PA(){for(;vn!==null&&!Ct();)Xv(vn)}function Xv(i){var s=wv(i.alternate,i,Ol);i.memoizedProps=i.pendingProps,s===null?Ap(i):vn=s}function Jv(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=mv(l,s,s.pendingProps,s.type,void 0,wn);break;case 11:s=mv(l,s,s.pendingProps,s.type.render,s.ref,wn);break;case 5:sh(s);default:Sv(l,s),s=vn=fc(s,Ol),s=wv(l,s,Ol)}i.memoizedProps=i.pendingProps,s===null?Ap(i):vn=s}function bh(i,s,l,h){Gs=qo=null,sh(s),$e=null,pt=0;var y=s.return;try{if(SA(i,y,s,l,wn)){Wr=1,hp(i,Ja(l,i.current)),vn=null;return}}catch(b){if(y!==null)throw vn=y,b;Wr=1,hp(i,Ja(l,i.current)),vn=null;return}s.flags&32768?(yn||h===1?i=!0:mh||(wn&536870912)!==0?i=!1:(_u=i=!0,(h===2||h===9||h===3||h===6)&&(h=br.current,h!==null&&h.tag===13&&(h.flags|=16384))),Zv(s,i)):Ap(s)}function Ap(i){var s=i;do{if((s.flags&32768)!==0){Zv(s,_u);return}i=s.return;var l=NA(s.alternate,s,Ol);if(l!==null){vn=l;return}if(s=s.sibling,s!==null){vn=s;return}vn=s=i}while(s!==null);Wr===0&&(Wr=5)}function Zv(i,s){do{var l=TA(i.alternate,i);if(l!==null){l.flags&=32767,vn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){vn=i;return}vn=i=l}while(i!==null);Wr=6,vn=null}function e5(i,s,l,h,y,b,R,Y,fe){i.cancelPendingCommit=null;do Ep();while(Li!==0);if((Hn&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=Wc,ds(i,l,b,R,Y,fe),i===hr&&(vn=hr=null,wn=0),yh=s,Su=i,Pl=l,l0=b,u0=y,qv=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,FA(Xt,function(){return a5(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=le.T,le.T=null,y=ge.p,ge.p=2,R=Hn,Hn|=4;try{CA(i,s,l)}finally{Hn=R,ge.p=y,le.T=h}}Li=1,t5(),n5(),r5()}}function t5(){if(Li===1){Li=0;var i=Su,s=yh,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=le.T,le.T=null;var h=ge.p;ge.p=2;var y=Hn;Hn|=4;try{Pv(s,i);var b=A0,R=co(i.containerInfo),Y=b.focusedElem,fe=b.selectionRange;if(R!==Y&&Y&&Y.ownerDocument&&uo(Y.ownerDocument.documentElement,Y)){if(fe!==null&&qs(Y)){var Ie=fe.start,Fe=fe.end;if(Fe===void 0&&(Fe=Ie),"selectionStart"in Y)Y.selectionStart=Ie,Y.selectionEnd=Math.min(Fe,Y.value.length);else{var We=Y.ownerDocument||document,Oe=We&&We.defaultView||window;if(Oe.getSelection){var Pe=Oe.getSelection(),ft=Y.textContent.length,Bt=Math.min(fe.start,ft),or=fe.end===void 0?Bt:Math.min(fe.end,ft);!Pe.extend&&Bt>or&&(R=or,or=Bt,Bt=R);var xe=lu(Y,Bt),ye=lu(Y,or);if(xe&&ye&&(Pe.rangeCount!==1||Pe.anchorNode!==xe.node||Pe.anchorOffset!==xe.offset||Pe.focusNode!==ye.node||Pe.focusOffset!==ye.offset)){var Re=We.createRange();Re.setStart(xe.node,xe.offset),Pe.removeAllRanges(),Bt>or?(Pe.addRange(Re),Pe.extend(ye.node,ye.offset)):(Re.setEnd(ye.node,ye.offset),Pe.addRange(Re))}}}}for(We=[],Pe=Y;Pe=Pe.parentNode;)Pe.nodeType===1&&We.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<We.length;Y++){var qe=We[Y];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}Mp=!!S0,A0=S0=null}finally{Hn=y,ge.p=h,le.T=l}}i.current=s,Li=2}}function n5(){if(Li===2){Li=0;var i=Su,s=yh,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=le.T,le.T=null;var h=ge.p;ge.p=2;var y=Hn;Hn|=4;try{Iv(i,s.alternate,s)}finally{Hn=y,ge.p=h,le.T=l}}Li=3}}function r5(){if(Li===4||Li===3){Li=0,_t();var i=Su,s=yh,l=Pl,h=qv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Li=5:(Li=0,yh=Su=null,i5(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(xu=null),er(l),s=s.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Jt,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=le.T,y=ge.p,ge.p=2,le.T=null;try{for(var b=i.onRecoverableError,R=0;R<h.length;R++){var Y=h[R];b(Y.value,{componentStack:Y.stack})}}finally{le.T=s,ge.p=y}}(Pl&3)!==0&&Ep(),Jo(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===c0?Ff++:(Ff=0,c0=i):Ff=0,Bf(0)}}function i5(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,mc(s)))}function Ep(){return t5(),n5(),r5(),a5()}function a5(){if(Li!==5)return!1;var i=Su,s=l0;l0=0;var l=er(Pl),h=le.T,y=ge.p;try{ge.p=32>l?32:l,le.T=null,l=u0,u0=null;var b=Su,R=Pl;if(Li=0,yh=Su=null,Pl=0,(Hn&6)!==0)throw Error(r(331));var Y=Hn;if(Hn|=4,Bv(b.current),Mv(b,b.current,R,l),Hn=Y,Bf(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Jt,b)}catch{}return!0}finally{ge.p=y,le.T=h,i5(i,s)}}function s5(i,s,l){s=Ja(l,s),s=zg(i.stateNode,s,2),i=sn(i,s,2),i!==null&&(St(i,2),Jo(i))}function Jn(i,s,l){if(i.tag===3)s5(i,i,l);else for(;s!==null;){if(s.tag===3){s5(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(xu===null||!xu.has(h))){i=Ja(l,i),l=ov(2),h=sn(s,l,2),h!==null&&(lv(l,h,s,i),St(h,2),Jo(h));break}}s=s.return}}function d0(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new LA;var y=new Set;h.set(s,y)}else y=h.get(s),y===void 0&&(y=new Set,h.set(s,y));y.has(l)||(a0=!0,y.add(l),i=jA.bind(null,i,s,l),s.then(i,i))}function jA(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,hr===i&&(wn&l)===l&&(Wr===4||Wr===3&&(wn&62914560)===wn&&300>Kt()-bp?(Hn&2)===0&&vh(i,0):s0|=l,gh===wn&&(gh=0)),Jo(i)}function o5(i,s){s===0&&(s=qa()),i=fo(i,s),i!==null&&(St(i,s),Jo(i))}function MA(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),o5(i,l)}function UA(i,s){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),o5(i,l)}function FA(i,s){return at(i,s)}var Np=null,_h=null,p0=!1,Tp=!1,m0=!1,Eu=0;function Jo(i){i!==_h&&i.next===null&&(_h===null?Np=_h=i:_h=_h.next=i),Tp=!0,p0||(p0=!0,VA())}function Bf(i,s){if(!m0&&Tp){m0=!0;do for(var l=!1,h=Np;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var b=0;else{var R=h.suspendedLanes,Y=h.pingedLanes;b=(1<<31-Qt(42|i)+1)-1,b&=y&~(R&~Y),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,h5(h,b))}else b=wn,b=ln(h,h===hr?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||bi(h,b)||(l=!0,h5(h,b));h=h.next}while(l);m0=!1}}function BA(){l5()}function l5(){Tp=p0=!1;var i=0;Eu!==0&&XA()&&(i=Eu);for(var s=Kt(),l=null,h=Np;h!==null;){var y=h.next,b=u5(h,s);b===0?(h.next=null,l===null?Np=y:l.next=y,y===null&&(_h=l)):(l=h,(i!==0||(b&3)!==0)&&(Tp=!0)),h=y}Li!==0&&Li!==5||Bf(i),Eu!==0&&(Eu=0)}function u5(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var R=31-Qt(b),Y=1<<R,fe=y[R];fe===-1?((Y&l)===0||(Y&h)!==0)&&(y[R]=oi(Y,s)):fe<=s&&(i.expiredLanes|=Y),b&=~Y}if(s=hr,l=wn,l=ln(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===s&&(Xn===2||Xn===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&it(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||bi(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(h!==null&&it(h),er(l)){case 2:case 8:l=on;break;case 32:l=Xt;break;case 268435456:l=Gt;break;default:l=Xt}return h=c5.bind(null,i),l=at(l,h),i.callbackPriority=s,i.callbackNode=l,s}return h!==null&&h!==null&&it(h),i.callbackPriority=2,i.callbackNode=null,2}function c5(i,s){if(Li!==0&&Li!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Ep()&&i.callbackNode!==l)return null;var h=wn;return h=ln(i,i===hr?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Gv(i,h,s),u5(i,Kt()),i.callbackNode!=null&&i.callbackNode===l?c5.bind(null,i):null)}function h5(i,s){if(Ep())return null;Gv(i,s,!0)}function VA(){ZA(function(){(Hn&6)!==0?at(Vt,BA):l5()})}function g0(){if(Eu===0){var i=p;i===0&&(i=jt,jt<<=1,(jt&261888)===0&&(jt=256)),Eu=i}return Eu}function f5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ui(""+i)}function d5(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function zA(i,s,l,h,y){if(s==="submit"&&l&&l.stateNode===y){var b=f5((y[Yn]||null).action),R=h.submitter;R&&(s=(s=R[Yn]||null)?f5(s.formAction):R.getAttribute("formAction"),s!==null&&(b=s,R=null));var Y=new ci("action","action",null,h,y);i.push({event:Y,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Eu!==0){var fe=R?d5(y,R):new FormData(y);jg(l,{pending:!0,data:fe,method:y.method,action:b},null,fe)}}else typeof b=="function"&&(Y.preventDefault(),fe=R?d5(y,R):new FormData(y),jg(l,{pending:!0,data:fe,method:y.method,action:b},b,fe))},currentTarget:y}]})}}for(var y0=0;y0<_l.length;y0++){var v0=_l[y0],qA=v0.toLowerCase(),HA=v0[0].toUpperCase()+v0.slice(1);Qa(qA,"on"+HA)}Qa(bl,"onAnimationEnd"),Qa(oc,"onAnimationIteration"),Qa(mf,"onAnimationStart"),Qa("dblclick","onDoubleClick"),Qa("focusin","onFocus"),Qa("focusout","onBlur"),Qa(Jd,"onTransitionRun"),Qa(Zd,"onTransitionStart"),Qa(ep,"onTransitionCancel"),Qa(gf,"onTransitionEnd"),Ia("onMouseEnter",["mouseout","mouseover"]),Ia("onMouseLeave",["mouseout","mouseover"]),Ia("onPointerEnter",["pointerout","pointerover"]),Ia("onPointerLeave",["pointerout","pointerover"]),ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vf));function p5(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],y=h.event;h=h.listeners;e:{var b=void 0;if(s)for(var R=h.length-1;0<=R;R--){var Y=h[R],fe=Y.instance,Ie=Y.currentTarget;if(Y=Y.listener,fe!==b&&y.isPropagationStopped())break e;b=Y,y.currentTarget=Ie;try{b(y)}catch(Fe){lc(Fe)}y.currentTarget=null,b=fe}else for(R=0;R<h.length;R++){if(Y=h[R],fe=Y.instance,Ie=Y.currentTarget,Y=Y.listener,fe!==b&&y.isPropagationStopped())break e;b=Y,y.currentTarget=Ie;try{b(y)}catch(Fe){lc(Fe)}y.currentTarget=null,b=fe}}}}function bn(i,s){var l=s[Pi];l===void 0&&(l=s[Pi]=new Set);var h=i+"__bubble";l.has(h)||(m5(s,i,2,!1),l.add(h))}function b0(i,s,l){var h=0;s&&(h|=4),m5(l,i,h,s)}var Cp="_reactListening"+Math.random().toString(36).slice(2);function _0(i){if(!i[Cp]){i[Cp]=!0,Lo.forEach(function(l){l!=="selectionchange"&&(GA.has(l)||b0(l,!1,i),b0(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Cp]||(s[Cp]=!0,b0("selectionchange",!1,s))}}function m5(i,s,l,h){switch(H5(s)){case 2:var y=bE;break;case 8:y=_E;break;default:y=P0}l=y.bind(null,s,l,i),y=void 0,!no||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(s,l,{capture:!0,passive:y}):i.addEventListener(s,l,!0):y!==void 0?i.addEventListener(s,l,{passive:y}):i.addEventListener(s,l,!1)}function w0(i,s,l,h,y){var b=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var R=h.tag;if(R===3||R===4){var Y=h.stateNode.containerInfo;if(Y===y)break;if(R===4)for(R=h.return;R!==null;){var fe=R.tag;if((fe===3||fe===4)&&R.stateNode.containerInfo===y)return;R=R.return}for(;Y!==null;){if(R=Ki(Y),R===null)return;if(fe=R.tag,fe===5||fe===6||fe===26||fe===27){h=b=R;continue e}Y=Y.parentNode}}h=h.return}Ps(function(){var Ie=b,Fe=Fi(l),We=[];e:{var Oe=yf.get(i);if(Oe!==void 0){var Pe=ci,ft=i;switch(i){case"keypress":if(Zi(l)===0)break e;case"keydown":case"keyup":Pe=dn;break;case"focusin":ft="focus",Pe=Da;break;case"focusout":ft="blur",Pe=Da;break;case"beforeblur":case"afterblur":Pe=Da;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=Ya;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=N;break;case bl:case oc:case mf:Pe=S;break;case gf:Pe=J;break;case"scroll":case"scrollend":Pe=js;break;case"wheel":Pe=ke;break;case"copy":case"cut":case"paste":Pe=ie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=Wn;break;case"toggle":case"beforetoggle":Pe=Ht}var Bt=(s&4)!==0,or=!Bt&&(i==="scroll"||i==="scrollend"),xe=Bt?Oe!==null?Oe+"Capture":null:Oe;Bt=[];for(var ye=Ie,Re;ye!==null;){var qe=ye;if(Re=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Re===null||xe===null||(qe=Zr(ye,xe),qe!=null&&Bt.push(zf(ye,qe,Re))),or)break;ye=ye.return}0<Bt.length&&(Oe=new Pe(Oe,ft,null,l,Fe),We.push({event:Oe,listeners:Bt}))}}if((s&7)===0){e:{if(Oe=i==="mouseover"||i==="pointerover",Pe=i==="mouseout"||i==="pointerout",Oe&&l!==vs&&(ft=l.relatedTarget||l.fromElement)&&(Ki(ft)||ft[Fr]))break e;if((Pe||Oe)&&(Oe=Fe.window===Fe?Fe:(Oe=Fe.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,Pe?(ft=l.relatedTarget||l.toElement,Pe=Ie,ft=ft?Ki(ft):null,ft!==null&&(or=o(ft),Bt=ft.tag,ft!==or||Bt!==5&&Bt!==27&&Bt!==6)&&(ft=null)):(Pe=null,ft=Ie),Pe!==ft)){if(Bt=Mo,qe="onMouseLeave",xe="onMouseEnter",ye="mouse",(i==="pointerout"||i==="pointerover")&&(Bt=Wn,qe="onPointerLeave",xe="onPointerEnter",ye="pointer"),or=Pe==null?Oe:Qi(Pe),Re=ft==null?Oe:Qi(ft),Oe=new Bt(qe,ye+"leave",Pe,l,Fe),Oe.target=or,Oe.relatedTarget=Re,qe=null,Ki(Fe)===Ie&&(Bt=new Bt(xe,ye+"enter",ft,l,Fe),Bt.target=Re,Bt.relatedTarget=or,qe=Bt),or=qe,Pe&&ft)t:{for(Bt=WA,xe=Pe,ye=ft,Re=0,qe=xe;qe;qe=Bt(qe))Re++;qe=0;for(var Dt=ye;Dt;Dt=Bt(Dt))qe++;for(;0<Re-qe;)xe=Bt(xe),Re--;for(;0<qe-Re;)ye=Bt(ye),qe--;for(;Re--;){if(xe===ye||ye!==null&&xe===ye.alternate){Bt=xe;break t}xe=Bt(xe),ye=Bt(ye)}Bt=null}else Bt=null;Pe!==null&&g5(We,Oe,Pe,Bt,!1),ft!==null&&or!==null&&g5(We,or,ft,Bt,!0)}}e:{if(Oe=Ie?Qi(Ie):window,Pe=Oe.nodeName&&Oe.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Oe.type==="file")var Bn=Fo;else if(ac(Oe))if(va)Bn=Vs;else{Bn=Dr;var bt=su}else Pe=Oe.nodeName,!Pe||Pe.toLowerCase()!=="input"||Oe.type!=="checkbox"&&Oe.type!=="radio"?Ie&&Oo(Ie.elementType)&&(Bn=Fo):Bn=Gc;if(Bn&&(Bn=Bn(i,Ie))){Pa(We,Bn,l,Fe);break e}bt&&bt(i,Oe,Ie),i==="focusout"&&Ie&&Oe.type==="number"&&Ie.memoizedProps.value!=null&&fl(Oe,"number",Oe.value)}switch(bt=Ie?Qi(Ie):window,i){case"focusin":(ac(bt)||bt.contentEditable==="true")&&(ja=bt,ho=Ie,Bi=null);break;case"focusout":Bi=ho=ja=null;break;case"mousedown":Ka=!0;break;case"contextmenu":case"mouseup":case"dragend":Ka=!1,On(We,l,Fe);break;case"selectionchange":if(vl)break;case"keydown":case"keyup":On(We,l,Fe)}var un;if(cn)e:{switch(i){case"compositionstart":var xn="onCompositionStart";break e;case"compositionend":xn="onCompositionEnd";break e;case"compositionupdate":xn="onCompositionUpdate";break e}xn=void 0}else Us?Oa(i,l)&&(xn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(xn="onCompositionStart");xn&&(Si&&l.locale!=="ko"&&(Us||xn!=="onCompositionStart"?xn==="onCompositionEnd"&&Us&&(un=gl()):(Ji=Fe,ro="value"in Ji?Ji.value:Ji.textContent,Us=!0)),bt=Rp(Ie,xn),0<bt.length&&(xn=new we(xn,i,null,l,Fe),We.push({event:xn,listeners:bt}),un?xn.data=un:(un=Ms(l),un!==null&&(xn.data=un)))),(un=hi?na(i,l):ao(i,l))&&(xn=Rp(Ie,"onBeforeInput"),0<xn.length&&(bt=new we("onBeforeInput","beforeinput",null,l,Fe),We.push({event:bt,listeners:xn}),bt.data=un)),zA(We,i,Ie,l,Fe)}p5(We,s)})}function zf(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Rp(i,s){for(var l=s+"Capture",h=[];i!==null;){var y=i,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Zr(i,l),y!=null&&h.unshift(zf(i,y,b)),y=Zr(i,s),y!=null&&h.push(zf(i,y,b))),i.tag===3)return h;i=i.return}return[]}function WA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function g5(i,s,l,h,y){for(var b=s._reactName,R=[];l!==null&&l!==h;){var Y=l,fe=Y.alternate,Ie=Y.stateNode;if(Y=Y.tag,fe!==null&&fe===h)break;Y!==5&&Y!==26&&Y!==27||Ie===null||(fe=Ie,y?(Ie=Zr(l,b),Ie!=null&&R.unshift(zf(l,Ie,fe))):y||(Ie=Zr(l,b),Ie!=null&&R.push(zf(l,Ie,fe)))),l=l.return}R.length!==0&&i.push({event:s,listeners:R})}var $A=/\r\n?/g,YA=/\u0000|\uFFFD/g;function y5(i){return(typeof i=="string"?i:""+i).replace($A,`
`).replace(YA,"")}function v5(i,s){return s=y5(s),y5(i)===s}function sr(i,s,l,h,y,b){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Jr(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Jr(i,""+h);break;case"className":ui(i,"class",h);break;case"tabIndex":ui(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(i,l,h);break;case"style":ml(i,h,b);break;case"data":if(s!=="object"){ui(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Ui(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(s!=="input"&&sr(i,s,"name",y.name,y,null),sr(i,s,"formEncType",y.formEncType,y,null),sr(i,s,"formMethod",y.formMethod,y,null),sr(i,s,"formTarget",y.formTarget,y,null)):(sr(i,s,"encType",y.encType,y,null),sr(i,s,"method",y.method,y,null),sr(i,s,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Ui(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=La);break;case"onScroll":h!=null&&bn("scroll",i);break;case"onScrollEnd":h!=null&&bn("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Ui(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":bn("beforetoggle",i),bn("toggle",i),Xi(i,"popover",h);break;case"xlinkActuate":Sr(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Sr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Sr(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Sr(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Sr(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Sr(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Sr(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Sr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Sr(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Xi(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Po.get(l)||l,Xi(i,l,h))}}function x0(i,s,l,h,y,b){switch(l){case"style":ml(i,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Jr(i,h):(typeof h=="number"||typeof h=="bigint")&&Jr(i,""+h);break;case"onScroll":h!=null&&bn("scroll",i);break;case"onScrollEnd":h!=null&&bn("scrollend",i);break;case"onClick":h!=null&&(i.onclick=La);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mi.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),s=l.slice(2,y?l.length-7:void 0),b=i[Yn]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(s,b,y),typeof h=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,h,y);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Xi(i,l,h)}}}function oa(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bn("error",i),bn("load",i);var h=!1,y=!1,b;for(b in l)if(l.hasOwnProperty(b)){var R=l[b];if(R!=null)switch(b){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:sr(i,s,b,R,l,null)}}y&&sr(i,s,"srcSet",l.srcSet,l,null),h&&sr(i,s,"src",l.src,l,null);return;case"input":bn("invalid",i);var Y=b=R=y=null,fe=null,Ie=null;for(h in l)if(l.hasOwnProperty(h)){var Fe=l[h];if(Fe!=null)switch(h){case"name":y=Fe;break;case"type":R=Fe;break;case"checked":fe=Fe;break;case"defaultChecked":Ie=Fe;break;case"value":b=Fe;break;case"defaultValue":Y=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,s));break;default:sr(i,s,h,Fe,l,null)}}ru(i,b,Y,fe,Ie,R,y,!1);return;case"select":bn("invalid",i),h=R=b=null;for(y in l)if(l.hasOwnProperty(y)&&(Y=l[y],Y!=null))switch(y){case"value":b=Y;break;case"defaultValue":R=Y;break;case"multiple":h=Y;default:sr(i,s,y,Y,l,null)}s=b,l=R,i.multiple=!!h,s!=null?xi(i,!!h,s,!1):l!=null&&xi(i,!!h,l,!0);return;case"textarea":bn("invalid",i),b=y=h=null;for(R in l)if(l.hasOwnProperty(R)&&(Y=l[R],Y!=null))switch(R){case"value":h=Y;break;case"defaultValue":y=Y;break;case"children":b=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(91));break;default:sr(i,s,R,Y,l,null)}gs(i,h,y,b);return;case"option":for(fe in l)l.hasOwnProperty(fe)&&(h=l[fe],h!=null)&&(fe==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":sr(i,s,fe,h,l,null));return;case"dialog":bn("beforetoggle",i),bn("toggle",i),bn("cancel",i),bn("close",i);break;case"iframe":case"object":bn("load",i);break;case"video":case"audio":for(h=0;h<Vf.length;h++)bn(Vf[h],i);break;case"image":bn("error",i),bn("load",i);break;case"details":bn("toggle",i);break;case"embed":case"source":case"link":bn("error",i),bn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ie in l)if(l.hasOwnProperty(Ie)&&(h=l[Ie],h!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:sr(i,s,Ie,h,l,null)}return;default:if(Oo(s)){for(Fe in l)l.hasOwnProperty(Fe)&&(h=l[Fe],h!==void 0&&x0(i,s,Fe,h,l,void 0));return}}for(Y in l)l.hasOwnProperty(Y)&&(h=l[Y],h!=null&&sr(i,s,Y,h,l,null))}function KA(i,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,R=null,Y=null,fe=null,Ie=null,Fe=null;for(Pe in l){var We=l[Pe];if(l.hasOwnProperty(Pe)&&We!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":fe=We;default:h.hasOwnProperty(Pe)||sr(i,s,Pe,null,h,We)}}for(var Oe in h){var Pe=h[Oe];if(We=l[Oe],h.hasOwnProperty(Oe)&&(Pe!=null||We!=null))switch(Oe){case"type":b=Pe;break;case"name":y=Pe;break;case"checked":Ie=Pe;break;case"defaultChecked":Fe=Pe;break;case"value":R=Pe;break;case"defaultValue":Y=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,s));break;default:Pe!==We&&sr(i,s,Oe,Pe,h,We)}}eo(i,R,Y,fe,Ie,Fe,b,y);return;case"select":Pe=R=Y=Oe=null;for(b in l)if(fe=l[b],l.hasOwnProperty(b)&&fe!=null)switch(b){case"value":break;case"multiple":Pe=fe;default:h.hasOwnProperty(b)||sr(i,s,b,null,h,fe)}for(y in h)if(b=h[y],fe=l[y],h.hasOwnProperty(y)&&(b!=null||fe!=null))switch(y){case"value":Oe=b;break;case"defaultValue":Y=b;break;case"multiple":R=b;default:b!==fe&&sr(i,s,y,b,h,fe)}s=Y,l=R,h=Pe,Oe!=null?xi(i,!!l,Oe,!1):!!h!=!!l&&(s!=null?xi(i,!!l,s,!0):xi(i,!!l,l?[]:"",!1));return;case"textarea":Pe=Oe=null;for(Y in l)if(y=l[Y],l.hasOwnProperty(Y)&&y!=null&&!h.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:sr(i,s,Y,null,h,y)}for(R in h)if(y=h[R],b=l[R],h.hasOwnProperty(R)&&(y!=null||b!=null))switch(R){case"value":Oe=y;break;case"defaultValue":Pe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&sr(i,s,R,y,h,b)}dl(i,Oe,Pe);return;case"option":for(var ft in l)Oe=l[ft],l.hasOwnProperty(ft)&&Oe!=null&&!h.hasOwnProperty(ft)&&(ft==="selected"?i.selected=!1:sr(i,s,ft,null,h,Oe));for(fe in h)Oe=h[fe],Pe=l[fe],h.hasOwnProperty(fe)&&Oe!==Pe&&(Oe!=null||Pe!=null)&&(fe==="selected"?i.selected=Oe&&typeof Oe!="function"&&typeof Oe!="symbol":sr(i,s,fe,Oe,h,Pe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in l)Oe=l[Bt],l.hasOwnProperty(Bt)&&Oe!=null&&!h.hasOwnProperty(Bt)&&sr(i,s,Bt,null,h,Oe);for(Ie in h)if(Oe=h[Ie],Pe=l[Ie],h.hasOwnProperty(Ie)&&Oe!==Pe&&(Oe!=null||Pe!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(r(137,s));break;default:sr(i,s,Ie,Oe,h,Pe)}return;default:if(Oo(s)){for(var or in l)Oe=l[or],l.hasOwnProperty(or)&&Oe!==void 0&&!h.hasOwnProperty(or)&&x0(i,s,or,void 0,h,Oe);for(Fe in h)Oe=h[Fe],Pe=l[Fe],!h.hasOwnProperty(Fe)||Oe===Pe||Oe===void 0&&Pe===void 0||x0(i,s,Fe,Oe,h,Pe);return}}for(var xe in l)Oe=l[xe],l.hasOwnProperty(xe)&&Oe!=null&&!h.hasOwnProperty(xe)&&sr(i,s,xe,null,h,Oe);for(We in h)Oe=h[We],Pe=l[We],!h.hasOwnProperty(We)||Oe===Pe||Oe==null&&Pe==null||sr(i,s,We,Oe,h,Pe)}function b5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var y=l[h],b=y.transferSize,R=y.initiatorType,Y=y.duration;if(b&&Y&&b5(R)){for(R=0,Y=y.responseEnd,h+=1;h<l.length;h++){var fe=l[h],Ie=fe.startTime;if(Ie>Y)break;var Fe=fe.transferSize,We=fe.initiatorType;Fe&&b5(We)&&(fe=fe.responseEnd,R+=Fe*(fe<Y?1:(Y-Ie)/(fe-Ie)))}if(--h,s+=8*(b+R)/(y.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var S0=null,A0=null;function Ip(i){return i.nodeType===9?i:i.ownerDocument}function _5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w5(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function E0(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var N0=null;function XA(){var i=window.event;return i&&i.type==="popstate"?i===N0?!1:(N0=i,!0):(N0=null,!1)}var x5=typeof setTimeout=="function"?setTimeout:void 0,JA=typeof clearTimeout=="function"?clearTimeout:void 0,S5=typeof Promise=="function"?Promise:void 0,ZA=typeof queueMicrotask=="function"?queueMicrotask:typeof S5<"u"?function(i){return S5.resolve(null).then(i).catch(eE)}:x5;function eE(i){setTimeout(function(){throw i})}function Nu(i){return i==="head"}function A5(i,s){var l=s,h=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(y),Ah(s);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")qf(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,qf(l);for(var b=l.firstChild;b;){var R=b.nextSibling,Y=b.nodeName;b[ji]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=R}}else l==="body"&&qf(i.ownerDocument.body);l=y}while(l);Ah(s)}function E5(i,s){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function T0(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":T0(l),ps(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function tE(i,s,l,h){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[ji])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ys(i.nextSibling),i===null)break}return null}function nE(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ys(i.nextSibling),i===null))return null;return i}function N5(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Ys(i.nextSibling),i===null))return null;return i}function C0(i){return i.data==="$?"||i.data==="$~"}function R0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function rE(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Ys(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var I0=null;function T5(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return Ys(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function C5(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function R5(i,s,l){switch(s=Ip(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function qf(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ps(i)}var Ks=new Map,I5=new Set;function Lp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var jl=ge.d;ge.d={f:iE,r:aE,D:sE,C:oE,L:lE,m:uE,X:hE,S:cE,M:fE};function iE(){var i=jl.f(),s=xp();return i||s}function aE(i){var s=wi(i);s!==null&&s.tag===5&&s.type==="form"?$y(s):jl.r(i)}var wh=typeof document>"u"?null:document;function L5(i,s,l){var h=wh;if(h&&typeof s=="string"&&s){var y=Ar(s);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),I5.has(y)||(I5.add(y),i={rel:i,crossOrigin:l,href:s},h.querySelector(y)===null&&(s=h.createElement("link"),oa(s,"link",i),gr(s),h.head.appendChild(s)))}}function sE(i){jl.D(i),L5("dns-prefetch",i,null)}function oE(i,s){jl.C(i,s),L5("preconnect",i,s)}function lE(i,s,l){jl.L(i,s,l);var h=wh;if(h&&i&&s){var y='link[rel="preload"][as="'+Ar(s)+'"]';s==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+Ar(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+Ar(l.imageSizes)+'"]')):y+='[href="'+Ar(i)+'"]';var b=y;switch(s){case"style":b=xh(i);break;case"script":b=Sh(i)}Ks.has(b)||(i=w({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Ks.set(b,i),h.querySelector(y)!==null||s==="style"&&h.querySelector(Hf(b))||s==="script"&&h.querySelector(Gf(b))||(s=h.createElement("link"),oa(s,"link",i),gr(s),h.head.appendChild(s)))}}function uE(i,s){jl.m(i,s);var l=wh;if(l&&i){var h=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+Ar(h)+'"][href="'+Ar(i)+'"]',b=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Sh(i)}if(!Ks.has(b)&&(i=w({rel:"modulepreload",href:i},s),Ks.set(b,i),l.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Gf(b)))return}h=l.createElement("link"),oa(h,"link",i),gr(h),l.head.appendChild(h)}}}function cE(i,s,l){jl.S(i,s,l);var h=wh;if(h&&i){var y=pa(h).hoistableStyles,b=xh(i);s=s||"default";var R=y.get(b);if(!R){var Y={loading:0,preload:null};if(R=h.querySelector(Hf(b)))Y.loading=5;else{i=w({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Ks.get(b))&&L0(i,l);var fe=R=h.createElement("link");gr(fe),oa(fe,"link",i),fe._p=new Promise(function(Ie,Fe){fe.onload=Ie,fe.onerror=Fe}),fe.addEventListener("load",function(){Y.loading|=1}),fe.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,kp(R,s,h)}R={type:"stylesheet",instance:R,count:1,state:Y},y.set(b,R)}}}function hE(i,s){jl.X(i,s);var l=wh;if(l&&i){var h=pa(l).hoistableScripts,y=Sh(i),b=h.get(y);b||(b=l.querySelector(Gf(y)),b||(i=w({src:i,async:!0},s),(s=Ks.get(y))&&k0(i,s),b=l.createElement("script"),gr(b),oa(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function fE(i,s){jl.M(i,s);var l=wh;if(l&&i){var h=pa(l).hoistableScripts,y=Sh(i),b=h.get(y);b||(b=l.querySelector(Gf(y)),b||(i=w({src:i,async:!0,type:"module"},s),(s=Ks.get(y))&&k0(i,s),b=l.createElement("script"),gr(b),oa(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(y,b))}}function k5(i,s,l,h){var y=(y=ce.current)?Lp(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=xh(l.href),l=pa(y).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=xh(l.href);var b=pa(y).hoistableStyles,R=b.get(i);if(R||(y=y.ownerDocument||y,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,R),(b=y.querySelector(Hf(i)))&&!b._p&&(R.instance=b,R.state.loading=5),Ks.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ks.set(i,l),b||dE(y,i,l,R.state))),s&&h===null)throw Error(r(528,""));return R}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Sh(l),l=pa(y).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function xh(i){return'href="'+Ar(i)+'"'}function Hf(i){return'link[rel="stylesheet"]['+i+"]"}function D5(i){return w({},i,{"data-precedence":i.precedence,precedence:null})}function dE(i,s,l,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),oa(s,"link",l),gr(s),i.head.appendChild(s))}function Sh(i){return'[src="'+Ar(i)+'"]'}function Gf(i){return"script[async]"+i}function O5(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+Ar(l.href)+'"]');if(h)return s.instance=h,gr(h),h;var y=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),gr(h),oa(h,"style",y),kp(h,l.precedence,i),s.instance=h;case"stylesheet":y=xh(l.href);var b=i.querySelector(Hf(y));if(b)return s.state.loading|=4,s.instance=b,gr(b),b;h=D5(l),(y=Ks.get(y))&&L0(h,y),b=(i.ownerDocument||i).createElement("link"),gr(b);var R=b;return R._p=new Promise(function(Y,fe){R.onload=Y,R.onerror=fe}),oa(b,"link",h),s.state.loading|=4,kp(b,l.precedence,i),s.instance=b;case"script":return b=Sh(l.src),(y=i.querySelector(Gf(b)))?(s.instance=y,gr(y),y):(h=l,(y=Ks.get(b))&&(h=w({},l),k0(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),gr(y),oa(y,"link",h),i.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,kp(h,l.precedence,i));return s.instance}function kp(i,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,b=y,R=0;R<h.length;R++){var Y=h[R];if(Y.dataset.precedence===s)b=Y;else if(b!==y)break}b?b.parentNode.insertBefore(i,b.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function L0(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function k0(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Dp=null;function P5(i,s,l){if(Dp===null){var h=new Map,y=Dp=new Map;y.set(l,h)}else y=Dp,h=y.get(l),h||(h=new Map,y.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var b=l[y];if(!(b[ji]||b[Mn]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var R=b.getAttribute(s)||"";R=i+R;var Y=h.get(R);Y?Y.push(b):h.set(R,[b])}}return h}function j5(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function pE(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function M5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function mE(i,s,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=xh(h.href),b=s.querySelector(Hf(y));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Op.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=b,gr(b);return}b=s.ownerDocument||s,h=D5(h),(y=Ks.get(y))&&L0(h,y),b=b.createElement("link"),gr(b);var R=b;R._p=new Promise(function(Y,fe){R.onload=Y,R.onerror=fe}),oa(b,"link",h),l.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Op.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var D0=0;function gE(i,s){return i.stylesheets&&i.count===0&&jp(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&jp(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+s);0<i.imgBytes&&D0===0&&(D0=62500*QA());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&jp(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>D0?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Op(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Pp=null;function jp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Pp=new Map,s.forEach(yE,i),Pp=null,Op.call(i))}function yE(i,s){if(!(s.state.loading&4)){var l=Pp.get(i);if(l)var h=l.get(null);else{l=new Map,Pp.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var R=y[b];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(l.set(R.dataset.precedence,R),h=R)}h&&l.set(null,h)}y=s.instance,R=y.getAttribute("data-precedence"),b=l.get(R)||h,b===h&&l.set(null,y),l.set(R,y),this.count++,h=Op.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),b?b.parentNode.insertBefore(y,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),s.state.loading|=4}}var Wf={$$typeof:X,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function vE(i,s,l,h,y,b,R,Y,fe){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xr(0),this.hiddenUpdates=Xr(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function U5(i,s,l,h,y,b,R,Y,fe,Ie,Fe,We){return i=new vE(i,s,l,R,fe,Ie,Fe,We,Y),s=1,b===!0&&(s|=24),b=zi(3,null,null,s),i.current=b,b.stateNode=i,s=pu(),s.refCount++,i.pooledCache=s,s.refCount++,b.memoizedState={element:h,isDehydrated:l,cache:s},Ze(b),i}function F5(i){return i?(i=Ni,i):Ni}function B5(i,s,l,h,y,b){y=F5(y),h.context===null?h.context=y:h.pendingContext=y,h=Ut(s),h.payload={element:l},b=b===void 0?null:b,b!==null&&(h.callback=b),l=sn(i,h,s),l!==null&&(us(l,i,s),zn(l,i,s))}function V5(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function O0(i,s){V5(i,s),(i=i.alternate)&&V5(i,s)}function z5(i){if(i.tag===13||i.tag===31){var s=fo(i,67108864);s!==null&&us(s,i,67108864),O0(i,67108864)}}function q5(i){if(i.tag===13||i.tag===31){var s=Ns();s=Gn(s);var l=fo(i,s);l!==null&&us(l,i,s),O0(i,s)}}var Mp=!0;function bE(i,s,l,h){var y=le.T;le.T=null;var b=ge.p;try{ge.p=2,P0(i,s,l,h)}finally{ge.p=b,le.T=y}}function _E(i,s,l,h){var y=le.T;le.T=null;var b=ge.p;try{ge.p=8,P0(i,s,l,h)}finally{ge.p=b,le.T=y}}function P0(i,s,l,h){if(Mp){var y=j0(h);if(y===null)w0(i,s,h,Up,l),G5(i,h);else if(xE(y,i,s,l,h))h.stopPropagation();else if(G5(i,h),s&4&&-1<wE.indexOf(i)){for(;y!==null;){var b=wi(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var R=vt(b.pendingLanes);if(R!==0){var Y=b;for(Y.pendingLanes|=2,Y.entangledLanes|=2;R;){var fe=1<<31-Qt(R);Y.entanglements[1]|=fe,R&=~fe}Jo(b),(Hn&6)===0&&(_p=Kt()+500,Bf(0))}}break;case 31:case 13:Y=fo(b,2),Y!==null&&us(Y,b,2),xp(),O0(b,2)}if(b=j0(h),b===null&&w0(i,s,h,Up,l),b===y)break;y=b}y!==null&&h.stopPropagation()}else w0(i,s,h,null,l)}}function j0(i){return i=Fi(i),M0(i)}var Up=null;function M0(i){if(Up=null,i=Ki(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===31){if(i=c(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Up=i,null}function H5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case Vt:return 2;case on:return 8;case Xt:case gt:return 32;case Gt:return 268435456;default:return 32}default:return 32}}var U0=!1,Tu=null,Cu=null,Ru=null,$f=new Map,Yf=new Map,Iu=[],wE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G5(i,s){switch(i){case"focusin":case"focusout":Tu=null;break;case"dragenter":case"dragleave":Cu=null;break;case"mouseover":case"mouseout":Ru=null;break;case"pointerover":case"pointerout":$f.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yf.delete(s.pointerId)}}function Kf(i,s,l,h,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:b,targetContainers:[y]},s!==null&&(s=wi(s),s!==null&&z5(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),i)}function xE(i,s,l,h,y){switch(s){case"focusin":return Tu=Kf(Tu,i,s,l,h,y),!0;case"dragenter":return Cu=Kf(Cu,i,s,l,h,y),!0;case"mouseover":return Ru=Kf(Ru,i,s,l,h,y),!0;case"pointerover":var b=y.pointerId;return $f.set(b,Kf($f.get(b)||null,i,s,l,h,y)),!0;case"gotpointercapture":return b=y.pointerId,Yf.set(b,Kf(Yf.get(b)||null,i,s,l,h,y)),!0}return!1}function W5(i){var s=Ki(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,_i(i.priority,function(){q5(l)});return}}else if(s===31){if(s=c(l),s!==null){i.blockedOn=s,_i(i.priority,function(){q5(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fp(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=j0(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);vs=h,l.target.dispatchEvent(h),vs=null}else return s=wi(l),s!==null&&z5(s),i.blockedOn=l,!1;s.shift()}return!0}function $5(i,s,l){Fp(i)&&l.delete(s)}function SE(){U0=!1,Tu!==null&&Fp(Tu)&&(Tu=null),Cu!==null&&Fp(Cu)&&(Cu=null),Ru!==null&&Fp(Ru)&&(Ru=null),$f.forEach($5),Yf.forEach($5)}function Bp(i,s){i.blockedOn===s&&(i.blockedOn=null,U0||(U0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,SE)))}var Vp=null;function Y5(i){Vp!==i&&(Vp=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vp===i&&(Vp=null);for(var s=0;s<i.length;s+=3){var l=i[s],h=i[s+1],y=i[s+2];if(typeof h!="function"){if(M0(h||l)===null)continue;break}var b=wi(l);b!==null&&(i.splice(s,3),s-=3,jg(b,{pending:!0,data:y,method:l.method,action:h},h,y))}}))}function Ah(i){function s(fe){return Bp(fe,i)}Tu!==null&&Bp(Tu,i),Cu!==null&&Bp(Cu,i),Ru!==null&&Bp(Ru,i),$f.forEach(s),Yf.forEach(s);for(var l=0;l<Iu.length;l++){var h=Iu[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Iu.length&&(l=Iu[0],l.blockedOn===null);)W5(l),l.blockedOn===null&&Iu.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var y=l[h],b=l[h+1],R=y[Yn]||null;if(typeof b=="function")R||Y5(l);else if(R){var Y=null;if(b&&b.hasAttribute("formAction")){if(y=b,R=b[Yn]||null)Y=R.formAction;else if(M0(y)!==null)continue}else Y=R.action;typeof Y=="function"?l[h+1]=Y:(l.splice(h,3),h-=3),Y5(l)}}}function K5(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(R){return y=R})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function F0(i){this._internalRoot=i}zp.prototype.render=F0.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,h=Ns();B5(l,h,i,s,null,null)},zp.prototype.unmount=F0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;B5(i.current,2,null,i,null,null),xp(),s[Fr]=null}};function zp(i){this._internalRoot=i}zp.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ur();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Iu.length&&s!==0&&s<Iu[l].priority;l++);Iu.splice(l,0,i),l===0&&W5(i)}};var Q5=e.version;if(Q5!=="19.2.4")throw Error(r(527,Q5,"19.2.4"));ge.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var AE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qp.isDisabled&&qp.supportsFiber)try{Jt=qp.inject(AE),Tt=qp}catch{}}return Xf.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,h="",y=rv,b=iv,R=av;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError)),s=U5(i,1,!1,null,null,l,h,null,y,b,R,K5),i[Fr]=s.current,_0(i),new F0(s)},Xf.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var h=!1,y="",b=rv,R=iv,Y=av,fe=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(Y=l.onRecoverableError),l.formState!==void 0&&(fe=l.formState)),s=U5(i,1,!0,s,l??null,h,y,fe,b,R,Y,K5),s.context=F5(null),l=s.current,h=Ns(),h=Gn(h),y=Ut(h),y.callback=null,sn(l,y,h),l=h,s.current.lanes=l,St(s,l),Jo(s),i[Fr]=s.current,_0(i),new zp(s)},Xf.version="19.2.4",Xf}var sb;function jE(){if(sb)return z0.exports;sb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),z0.exports=PE(),z0.exports}var ME=jE();var ob="popstate";function UE(n={}){function e(r,a){let{pathname:o,search:u,hash:c}=r.location;return O1("",{pathname:o,search:u,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:bd(a)}return BE(e,t,null,n)}function Ir(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ao(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FE(){return Math.random().toString(36).substring(2,10)}function lb(n,e){return{usr:n.state,key:n.key,idx:e}}function O1(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?nf(e):e,state:t,key:e&&e.key||r||FE()}}function bd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function nf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function BE(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,c="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function w(){c="POP";let L=g(),j=L==null?null:L-d;d=L,f&&f({action:c,location:I.location,delta:j})}function A(L,j){c="PUSH";let $=O1(I.location,L,j);d=g()+1;let X=lb($,d),Z=I.createHref($);try{u.pushState(X,"",Z)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(Z)}o&&f&&f({action:c,location:I.location,delta:1})}function _(L,j){c="REPLACE";let $=O1(I.location,L,j);d=g();let X=lb($,d),Z=I.createHref($);u.replaceState(X,"",Z),o&&f&&f({action:c,location:I.location,delta:0})}function P(L){return VE(L)}let I={get action(){return c},get location(){return n(a,u)},listen(L){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(ob,w),f=L,()=>{a.removeEventListener(ob,w),f=null}},createHref(L){return e(a,L)},createURL:P,encodeLocation(L){let j=P(L);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:A,replace:_,go(L){return u.go(L)}};return I}function VE(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ir(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:bd(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function mx(n,e,t="/"){return zE(n,e,t,!1)}function zE(n,e,t,r){let a=typeof e=="string"?nf(e):e,o=$l(a.pathname||"/",t);if(o==null)return null;let u=gx(n);qE(u);let c=null;for(let f=0;c==null&&f<u.length;++f){let d=e6(o);c=JE(u[f],d,r)}return c}function gx(n,e=[],t=[],r="",a=!1){let o=(u,c,f=a,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;Ir(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let w=ql([r,g.relativePath]),A=t.concat(g);u.children&&u.children.length>0&&(Ir(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),gx(u.children,e,A,w,f)),!(u.path==null&&!u.index)&&e.push({path:w,score:QE(w,u.index),routesMeta:A})};return n.forEach((u,c)=>{if(u.path===""||!u.path?.includes("?"))o(u,c);else for(let f of yx(u.path))o(u,c,!0,f)}),e}function yx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=yx(r.join("/")),c=[];return c.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&c.push(...u),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function qE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:XE(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var HE=/^:[\w-]+$/,GE=3,WE=2,$E=1,YE=10,KE=-2,ub=n=>n==="*";function QE(n,e){let t=n.split("/"),r=t.length;return t.some(ub)&&(r+=KE),e&&(r+=WE),t.filter(a=>!ub(a)).reduce((a,o)=>a+(HE.test(o)?GE:o===""?$E:YE),r)}function XE(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function JE(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",u=[];for(let c=0;c<r.length;++c){let f=r[c],d=c===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",w=Sm({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),A=f.route;if(!w&&d&&t&&!r[r.length-1].route.index&&(w=Sm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!w)return null;Object.assign(a,w.params),u.push({params:a,pathname:ql([o,w.pathname]),pathnameBase:i6(ql([o,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(o=ql([o,w.pathnameBase]))}return u}function Sm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=ZE(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:w},A)=>{if(g==="*"){let P=c[A]||"";u=o.slice(0,o.length-P.length).replace(/(.)\/+$/,"$1")}const _=c[A];return w&&!_?d[g]=void 0:d[g]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function ZE(n,e=!1,t=!0){Ao(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function e6(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ao(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function $l(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var t6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function n6(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?nf(n):n,o;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?o=cb(t.substring(1),"/"):o=cb(t,e)):o=e,{pathname:o,search:a6(r),hash:s6(a)}}function cb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function W0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function r6(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function N2(n){let e=r6(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function T2(n,e,t,r=!1){let a;typeof n=="string"?a=nf(n):(a={...n},Ir(!a.pathname||!a.pathname.includes("?"),W0("?","pathname","search",a)),Ir(!a.pathname||!a.pathname.includes("#"),W0("#","pathname","hash",a)),Ir(!a.search||!a.search.includes("#"),W0("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,c;if(u==null)c=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let A=u.split("/");for(;A[0]==="..";)A.shift(),w-=1;a.pathname=A.join("/")}c=w>=0?e[w]:"/"}let f=n6(a,c),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var ql=n=>n.join("/").replace(/\/\/+/g,"/"),i6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),a6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,s6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,o6=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function l6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function u6(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var vx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function bx(n,e){let t=n;if(typeof t!="string"||!t6.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,a=!1;if(vx)try{let o=new URL(window.location.href),u=t.startsWith("//")?new URL(o.protocol+t):new URL(t),c=$l(u.pathname,e);u.origin===o.origin&&c!=null?t=c+u.search+u.hash:a=!0}catch{Ao(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _x=["POST","PUT","PATCH","DELETE"];new Set(_x);var c6=["GET",..._x];new Set(c6);var rf=he.createContext(null);rf.displayName="DataRouter";var tg=he.createContext(null);tg.displayName="DataRouterState";var h6=he.createContext(!1),wx=he.createContext({isTransitioning:!1});wx.displayName="ViewTransition";var f6=he.createContext(new Map);f6.displayName="Fetchers";var d6=he.createContext(null);d6.displayName="Await";var Is=he.createContext(null);Is.displayName="Navigation";var Dd=he.createContext(null);Dd.displayName="Location";var Co=he.createContext({outlet:null,matches:[],isDataRoute:!1});Co.displayName="Route";var C2=he.createContext(null);C2.displayName="RouteError";var xx="REACT_ROUTER_ERROR",p6="REDIRECT",m6="ROUTE_ERROR_RESPONSE";function g6(n){if(n.startsWith(`${xx}:${p6}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function y6(n){if(n.startsWith(`${xx}:${m6}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new o6(e.status,e.statusText,e.data)}catch{}}function v6(n,{relative:e}={}){Ir(af(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=he.useContext(Is),{hash:a,pathname:o,search:u}=Od(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:ql([t,o])),r.createHref({pathname:c,search:u,hash:a})}function af(){return he.useContext(Dd)!=null}function ec(){return Ir(af(),"useLocation() may be used only in the context of a <Router> component."),he.useContext(Dd).location}var Sx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ax(n){he.useContext(Is).static||he.useLayoutEffect(n)}function Bc(){let{isDataRoute:n}=he.useContext(Co);return n?D6():b6()}function b6(){Ir(af(),"useNavigate() may be used only in the context of a <Router> component.");let n=he.useContext(rf),{basename:e,navigator:t}=he.useContext(Is),{matches:r}=he.useContext(Co),{pathname:a}=ec(),o=JSON.stringify(N2(r)),u=he.useRef(!1);return Ax(()=>{u.current=!0}),he.useCallback((f,d={})=>{if(Ao(u.current,Sx),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=T2(f,JSON.parse(o),a,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ql([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,o,a,n])}var _6=he.createContext(null);function w6(n){let e=he.useContext(Co).outlet;return he.useMemo(()=>e&&he.createElement(_6.Provider,{value:n},e),[e,n])}function Od(n,{relative:e}={}){let{matches:t}=he.useContext(Co),{pathname:r}=ec(),a=JSON.stringify(N2(t));return he.useMemo(()=>T2(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function x6(n,e){return Ex(n,e)}function Ex(n,e,t,r,a){Ir(af(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=he.useContext(Is),{matches:u}=he.useContext(Co),c=u[u.length-1],f=c?c.params:{},d=c?c.pathname:"/",g=c?c.pathnameBase:"/",w=c&&c.route;{let $=w&&w.path||"";Tx(d,!w||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let A=ec(),_;if(e){let $=typeof e=="string"?nf(e):e;Ir(g==="/"||$.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${$.pathname}" was given in the \`location\` prop.`),_=$}else _=A;let P=_.pathname||"/",I=P;if(g!=="/"){let $=g.replace(/^\//,"").split("/");I="/"+P.replace(/^\//,"").split("/").slice($.length).join("/")}let L=mx(n,{pathname:I});Ao(w||L!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ao(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=T6(L&&L.map($=>Object.assign({},$,{params:Object.assign({},f,$.params),pathname:ql([g,o.encodeLocation?o.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:ql([g,o.encodeLocation?o.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),u,t,r,a);return e&&j?he.createElement(Dd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},j):j}function S6(){let n=k6(),e=l6(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=he.createElement(he.Fragment,null,he.createElement("p",null," Hey developer "),he.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",he.createElement("code",{style:o},"ErrorBoundary")," or"," ",he.createElement("code",{style:o},"errorElement")," prop on your route.")),he.createElement(he.Fragment,null,he.createElement("h2",null,"Unexpected Application Error!"),he.createElement("h3",{style:{fontStyle:"italic"}},e),t?he.createElement("pre",{style:a},t):null,u)}var A6=he.createElement(S6,null),Nx=class extends he.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=y6(n.digest);t&&(n=t)}let e=n!==void 0?he.createElement(Co.Provider,{value:this.props.routeContext},he.createElement(C2.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?he.createElement(E6,{error:n},e):e}};Nx.contextType=h6;var $0=new WeakMap;function E6({children:n,error:e}){let{basename:t}=he.useContext(Is);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=g6(e.digest);if(r){let a=$0.get(e);if(a)throw a;let o=bx(r.location,t);if(vx&&!$0.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw $0.set(e,u),u}return he.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function N6({routeContext:n,match:e,children:t}){let r=he.useContext(rf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),he.createElement(Co.Provider,{value:n},t)}function T6(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t?.errors;if(u!=null){let g=o.findIndex(w=>w.route.id&&u?.[w.route.id]!==void 0);Ir(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let c=!1,f=-1;if(t)for(let g=0;g<o.length;g++){let w=o[g];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=g),w.route.id){let{loaderData:A,errors:_}=t,P=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!_||_[w.route.id]===void 0);if(w.route.lazy||P){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let d=t&&r?(g,w)=>{r(g,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:u6(t.matches),errorInfo:w})}:void 0;return o.reduceRight((g,w,A)=>{let _,P=!1,I=null,L=null;t&&(_=u&&w.route.id?u[w.route.id]:void 0,I=w.route.errorElement||A6,c&&(f<0&&A===0?(Tx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,L=null):f===A&&(P=!0,L=w.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,A+1)),$=()=>{let X;return _?X=I:P?X=L:w.route.Component?X=he.createElement(w.route.Component,null):w.route.element?X=w.route.element:X=g,he.createElement(N6,{match:w,routeContext:{outlet:g,matches:j,isDataRoute:t!=null},children:X})};return t&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?he.createElement(Nx,{location:t.location,revalidation:t.revalidation,component:I,error:_,children:$(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:d}):$()},null)}function R2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C6(n){let e=he.useContext(rf);return Ir(e,R2(n)),e}function R6(n){let e=he.useContext(tg);return Ir(e,R2(n)),e}function I6(n){let e=he.useContext(Co);return Ir(e,R2(n)),e}function I2(n){let e=I6(n),t=e.matches[e.matches.length-1];return Ir(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function L6(){return I2("useRouteId")}function k6(){let n=he.useContext(C2),e=R6("useRouteError"),t=I2("useRouteError");return n!==void 0?n:e.errors?.[t]}function D6(){let{router:n}=C6("useNavigate"),e=I2("useNavigate"),t=he.useRef(!1);return Ax(()=>{t.current=!0}),he.useCallback(async(a,o={})=>{Ao(t.current,Sx),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var hb={};function Tx(n,e,t){!e&&!hb[n]&&(hb[n]=!0,Ao(!1,t))}he.memo(O6);function O6({routes:n,future:e,state:t,onError:r}){return Ex(n,void 0,t,r,e)}function ld({to:n,replace:e,state:t,relative:r}){Ir(af(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=he.useContext(Is);Ao(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=he.useContext(Co),{pathname:u}=ec(),c=Bc(),f=T2(n,N2(o),u,r==="path"),d=JSON.stringify(f);return he.useEffect(()=>{c(JSON.parse(d),{replace:e,state:t,relative:r})},[c,d,r,e,t]),null}function Cx(n){return w6(n.context)}function $r(n){Ir(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function P6({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1,unstable_useTransitions:u}){Ir(!af(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=he.useMemo(()=>({basename:c,navigator:a,static:o,unstable_useTransitions:u,future:{}}),[c,a,o,u]);typeof t=="string"&&(t=nf(t));let{pathname:d="/",search:g="",hash:w="",state:A=null,key:_="default"}=t,P=he.useMemo(()=>{let I=$l(d,c);return I==null?null:{location:{pathname:I,search:g,hash:w,state:A,key:_},navigationType:r}},[c,d,g,w,A,_,r]);return Ao(P!=null,`<Router basename="${c}"> is not able to match the URL "${d}${g}${w}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:he.createElement(Is.Provider,{value:f},he.createElement(Dd.Provider,{children:e,value:P}))}function j6({children:n,location:e}){return x6(P1(n),e)}function P1(n,e=[]){let t=[];return he.Children.forEach(n,(r,a)=>{if(!he.isValidElement(r))return;let o=[...e,a];if(r.type===he.Fragment){t.push.apply(t,P1(r.props.children,o));return}Ir(r.type===$r,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ir(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=P1(r.props.children,o)),t.push(u)}),t}var am="get",sm="application/x-www-form-urlencoded";function ng(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function M6(n){return ng(n)&&n.tagName.toLowerCase()==="button"}function U6(n){return ng(n)&&n.tagName.toLowerCase()==="form"}function F6(n){return ng(n)&&n.tagName.toLowerCase()==="input"}function B6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function V6(n,e){return n.button===0&&(!e||e==="_self")&&!B6(n)}var Hp=null;function z6(){if(Hp===null)try{new FormData(document.createElement("form"),0),Hp=!1}catch{Hp=!0}return Hp}var q6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Y0(n){return n!=null&&!q6.has(n)?(Ao(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sm}"`),null):n}function H6(n,e){let t,r,a,o,u;if(U6(n)){let c=n.getAttribute("action");r=c?$l(c,e):null,t=n.getAttribute("method")||am,a=Y0(n.getAttribute("enctype"))||sm,o=new FormData(n)}else if(M6(n)||F6(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?$l(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||am,a=Y0(n.getAttribute("formenctype"))||Y0(c.getAttribute("enctype"))||sm,o=new FormData(c,n),!z6()){let{name:d,type:g,value:w}=n;if(g==="image"){let A=d?`${d}.`:"";o.append(`${A}x`,"0"),o.append(`${A}y`,"0")}else d&&o.append(d,w)}}else{if(ng(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=am,r=null,a=sm,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function L2(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function G6(n,e,t,r){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&$l(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function W6(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $6(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Y6(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await W6(o,t);return u.links?u.links():[]}return[]}));return J6(r.flat(1).filter($6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function fb(n,e,t,r,a,o){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,c=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,d)=>u(f,d)||c(f,d)):o==="data"?e.filter((f,d)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function K6(n,e,{includeHydrateFallback:t}={}){return Q6(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function Q6(n){return[...new Set(n)]}function X6(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function J6(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(X6(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function Rx(){let n=he.useContext(rf);return L2(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Z6(){let n=he.useContext(tg);return L2(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var k2=he.createContext(void 0);k2.displayName="FrameworkContext";function Ix(){let n=he.useContext(k2);return L2(n,"You must render this element inside a <HydratedRouter> element"),n}function eN(n,e){let t=he.useContext(k2),[r,a]=he.useState(!1),[o,u]=he.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:w}=e,A=he.useRef(null);he.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let I=j=>{j.forEach($=>{u($.isIntersecting)})},L=new IntersectionObserver(I,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[n]),he.useEffect(()=>{if(r){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[r]);let _=()=>{a(!0)},P=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,A,{}]:[o,A,{onFocus:Jf(c,_),onBlur:Jf(f,P),onMouseEnter:Jf(d,_),onMouseLeave:Jf(g,P),onTouchStart:Jf(w,_)}]:[!1,A,{}]}function Jf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function tN({page:n,...e}){let{router:t}=Rx(),r=he.useMemo(()=>mx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?he.createElement(rN,{page:n,matches:r,...e}):null}function nN(n){let{manifest:e,routeModules:t}=Ix(),[r,a]=he.useState([]);return he.useEffect(()=>{let o=!1;return Y6(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),r}function rN({page:n,matches:e,...t}){let r=ec(),{future:a,manifest:o,routeModules:u}=Ix(),{basename:c}=Rx(),{loaderData:f,matches:d}=Z6(),g=he.useMemo(()=>fb(n,e,d,o,r,"data"),[n,e,d,o,r]),w=he.useMemo(()=>fb(n,e,d,o,r,"assets"),[n,e,d,o,r]),A=he.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,L=!1;if(e.forEach($=>{let X=o.routes[$.route.id];!X||!X.hasLoader||(!g.some(Z=>Z.route.id===$.route.id)&&$.route.id in f&&u[$.route.id]?.shouldRevalidate||X.hasClientLoader?L=!0:I.add($.route.id))}),I.size===0)return[];let j=G6(n,c,a.unstable_trailingSlashAwareDataRequests,"data");return L&&I.size>0&&j.searchParams.set("_routes",e.filter($=>I.has($.route.id)).map($=>$.route.id).join(",")),[j.pathname+j.search]},[c,a.unstable_trailingSlashAwareDataRequests,f,r,o,g,e,n,u]),_=he.useMemo(()=>K6(w,o),[w,o]),P=nN(w);return he.createElement(he.Fragment,null,A.map(I=>he.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),_.map(I=>he.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),P.map(({key:I,link:L})=>he.createElement("link",{key:I,nonce:t.nonce,...L,crossOrigin:L.crossOrigin??t.crossOrigin})))}function iN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var aN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aN&&(window.__reactRouterVersion="7.13.0")}catch{}function sN({basename:n,children:e,unstable_useTransitions:t,window:r}){let a=he.useRef();a.current==null&&(a.current=UE({window:r,v5Compat:!0}));let o=a.current,[u,c]=he.useState({action:o.action,location:o.location}),f=he.useCallback(d=>{t===!1?c(d):he.startTransition(()=>c(d))},[t]);return he.useLayoutEffect(()=>o.listen(f),[o,f]),he.createElement(P6,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:t})}var Lx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fu=he.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:c,target:f,to:d,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:A,..._},P){let{basename:I,unstable_useTransitions:L}=he.useContext(Is),j=typeof d=="string"&&Lx.test(d),$=bx(d,I);d=$.to;let X=v6(d,{relative:a}),[Z,se,_e]=eN(r,_),z=uN(d,{replace:u,state:c,target:f,preventScrollReset:g,relative:a,viewTransition:w,unstable_defaultShouldRevalidate:A,unstable_useTransitions:L});function U(H){e&&e(H),H.defaultPrevented||z(H)}let k=he.createElement("a",{..._,..._e,href:$.absoluteURL||X,onClick:$.isExternal||o?e:U,ref:iN(P,se),target:f,"data-discover":!j&&t==="render"?"true":void 0});return Z&&!j?he.createElement(he.Fragment,null,k,he.createElement(tN,{page:X})):k});Fu.displayName="Link";var kx=he.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:c,children:f,...d},g){let w=Od(u,{relative:d.relative}),A=ec(),_=he.useContext(tg),{navigator:P,basename:I}=he.useContext(Is),L=_!=null&&pN(w)&&c===!0,j=P.encodeLocation?P.encodeLocation(w).pathname:w.pathname,$=A.pathname,X=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||($=$.toLowerCase(),X=X?X.toLowerCase():null,j=j.toLowerCase()),X&&I&&(X=$l(X,I)||X);const Z=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let se=$===j||!a&&$.startsWith(j)&&$.charAt(Z)==="/",_e=X!=null&&(X===j||!a&&X.startsWith(j)&&X.charAt(j.length)==="/"),z={isActive:se,isPending:_e,isTransitioning:L},U=se?e:void 0,k;typeof r=="function"?k=r(z):k=[r,se?"active":null,_e?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let H=typeof o=="function"?o(z):o;return he.createElement(Fu,{...d,"aria-current":U,className:k,ref:g,style:H,to:u,viewTransition:c},typeof f=="function"?f(z):f)});kx.displayName="NavLink";var oN=he.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:u=am,action:c,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:A,..._},P)=>{let{unstable_useTransitions:I}=he.useContext(Is),L=fN(),j=dN(c,{relative:d}),$=u.toLowerCase()==="get"?"get":"post",X=typeof c=="string"&&Lx.test(c),Z=se=>{if(f&&f(se),se.defaultPrevented)return;se.preventDefault();let _e=se.nativeEvent.submitter,z=_e?.getAttribute("formmethod")||u,U=()=>L(_e||se.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:a,state:o,relative:d,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:A});I&&t!==!1?he.startTransition(()=>U()):U()};return he.createElement("form",{ref:P,method:$,action:j,onSubmit:r?f:Z,..._,"data-discover":!X&&n==="render"?"true":void 0})});oN.displayName="Form";function lN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dx(n){let e=he.useContext(rf);return Ir(e,lN(n)),e}function uN(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c,unstable_useTransitions:f}={}){let d=Bc(),g=ec(),w=Od(n,{relative:o});return he.useCallback(A=>{if(V6(A,e)){A.preventDefault();let _=t!==void 0?t:bd(g)===bd(w),P=()=>d(n,{replace:_,state:r,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c});f?he.startTransition(()=>P()):P()}},[g,d,w,t,r,e,n,a,o,u,c,f])}var cN=0,hN=()=>`__${String(++cN)}__`;function fN(){let{router:n}=Dx("useSubmit"),{basename:e}=he.useContext(Is),t=L6(),r=n.fetch,a=n.navigate;return he.useCallback(async(o,u={})=>{let{action:c,method:f,encType:d,formData:g,body:w}=H6(o,e);if(u.navigate===!1){let A=u.fetcherKey||hN();await r(A,t,u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:w,formMethod:u.method||f,formEncType:u.encType||d,flushSync:u.flushSync})}else await a(u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:w,formMethod:u.method||f,formEncType:u.encType||d,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,a,e,t])}function dN(n,{relative:e}={}){let{basename:t}=he.useContext(Is),r=he.useContext(Co);Ir(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Od(n||".",{relative:e})},u=ec();if(n==null){o.search=u.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(w=>w).forEach(w=>c.append("index",w));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ql([t,o.pathname])),bd(o)}function pN(n,{relative:e}={}){let t=he.useContext(wx);Ir(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Dx("useViewTransitionState"),a=Od(n,{relative:e});if(!t.isTransitioning)return!1;let o=$l(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=$l(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Sm(a.pathname,u)!=null||Sm(a.pathname,o)!=null}const mN=()=>{};var db={};const Ox=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},gN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],c=n[t++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},Px={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,c=u?n[a+1]:0,f=a+2<n.length,d=f?n[a+2]:0,g=o>>2,w=(o&3)<<4|c>>4;let A=(c&15)<<2|d>>6,_=d&63;f||(_=64,u||(A=64)),r.push(t[g],t[w],t[A],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ox(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):gN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],c=a<n.length?t[n.charAt(a)]:0;++a;const d=a<n.length?t[n.charAt(a)]:64;++a;const w=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||c==null||d==null||w==null)throw new yN;const A=o<<2|c>>4;if(r.push(A),d!==64){const _=c<<4&240|d>>2;if(r.push(_),w!==64){const P=d<<6&192|w;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class yN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vN=function(n){const e=Ox(n);return Px.encodeByteArray(e,!0)},Am=function(n){return vN(n).replace(/\./g,"")},jx=function(n){try{return Px.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _N=()=>bN().__FIREBASE_DEFAULTS__,wN=()=>{if(typeof process>"u"||typeof db>"u")return;const n=db.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},xN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&jx(n[1]);return e&&JSON.parse(e)},rg=()=>{try{return mN()||_N()||wN()||xN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Mx=n=>rg()?.emulatorHosts?.[n],SN=n=>{const e=Mx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ux=()=>rg()?.config,Fx=n=>rg()?.[`_${n}`];class AN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function sf(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bx(n){return(await fetch(n,{credentials:"include"})).ok}function EN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Am(JSON.stringify(t)),Am(JSON.stringify(u)),""].join(".")}const ud={};function NN(){const n={prod:[],emulator:[]};for(const e of Object.keys(ud))ud[e]?n.emulator.push(e):n.prod.push(e);return n}function TN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let pb=!1;function Vx(n,e){if(typeof window>"u"||typeof document>"u"||!sf(window.location.host)||ud[n]===e||ud[n]||pb)return;ud[n]=e;function t(A){return`__firebase__banner__${A}`}const r="__firebase__banner",o=NN().prod.length>0;function u(){const A=document.getElementById(r);A&&A.remove()}function c(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function f(A,_){A.setAttribute("width","24"),A.setAttribute("id",_),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function d(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{pb=!0,u()},A}function g(A,_){A.setAttribute("id",_),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=TN(r),_=t("text"),P=document.getElementById(_)||document.createElement("span"),I=t("learnmore"),L=document.getElementById(I)||document.createElement("a"),j=t("preprendIcon"),$=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const X=A.element;c(X),g(L,I);const Z=d();f($,j),X.append($,P,L,Z),document.body.appendChild(X)}o?(P.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Ca(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ca())}function RN(){const n=rg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function kN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DN(){const n=Ca();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ON(){return!RN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PN(){try{return typeof indexedDB=="object"}catch{return!1}}function jN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const MN="FirebaseError";class Zl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=MN,Object.setPrototypeOf(this,Zl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pd.prototype.create)}}class Pd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?UN(o,r):"Error",c=`${this.serviceName}: ${u} (${a}).`;return new Zl(a,c,r)}}function UN(n,e){return n.replace(FN,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const FN=/\{\$([^}]+)}/g;function BN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Lc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],u=e[a];if(mb(o)&&mb(u)){if(!Lc(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function mb(n){return n!==null&&typeof n=="object"}function jd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function rd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function VN(n,e){const t=new zN(n,e);return t.subscribe.bind(t)}class zN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");qN(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=K0),a.error===void 0&&(a.error=K0),a.complete===void 0&&(a.complete=K0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function K0(){}function Qr(n){return n&&n._delegate?n._delegate:n}class kc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sc="[DEFAULT]";class HN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new AN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WN(e))try{this.getOrInitializeService({instanceIdentifier:Sc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Sc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sc){return this.instances.has(e)}getOptions(e=Sc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sc){return this.component?this.component.multipleInstances?e:Sc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GN(n){return n===Sc?void 0:n}function WN(n){return n.instantiationMode==="EAGER"}class $N{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new HN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Sn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Sn||(Sn={}));const YN={debug:Sn.DEBUG,verbose:Sn.VERBOSE,info:Sn.INFO,warn:Sn.WARN,error:Sn.ERROR,silent:Sn.SILENT},KN=Sn.INFO,QN={[Sn.DEBUG]:"log",[Sn.VERBOSE]:"log",[Sn.INFO]:"info",[Sn.WARN]:"warn",[Sn.ERROR]:"error"},XN=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=QN[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class D2{constructor(e){this.name=e,this._logLevel=KN,this._logHandler=XN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Sn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Sn.DEBUG,...e),this._logHandler(this,Sn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Sn.VERBOSE,...e),this._logHandler(this,Sn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Sn.INFO,...e),this._logHandler(this,Sn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Sn.WARN,...e),this._logHandler(this,Sn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Sn.ERROR,...e),this._logHandler(this,Sn.ERROR,...e)}}const JN=(n,e)=>e.some(t=>n instanceof t);let gb,yb;function ZN(){return gb||(gb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eT(){return yb||(yb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zx=new WeakMap,j1=new WeakMap,qx=new WeakMap,Q0=new WeakMap,O2=new WeakMap;function tT(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(zu(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&zx.set(t,n)}).catch(()=>{}),O2.set(e,n),e}function nT(n){if(j1.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});j1.set(n,e)}let M1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return j1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||qx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function rT(n){M1=n(M1)}function iT(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(X0(this),e,...t);return qx.set(r,e.sort?e.sort():[e]),zu(r)}:eT().includes(n)?function(...e){return n.apply(X0(this),e),zu(zx.get(this))}:function(...e){return zu(n.apply(X0(this),e))}}function aT(n){return typeof n=="function"?iT(n):(n instanceof IDBTransaction&&nT(n),JN(n,ZN())?new Proxy(n,M1):n)}function zu(n){if(n instanceof IDBRequest)return tT(n);if(Q0.has(n))return Q0.get(n);const e=aT(n);return e!==n&&(Q0.set(n,e),O2.set(e,n)),e}const X0=n=>O2.get(n);function sT(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),c=zu(u);return r&&u.addEventListener("upgradeneeded",f=>{r(zu(u.result),f.oldVersion,f.newVersion,zu(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const oT=["get","getKey","getAll","getAllKeys","count"],lT=["put","add","delete","clear"],J0=new Map;function vb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(J0.get(e))return J0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=lT.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||oT.includes(t)))return;const o=async function(u,...c){const f=this.transaction(u,a?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),a&&f.done]))[0]};return J0.set(e,o),o}rT(n=>({...n,get:(e,t,r)=>vb(e,t)||n.get(e,t,r),has:(e,t)=>!!vb(e,t)||n.has(e,t)}));class uT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cT(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function cT(n){return n.getComponent()?.type==="VERSION"}const U1="@firebase/app",bb="0.14.7";const Yl=new D2("@firebase/app"),hT="@firebase/app-compat",fT="@firebase/analytics-compat",dT="@firebase/analytics",pT="@firebase/app-check-compat",mT="@firebase/app-check",gT="@firebase/auth",yT="@firebase/auth-compat",vT="@firebase/database",bT="@firebase/data-connect",_T="@firebase/database-compat",wT="@firebase/functions",xT="@firebase/functions-compat",ST="@firebase/installations",AT="@firebase/installations-compat",ET="@firebase/messaging",NT="@firebase/messaging-compat",TT="@firebase/performance",CT="@firebase/performance-compat",RT="@firebase/remote-config",IT="@firebase/remote-config-compat",LT="@firebase/storage",kT="@firebase/storage-compat",DT="@firebase/firestore",OT="@firebase/ai",PT="@firebase/firestore-compat",jT="firebase",MT="12.8.0";const F1="[DEFAULT]",UT={[U1]:"fire-core",[hT]:"fire-core-compat",[dT]:"fire-analytics",[fT]:"fire-analytics-compat",[mT]:"fire-app-check",[pT]:"fire-app-check-compat",[gT]:"fire-auth",[yT]:"fire-auth-compat",[vT]:"fire-rtdb",[bT]:"fire-data-connect",[_T]:"fire-rtdb-compat",[wT]:"fire-fn",[xT]:"fire-fn-compat",[ST]:"fire-iid",[AT]:"fire-iid-compat",[ET]:"fire-fcm",[NT]:"fire-fcm-compat",[TT]:"fire-perf",[CT]:"fire-perf-compat",[RT]:"fire-rc",[IT]:"fire-rc-compat",[LT]:"fire-gcs",[kT]:"fire-gcs-compat",[DT]:"fire-fst",[PT]:"fire-fst-compat",[OT]:"fire-vertex","fire-js":"fire-js",[jT]:"fire-js-all"};const Em=new Map,FT=new Map,B1=new Map;function _b(n,e){try{n.container.addComponent(e)}catch(t){Yl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function $h(n){const e=n.name;if(B1.has(e))return Yl.debug(`There were multiple attempts to register component ${e}.`),!1;B1.set(e,n);for(const t of Em.values())_b(t,n);for(const t of FT.values())_b(t,n);return!0}function P2(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Qs(n){return n==null?!1:n.settings!==void 0}const BT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qu=new Pd("app","Firebase",BT);class VT{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qu.create("app-deleted",{appName:this._name})}}const of=MT;function Hx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:F1,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw qu.create("bad-app-name",{appName:String(a)});if(t||(t=Ux()),!t)throw qu.create("no-options");const o=Em.get(a);if(o){if(Lc(t,o.options)&&Lc(r,o.config))return o;throw qu.create("duplicate-app",{appName:a})}const u=new $N(a);for(const f of B1.values())u.addComponent(f);const c=new VT(t,r,u);return Em.set(a,c),c}function Gx(n=F1){const e=Em.get(n);if(!e&&n===F1&&Ux())return Hx();if(!e)throw qu.create("no-app",{appName:n});return e}function Hu(n,e,t){let r=UT[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yl.warn(u.join(" "));return}$h(new kc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const zT="firebase-heartbeat-database",qT=1,_d="firebase-heartbeat-store";let Z0=null;function Wx(){return Z0||(Z0=sT(zT,qT,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_d)}catch(t){console.warn(t)}}}}).catch(n=>{throw qu.create("idb-open",{originalErrorMessage:n.message})})),Z0}async function HT(n){try{const t=(await Wx()).transaction(_d),r=await t.objectStore(_d).get($x(n));return await t.done,r}catch(e){if(e instanceof Zl)Yl.warn(e.message);else{const t=qu.create("idb-get",{originalErrorMessage:e?.message});Yl.warn(t.message)}}}async function wb(n,e){try{const r=(await Wx()).transaction(_d,"readwrite");await r.objectStore(_d).put(e,$x(n)),await r.done}catch(t){if(t instanceof Zl)Yl.warn(t.message);else{const r=qu.create("idb-set",{originalErrorMessage:t?.message});Yl.warn(r.message)}}}function $x(n){return`${n.name}!${n.options.appId}`}const GT=1024,WT=30;class $T{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new KT(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>WT){const a=QT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Yl.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xb(),{heartbeatsToSend:t,unsentEntries:r}=YT(this._heartbeatsCache.heartbeats),a=Am(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Yl.warn(e),""}}}function xb(){return new Date().toISOString().substring(0,10)}function YT(n,e=GT){const t=[];let r=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),Sb(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Sb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class KT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PN()?jN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await HT(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Sb(n){return Am(JSON.stringify({version:2,heartbeats:n})).length}function QT(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function XT(n){$h(new kc("platform-logger",e=>new uT(e),"PRIVATE")),$h(new kc("heartbeat",e=>new $T(e),"PRIVATE")),Hu(U1,bb,n),Hu(U1,bb,"esm2020"),Hu("fire-js","")}XT("");function Yx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JT=Yx,Kx=new Pd("auth","Firebase",Yx());const Nm=new D2("@firebase/auth");function ZT(n,...e){Nm.logLevel<=Sn.WARN&&Nm.warn(`Auth (${of}): ${n}`,...e)}function om(n,...e){Nm.logLevel<=Sn.ERROR&&Nm.error(`Auth (${of}): ${n}`,...e)}function Eo(n,...e){throw j2(n,...e)}function rl(n,...e){return j2(n,...e)}function Qx(n,e,t){const r={...JT(),[e]:t};return new Pd("auth","Firebase",r).create(e,{appName:n.name})}function Hl(n){return Qx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j2(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Kx.create(n,...e)}function zt(n,e,...t){if(!n)throw j2(e,...t)}function Bl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw om(e),new Error(e)}function Kl(n,e){n||Bl(e)}function V1(){return typeof self<"u"&&self.location?.href||""}function eC(){return Ab()==="http:"||Ab()==="https:"}function Ab(){return typeof self<"u"&&self.location?.protocol||null}function tC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eC()||LN()||"connection"in navigator)?navigator.onLine:!0}function nC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Md{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kl(t>e,"Short delay should be less than long delay!"),this.isMobile=CN()||kN()}get(){return tC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function M2(n,e){Kl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Xx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const iC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aC=new Md(3e4,6e4);function eu(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function tu(n,e,t,r,a={}){return Jx(n,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=jd({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return IN()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&sf(n.emulatorConfig.host)&&(d.credentials="include"),Xx.fetch()(await Zx(n,n.config.apiHost,t,c),d)})}async function Jx(n,e,t){n._canInitEmulator=!1;const r={...rC,...e};try{const a=new oC(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Gp(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gp(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Gp(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Gp(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Qx(n,g,d);Eo(n,g)}}catch(a){if(a instanceof Zl)throw a;Eo(n,"network-request-failed",{message:String(a)})}}async function Ud(n,e,t,r,a={}){const o=await tu(n,e,t,r,a);return"mfaPendingCredential"in o&&Eo(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Zx(n,e,t,r){const a=`${e}${t}?${r}`,o=n,u=o.config.emulator?M2(n.config,a):`${n.config.apiScheme}://${a}`;return iC.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function sC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(rl(this.auth,"network-request-failed")),aC.get())})}}function Gp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=rl(n,e,r);return a.customData._tokenResponse=t,a}function Eb(n){return n!==void 0&&n.enterprise!==void 0}class lC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return sC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uC(n,e){return tu(n,"GET","/v2/recaptchaConfig",eu(n,e))}async function cC(n,e){return tu(n,"POST","/v1/accounts:delete",e)}async function Tm(n,e){return tu(n,"POST","/v1/accounts:lookup",e)}function cd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hC(n,e=!1){const t=Qr(n),r=await t.getIdToken(e),a=U2(r);zt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:r,authTime:cd(e1(a.auth_time)),issuedAtTime:cd(e1(a.iat)),expirationTime:cd(e1(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function e1(n){return Number(n)*1e3}function U2(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return om("JWT malformed, contained fewer than 3 sections"),null;try{const a=jx(t);return a?JSON.parse(a):(om("Failed to decode base64 JWT payload"),null)}catch(a){return om("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Nb(n){const e=U2(n);return zt(e,"internal-error"),zt(typeof e.exp<"u","internal-error"),zt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wd(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Zl&&fC(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function fC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class dC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class z1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cd(this.lastLoginAt),this.creationTime=cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Cm(n){const e=n.auth,t=await n.getIdToken(),r=await wd(n,Tm(e,{idToken:t}));zt(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?e4(a.providerUserInfo):[],u=mC(n.providerData,o),c=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!u?.length,d=c?f:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new z1(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function pC(n){const e=Qr(n);await Cm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mC(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function e4(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function gC(n,e){const t=await Jx(n,{},async()=>{const r=jd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await Zx(n,a,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return n.emulatorConfig&&sf(n.emulatorConfig.host)&&(f.credentials="include"),Xx.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yC(n,e){return tu(n,"POST","/v2/accounts:revokeToken",eu(n,e))}class jh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){zt(e.idToken,"internal-error"),zt(typeof e.idToken<"u","internal-error"),zt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){zt(e.length!==0,"internal-error");const t=Nb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(zt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await gC(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,u=new jh;return r&&(zt(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(zt(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(zt(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jh,this.toJSON())}_performRefresh(){return Bl("not implemented")}}function ku(n,e){zt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xo{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new dC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new z1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await wd(this,this.stsTokenManager.getToken(this.auth,e));return zt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hC(this,e)}reload(){return pC(this)}_assign(e){this!==e&&(zt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Cm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qs(this.auth.app))return Promise.reject(Hl(this.auth));const e=await this.getIdToken();return await wd(this,cC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,c=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:_,providerData:P,stsTokenManager:I}=t;zt(w&&I,e,"internal-error");const L=jh.fromJSON(this.name,I);zt(typeof w=="string",e,"internal-error"),ku(r,e.name),ku(a,e.name),zt(typeof A=="boolean",e,"internal-error"),zt(typeof _=="boolean",e,"internal-error"),ku(o,e.name),ku(u,e.name),ku(c,e.name),ku(f,e.name),ku(d,e.name),ku(g,e.name);const j=new xo({uid:w,auth:e,email:a,emailVerified:A,displayName:r,isAnonymous:_,photoURL:u,phoneNumber:o,tenantId:c,stsTokenManager:L,createdAt:d,lastLoginAt:g});return P&&Array.isArray(P)&&(j.providerData=P.map($=>({...$}))),f&&(j._redirectEventId=f),j}static async _fromIdTokenResponse(e,t,r=!1){const a=new jh;a.updateFromServerResponse(t);const o=new xo({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Cm(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];zt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?e4(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,c=new jh;c.updateFromIdToken(r);const f=new xo({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new z1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const Tb=new Map;function Vl(n){Kl(n instanceof Function,"Expected a class definition");let e=Tb.get(n);return e?(Kl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Tb.set(n,e),e)}class t4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}t4.type="NONE";const Cb=t4;function lm(n,e,t){return`firebase:${n}:${e}:${t}`}class Mh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=lm(this.userKey,a.apiKey,o),this.fullPersistenceKey=lm("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Tm(this.auth,{idToken:e}).catch(()=>{});return t?xo._fromGetAccountInfoResponse(this.auth,t,e):null}return xo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Mh(Vl(Cb),e,r);const a=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=a[0]||Vl(Cb);const u=lm(r,e.config.apiKey,e.name);let c=null;for(const d of t)try{const g=await d._get(u);if(g){let w;if(typeof g=="string"){const A=await Tm(e,{idToken:g}).catch(()=>{});if(!A)break;w=await xo._fromGetAccountInfoResponse(e,A,g)}else w=xo._fromJSON(e,g);d!==o&&(c=w),o=d;break}}catch{}const f=a.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Mh(o,e,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Mh(o,e,r))}}function Rb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o4(e))return"Blackberry";if(l4(e))return"Webos";if(r4(e))return"Safari";if((e.includes("chrome/")||i4(e))&&!e.includes("edge/"))return"Chrome";if(s4(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function n4(n=Ca()){return/firefox\//i.test(n)}function r4(n=Ca()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i4(n=Ca()){return/crios\//i.test(n)}function a4(n=Ca()){return/iemobile/i.test(n)}function s4(n=Ca()){return/android/i.test(n)}function o4(n=Ca()){return/blackberry/i.test(n)}function l4(n=Ca()){return/webos/i.test(n)}function F2(n=Ca()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vC(n=Ca()){return F2(n)&&!!window.navigator?.standalone}function bC(){return DN()&&document.documentMode===10}function u4(n=Ca()){return F2(n)||s4(n)||l4(n)||o4(n)||/windows phone/i.test(n)||a4(n)}function c4(n,e=[]){let t;switch(n){case"Browser":t=Rb(Ca());break;case"Worker":t=`${Rb(Ca())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${of}/${r}`}class _C{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,c)=>{try{const f=e(o);u(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function wC(n,e={}){return tu(n,"GET","/v2/passwordPolicy",eu(n,e))}const xC=6;class SC{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??xC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class AC{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ib(this),this.idTokenSubscription=new Ib(this),this.beforeStateQueue=new _C(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vl(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Tm(this,{idToken:e}),r=await xo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&c?.user&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return zt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Cm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qs(this.app))return Promise.reject(Hl(this));const t=e?Qr(e):null;return t&&zt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&zt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qs(this.app)?Promise.reject(Hl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qs(this.app)?Promise.reject(Hl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wC(this),t=new SC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await yC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vl(e)||this._popupRedirectResolver;zt(t,this,"argument-error"),this.redirectPersistenceManager=await Mh.create(this,[Vl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(zt(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=c4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Qs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ZT(`Error while retrieving App Check token: ${e.error}`),e?.token}}function tc(n){return Qr(n)}class Ib{constructor(e){this.auth=e,this.observer=null,this.addObserver=VN(t=>this.observer=t)}get next(){return zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ig={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EC(n){ig=n}function h4(n){return ig.loadJS(n)}function NC(){return ig.recaptchaEnterpriseScript}function TC(){return ig.gapiScript}function CC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class RC{constructor(){this.enterprise=new IC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class IC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const LC="recaptcha-enterprise",f4="NO_RECAPTCHA";class kC{constructor(e){this.type=LC,this.auth=tc(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,c)=>{uC(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new lC(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{c(f)})})}function a(o,u,c){const f=window.grecaptcha;Eb(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(f4)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RC().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(c=>{if(!t&&Eb(window.grecaptcha))a(c,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=NC();f.length!==0&&(f+=c),h4(f).then(()=>{a(c,o,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function Lb(n,e,t,r=!1,a=!1){const o=new kC(n);let u;if(a)u=f4;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Rm(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Lb(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Lb(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(o)})}function DC(n,e){const t=P2(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Lc(o,e??{}))return a;Eo(a,"already-initialized")}return t.initialize({options:e})}function OC(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Vl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function PC(n,e,t){const r=tc(n);zt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=d4(e),{host:u,port:c}=jC(e),f=c===null?"":`:${c}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){zt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),zt(Lc(d,r.config.emulator)&&Lc(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,sf(u)?(Bx(`${o}//${u}${f}`),Vx("Auth",!0)):MC()}function d4(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jC(n){const e=d4(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:kb(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:kb(u)}}}function kb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function MC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class B2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bl("not implemented")}_getIdTokenResponse(e){return Bl("not implemented")}_linkToIdToken(e,t){return Bl("not implemented")}_getReauthenticationResolver(e){return Bl("not implemented")}}async function UC(n,e){return tu(n,"POST","/v1/accounts:signUp",e)}async function FC(n,e){return Ud(n,"POST","/v1/accounts:signInWithPassword",eu(n,e))}async function p4(n,e){return tu(n,"POST","/v1/accounts:sendOobCode",eu(n,e))}async function BC(n,e){return p4(n,e)}async function VC(n,e){return p4(n,e)}async function zC(n,e){return Ud(n,"POST","/v1/accounts:signInWithEmailLink",eu(n,e))}async function qC(n,e){return Ud(n,"POST","/v1/accounts:signInWithEmailLink",eu(n,e))}class xd extends B2{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new xd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new xd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(e,t,"signInWithPassword",FC);case"emailLink":return zC(e,{email:this._email,oobCode:this._password});default:Eo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rm(e,r,"signUpPassword",UC);case"emailLink":return qC(e,{idToken:t,email:this._email,oobCode:this._password});default:Eo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Uh(n,e){return Ud(n,"POST","/v1/accounts:signInWithIdp",eu(n,e))}const HC="http://localhost";class Dc extends B2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Dc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Eo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=t;if(!r||!a)return null;const u=new Dc(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Uh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Uh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Uh(e,t)}buildRequest(){const e={requestUri:HC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=jd(t)}return e}}function GC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WC(n){const e=nd(rd(n)).link,t=e?nd(rd(e)).deep_link_id:null,r=nd(rd(n)).deep_link_id;return(r?nd(rd(r)).link:null)||r||t||e||n}class V2{constructor(e){const t=nd(rd(e)),r=t.apiKey??null,a=t.oobCode??null,o=GC(t.mode??null);zt(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=WC(e);try{return new V2(t)}catch{return null}}}class lf{constructor(){this.providerId=lf.PROVIDER_ID}static credential(e,t){return xd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=V2.parseLink(t);return zt(r,"argument-error"),xd._fromEmailAndCode(e,r.code,r.tenantId)}}lf.PROVIDER_ID="password";lf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class m4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fd extends m4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Pu extends Fd{constructor(){super("facebook.com")}static credential(e){return Dc._fromParams({providerId:Pu.PROVIDER_ID,signInMethod:Pu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pu.credentialFromTaggedObject(e)}static credentialFromError(e){return Pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pu.credential(e.oauthAccessToken)}catch{return null}}}Pu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pu.PROVIDER_ID="facebook.com";class ju extends Fd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Dc._fromParams({providerId:ju.PROVIDER_ID,signInMethod:ju.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ju.credentialFromTaggedObject(e)}static credentialFromError(e){return ju.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ju.credential(t,r)}catch{return null}}}ju.GOOGLE_SIGN_IN_METHOD="google.com";ju.PROVIDER_ID="google.com";class Mu extends Fd{constructor(){super("github.com")}static credential(e){return Dc._fromParams({providerId:Mu.PROVIDER_ID,signInMethod:Mu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mu.credentialFromTaggedObject(e)}static credentialFromError(e){return Mu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mu.credential(e.oauthAccessToken)}catch{return null}}}Mu.GITHUB_SIGN_IN_METHOD="github.com";Mu.PROVIDER_ID="github.com";class Uu extends Fd{constructor(){super("twitter.com")}static credential(e,t){return Dc._fromParams({providerId:Uu.PROVIDER_ID,signInMethod:Uu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Uu.credentialFromTaggedObject(e)}static credentialFromError(e){return Uu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Uu.credential(t,r)}catch{return null}}}Uu.TWITTER_SIGN_IN_METHOD="twitter.com";Uu.PROVIDER_ID="twitter.com";async function $C(n,e){return Ud(n,"POST","/v1/accounts:signUp",eu(n,e))}class Oc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await xo._fromIdTokenResponse(e,r,a),u=Db(r);return new Oc({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=Db(r);return new Oc({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function Db(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Im extends Zl{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Im.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Im(e,t,r,a)}}function g4(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Im._fromErrorAndOperation(n,o,e,r):o})}async function YC(n,e,t=!1){const r=await wd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Oc._forOperation(n,"link",r)}async function KC(n,e,t=!1){const{auth:r}=n;if(Qs(r.app))return Promise.reject(Hl(r));const a="reauthenticate";try{const o=await wd(n,g4(r,a,e,n),t);zt(o.idToken,r,"internal-error");const u=U2(o.idToken);zt(u,r,"internal-error");const{sub:c}=u;return zt(n.uid===c,r,"user-mismatch"),Oc._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Eo(r,"user-mismatch"),o}}async function y4(n,e,t=!1){if(Qs(n.app))return Promise.reject(Hl(n));const r="signIn",a=await g4(n,r,e),o=await Oc._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function QC(n,e){return y4(tc(n),e)}async function v4(n){const e=tc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XC(n,e,t){const r=tc(n);await Rm(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",VC)}async function JC(n,e,t){if(Qs(n.app))return Promise.reject(Hl(n));const r=tc(n),u=await Rm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$C).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&v4(n),f}),c=await Oc._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function ZC(n,e,t){return Qs(n.app)?Promise.reject(Hl(n)):QC(Qr(n),lf.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&v4(n),r})}async function e8(n,e){const t=Qr(n),a={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:o}=await BC(t.auth,a);o!==n.email&&await n.reload()}function t8(n,e,t,r){return Qr(n).onIdTokenChanged(e,t,r)}function n8(n,e,t){return Qr(n).beforeAuthStateChanged(e,t)}function r8(n,e,t,r){return Qr(n).onAuthStateChanged(e,t,r)}function b4(n){return Qr(n).signOut()}const Lm="__sak";class _4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lm,"1"),this.storage.removeItem(Lm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const i8=1e3,a8=10;class w4 extends _4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=u4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);bC()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,a8):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},i8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}w4.type="LOCAL";const s8=w4;class x4 extends _4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}x4.type="SESSION";const S4=x4;function o8(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class ag{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new ag(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const c=Array.from(u).map(async d=>d(t.origin,o)),f=await o8(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ag.receivers=[];function z2(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class l8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const d=z2("",20);a.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(w){const A=w;if(A.data.eventId===d)switch(A.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(A.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function il(){return window}function u8(n){il().location.href=n}function A4(){return typeof il().WorkerGlobalScope<"u"&&typeof il().importScripts=="function"}async function c8(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h8(){return navigator?.serviceWorker?.controller||null}function f8(){return A4()?self:null}const E4="firebaseLocalStorageDb",d8=1,km="firebaseLocalStorage",N4="fbase_key";class Bd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sg(n,e){return n.transaction([km],e?"readwrite":"readonly").objectStore(km)}function p8(){const n=indexedDB.deleteDatabase(E4);return new Bd(n).toPromise()}function q1(){const n=indexedDB.open(E4,d8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(km,{keyPath:N4})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(km)?e(r):(r.close(),await p8(),e(await q1()))})})}async function Ob(n,e,t){const r=sg(n,!0).put({[N4]:e,value:t});return new Bd(r).toPromise()}async function m8(n,e){const t=sg(n,!1).get(e),r=await new Bd(t).toPromise();return r===void 0?null:r.value}function Pb(n,e){const t=sg(n,!0).delete(e);return new Bd(t).toPromise()}const g8=800,y8=3;class T4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await q1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>y8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ag._getInstance(f8()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await c8(),!this.activeServiceWorker)return;this.sender=new l8(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await q1();return await Ob(e,Lm,"1"),await Pb(e,Lm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ob(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>m8(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Pb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=sg(a,!1).getAll();return new Bd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T4.type="LOCAL";const v8=T4;new Md(3e4,6e4);function b8(n,e){return e?Vl(e):(zt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class q2 extends B2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Uh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Uh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _8(n){return y4(n.auth,new q2(n),n.bypassAuthState)}function w8(n){const{auth:e,user:t}=n;return zt(t,e,"internal-error"),KC(t,new q2(n),n.bypassAuthState)}async function x8(n){const{auth:e,user:t}=n;return zt(t,e,"internal-error"),YC(t,new q2(n),n.bypassAuthState)}class C4{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _8;case"linkViaPopup":case"linkViaRedirect":return x8;case"reauthViaPopup":case"reauthViaRedirect":return w8;default:Eo(this.auth,"internal-error")}}resolve(e){Kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const S8=new Md(2e3,1e4);class Oh extends C4{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Oh.currentPopupAction&&Oh.currentPopupAction.cancel(),Oh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return zt(e,this.auth,"internal-error"),e}async onExecution(){Kl(this.filter.length===1,"Popup operations only handle one event");const e=z2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(rl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(rl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S8.get())};e()}}Oh.currentPopupAction=null;const A8="pendingRedirect",um=new Map;class E8 extends C4{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=um.get(this.auth._key());if(!e){try{const r=await N8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}um.set(this.auth._key(),e)}return this.bypassAuthState||um.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N8(n,e){const t=R8(e),r=C8(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function T8(n,e){um.set(n._key(),e)}function C8(n){return Vl(n._redirectPersistence)}function R8(n){return lm(A8,n.config.apiKey,n.name)}async function I8(n,e,t=!1){if(Qs(n.app))return Promise.reject(Hl(n));const r=tc(n),a=b8(r,e),u=await new E8(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const L8=600*1e3;class k8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D8(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!R4(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(rl(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L8&&this.cachedEventUids.clear(),this.cachedEventUids.has(jb(e))}saveEventToCache(e){this.cachedEventUids.add(jb(e)),this.lastProcessedEventTime=Date.now()}}function jb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function R4({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function D8(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return R4(n);default:return!1}}async function O8(n,e={}){return tu(n,"GET","/v1/projects",e)}const P8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j8=/^https?/;async function M8(n){if(n.config.emulator)return;const{authorizedDomains:e}=await O8(n);for(const t of e)try{if(U8(t))return}catch{}Eo(n,"unauthorized-domain")}function U8(n){const e=V1(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!j8.test(t))return!1;if(P8.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const F8=new Md(3e4,6e4);function Mb(){const n=il().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function B8(n){return new Promise((e,t)=>{function r(){Mb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mb(),t(rl(n,"network-request-failed"))},timeout:F8.get()})}if(il().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(il().gapi?.load)r();else{const a=CC("iframefcb");return il()[a]=()=>{gapi.load?r():t(rl(n,"network-request-failed"))},h4(`${TC()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw cm=null,e})}let cm=null;function V8(n){return cm=cm||B8(n),cm}const z8=new Md(5e3,15e3),q8="__/auth/iframe",H8="emulator/auth/iframe",G8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $8(n){const e=n.config;zt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?M2(e,H8):`https://${n.config.authDomain}/${q8}`,r={apiKey:e.apiKey,appName:n.name,v:of},a=W8.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${jd(r).slice(1)}`}async function Y8(n){const e=await V8(n),t=il().gapi;return zt(t,n,"internal-error"),e.open({where:document.body,url:$8(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G8,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=rl(n,"network-request-failed"),c=il().setTimeout(()=>{o(u)},z8.get());function f(){il().clearTimeout(c),a(r)}r.ping(f).then(f,()=>{o(u)})}))}const K8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q8=500,X8=600,J8="_blank",Z8="http://localhost";class Ub{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eR(n,e,t,r=Q8,a=X8){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...K8,width:r.toString(),height:a.toString(),top:o,left:u},d=Ca().toLowerCase();t&&(c=i4(d)?J8:t),n4(d)&&(e=e||Z8,f.scrollbars="yes");const g=Object.entries(f).reduce((A,[_,P])=>`${A}${_}=${P},`,"");if(vC(d)&&c!=="_self")return tR(e||"",c),new Ub(null);const w=window.open(e||"",c,g);zt(w,n,"popup-blocked");try{w.focus()}catch{}return new Ub(w)}function tR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const nR="__/auth/handler",rR="emulator/auth/handler",iR=encodeURIComponent("fac");async function Fb(n,e,t,r,a,o){zt(n.config.authDomain,n,"auth-domain-config-required"),zt(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:of,eventId:a};if(e instanceof m4){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",BN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))u[g]=w}if(e instanceof Fd){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),d=f?`#${iR}=${encodeURIComponent(f)}`:"";return`${aR(n)}?${jd(c).slice(1)}${d}`}function aR({config:n}){return n.emulator?M2(n,rR):`https://${n.authDomain}/${nR}`}const t1="webStorageSupport";class sR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S4,this._completeRedirectFn=I8,this._overrideRedirectResult=T8}async _openPopup(e,t,r,a){Kl(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Fb(e,t,r,V1(),a);return eR(e,o,z2())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await Fb(e,t,r,V1(),a);return u8(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Kl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Y8(e),r=new k8(e);return t.register("authEvent",a=>(zt(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(t1,{type:t1},a=>{const o=a?.[0]?.[t1];o!==void 0&&t(!!o),Eo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=M8(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return u4()||r4()||F2()}}const oR=sR;var Bb="@firebase/auth",Vb="1.12.0";class lR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cR(n){$h(new kc("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;zt(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:c4(n)},d=new AC(r,a,o,f);return OC(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),$h(new kc("auth-internal",e=>{const t=tc(e.getProvider("auth").getImmediate());return(r=>new lR(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hu(Bb,Vb,uR(n)),Hu(Bb,Vb,"esm2020")}const hR=300,fR=Fx("authIdTokenMaxAge")||hR;let zb=null;const dR=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>fR)return;const a=t?.token;zb!==a&&(zb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function pR(n=Gx()){const e=P2(n,"auth");if(e.isInitialized())return e.getImmediate();const t=DC(n,{popupRedirectResolver:oR,persistence:[v8,s8,S4]}),r=Fx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=dR(o.toString());n8(t,u,()=>u(t.currentUser)),t8(t,c=>u(c))}}const a=Mx("auth");return a&&PC(t,`http://${a}`),t}function mR(){return document.getElementsByTagName("head")?.[0]??document}EC({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=rl("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",mR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cR("Browser");var qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gu,I4;(function(){var n;function e(z,U){function k(){}k.prototype=U.prototype,z.F=U.prototype,z.prototype=new k,z.prototype.constructor=z,z.D=function(H,C,M){for(var F=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)F[ue-2]=arguments[ue];return U.prototype[C].apply(H,F)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(z,U,k){k||(k=0);const H=Array(16);if(typeof U=="string")for(var C=0;C<16;++C)H[C]=U.charCodeAt(k++)|U.charCodeAt(k++)<<8|U.charCodeAt(k++)<<16|U.charCodeAt(k++)<<24;else for(C=0;C<16;++C)H[C]=U[k++]|U[k++]<<8|U[k++]<<16|U[k++]<<24;U=z.g[0],k=z.g[1],C=z.g[2];let M=z.g[3],F;F=U+(M^k&(C^M))+H[0]+3614090360&4294967295,U=k+(F<<7&4294967295|F>>>25),F=M+(C^U&(k^C))+H[1]+3905402710&4294967295,M=U+(F<<12&4294967295|F>>>20),F=C+(k^M&(U^k))+H[2]+606105819&4294967295,C=M+(F<<17&4294967295|F>>>15),F=k+(U^C&(M^U))+H[3]+3250441966&4294967295,k=C+(F<<22&4294967295|F>>>10),F=U+(M^k&(C^M))+H[4]+4118548399&4294967295,U=k+(F<<7&4294967295|F>>>25),F=M+(C^U&(k^C))+H[5]+1200080426&4294967295,M=U+(F<<12&4294967295|F>>>20),F=C+(k^M&(U^k))+H[6]+2821735955&4294967295,C=M+(F<<17&4294967295|F>>>15),F=k+(U^C&(M^U))+H[7]+4249261313&4294967295,k=C+(F<<22&4294967295|F>>>10),F=U+(M^k&(C^M))+H[8]+1770035416&4294967295,U=k+(F<<7&4294967295|F>>>25),F=M+(C^U&(k^C))+H[9]+2336552879&4294967295,M=U+(F<<12&4294967295|F>>>20),F=C+(k^M&(U^k))+H[10]+4294925233&4294967295,C=M+(F<<17&4294967295|F>>>15),F=k+(U^C&(M^U))+H[11]+2304563134&4294967295,k=C+(F<<22&4294967295|F>>>10),F=U+(M^k&(C^M))+H[12]+1804603682&4294967295,U=k+(F<<7&4294967295|F>>>25),F=M+(C^U&(k^C))+H[13]+4254626195&4294967295,M=U+(F<<12&4294967295|F>>>20),F=C+(k^M&(U^k))+H[14]+2792965006&4294967295,C=M+(F<<17&4294967295|F>>>15),F=k+(U^C&(M^U))+H[15]+1236535329&4294967295,k=C+(F<<22&4294967295|F>>>10),F=U+(C^M&(k^C))+H[1]+4129170786&4294967295,U=k+(F<<5&4294967295|F>>>27),F=M+(k^C&(U^k))+H[6]+3225465664&4294967295,M=U+(F<<9&4294967295|F>>>23),F=C+(U^k&(M^U))+H[11]+643717713&4294967295,C=M+(F<<14&4294967295|F>>>18),F=k+(M^U&(C^M))+H[0]+3921069994&4294967295,k=C+(F<<20&4294967295|F>>>12),F=U+(C^M&(k^C))+H[5]+3593408605&4294967295,U=k+(F<<5&4294967295|F>>>27),F=M+(k^C&(U^k))+H[10]+38016083&4294967295,M=U+(F<<9&4294967295|F>>>23),F=C+(U^k&(M^U))+H[15]+3634488961&4294967295,C=M+(F<<14&4294967295|F>>>18),F=k+(M^U&(C^M))+H[4]+3889429448&4294967295,k=C+(F<<20&4294967295|F>>>12),F=U+(C^M&(k^C))+H[9]+568446438&4294967295,U=k+(F<<5&4294967295|F>>>27),F=M+(k^C&(U^k))+H[14]+3275163606&4294967295,M=U+(F<<9&4294967295|F>>>23),F=C+(U^k&(M^U))+H[3]+4107603335&4294967295,C=M+(F<<14&4294967295|F>>>18),F=k+(M^U&(C^M))+H[8]+1163531501&4294967295,k=C+(F<<20&4294967295|F>>>12),F=U+(C^M&(k^C))+H[13]+2850285829&4294967295,U=k+(F<<5&4294967295|F>>>27),F=M+(k^C&(U^k))+H[2]+4243563512&4294967295,M=U+(F<<9&4294967295|F>>>23),F=C+(U^k&(M^U))+H[7]+1735328473&4294967295,C=M+(F<<14&4294967295|F>>>18),F=k+(M^U&(C^M))+H[12]+2368359562&4294967295,k=C+(F<<20&4294967295|F>>>12),F=U+(k^C^M)+H[5]+4294588738&4294967295,U=k+(F<<4&4294967295|F>>>28),F=M+(U^k^C)+H[8]+2272392833&4294967295,M=U+(F<<11&4294967295|F>>>21),F=C+(M^U^k)+H[11]+1839030562&4294967295,C=M+(F<<16&4294967295|F>>>16),F=k+(C^M^U)+H[14]+4259657740&4294967295,k=C+(F<<23&4294967295|F>>>9),F=U+(k^C^M)+H[1]+2763975236&4294967295,U=k+(F<<4&4294967295|F>>>28),F=M+(U^k^C)+H[4]+1272893353&4294967295,M=U+(F<<11&4294967295|F>>>21),F=C+(M^U^k)+H[7]+4139469664&4294967295,C=M+(F<<16&4294967295|F>>>16),F=k+(C^M^U)+H[10]+3200236656&4294967295,k=C+(F<<23&4294967295|F>>>9),F=U+(k^C^M)+H[13]+681279174&4294967295,U=k+(F<<4&4294967295|F>>>28),F=M+(U^k^C)+H[0]+3936430074&4294967295,M=U+(F<<11&4294967295|F>>>21),F=C+(M^U^k)+H[3]+3572445317&4294967295,C=M+(F<<16&4294967295|F>>>16),F=k+(C^M^U)+H[6]+76029189&4294967295,k=C+(F<<23&4294967295|F>>>9),F=U+(k^C^M)+H[9]+3654602809&4294967295,U=k+(F<<4&4294967295|F>>>28),F=M+(U^k^C)+H[12]+3873151461&4294967295,M=U+(F<<11&4294967295|F>>>21),F=C+(M^U^k)+H[15]+530742520&4294967295,C=M+(F<<16&4294967295|F>>>16),F=k+(C^M^U)+H[2]+3299628645&4294967295,k=C+(F<<23&4294967295|F>>>9),F=U+(C^(k|~M))+H[0]+4096336452&4294967295,U=k+(F<<6&4294967295|F>>>26),F=M+(k^(U|~C))+H[7]+1126891415&4294967295,M=U+(F<<10&4294967295|F>>>22),F=C+(U^(M|~k))+H[14]+2878612391&4294967295,C=M+(F<<15&4294967295|F>>>17),F=k+(M^(C|~U))+H[5]+4237533241&4294967295,k=C+(F<<21&4294967295|F>>>11),F=U+(C^(k|~M))+H[12]+1700485571&4294967295,U=k+(F<<6&4294967295|F>>>26),F=M+(k^(U|~C))+H[3]+2399980690&4294967295,M=U+(F<<10&4294967295|F>>>22),F=C+(U^(M|~k))+H[10]+4293915773&4294967295,C=M+(F<<15&4294967295|F>>>17),F=k+(M^(C|~U))+H[1]+2240044497&4294967295,k=C+(F<<21&4294967295|F>>>11),F=U+(C^(k|~M))+H[8]+1873313359&4294967295,U=k+(F<<6&4294967295|F>>>26),F=M+(k^(U|~C))+H[15]+4264355552&4294967295,M=U+(F<<10&4294967295|F>>>22),F=C+(U^(M|~k))+H[6]+2734768916&4294967295,C=M+(F<<15&4294967295|F>>>17),F=k+(M^(C|~U))+H[13]+1309151649&4294967295,k=C+(F<<21&4294967295|F>>>11),F=U+(C^(k|~M))+H[4]+4149444226&4294967295,U=k+(F<<6&4294967295|F>>>26),F=M+(k^(U|~C))+H[11]+3174756917&4294967295,M=U+(F<<10&4294967295|F>>>22),F=C+(U^(M|~k))+H[2]+718787259&4294967295,C=M+(F<<15&4294967295|F>>>17),F=k+(M^(C|~U))+H[9]+3951481745&4294967295,z.g[0]=z.g[0]+U&4294967295,z.g[1]=z.g[1]+(C+(F<<21&4294967295|F>>>11))&4294967295,z.g[2]=z.g[2]+C&4294967295,z.g[3]=z.g[3]+M&4294967295}r.prototype.v=function(z,U){U===void 0&&(U=z.length);const k=U-this.blockSize,H=this.C;let C=this.h,M=0;for(;M<U;){if(C==0)for(;M<=k;)a(this,z,M),M+=this.blockSize;if(typeof z=="string"){for(;M<U;)if(H[C++]=z.charCodeAt(M++),C==this.blockSize){a(this,H),C=0;break}}else for(;M<U;)if(H[C++]=z[M++],C==this.blockSize){a(this,H),C=0;break}}this.h=C,this.o+=U},r.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var U=1;U<z.length-8;++U)z[U]=0;U=this.o*8;for(var k=z.length-8;k<z.length;++k)z[k]=U&255,U/=256;for(this.v(z),z=Array(16),U=0,k=0;k<4;++k)for(let H=0;H<32;H+=8)z[U++]=this.g[k]>>>H&255;return z};function o(z,U){var k=c;return Object.prototype.hasOwnProperty.call(k,z)?k[z]:k[z]=U(z)}function u(z,U){this.h=U;const k=[];let H=!0;for(let C=z.length-1;C>=0;C--){const M=z[C]|0;H&&M==U||(k[C]=M,H=!1)}this.g=k}var c={};function f(z){return-128<=z&&z<128?o(z,function(U){return new u([U|0],U<0?-1:0)}):new u([z|0],z<0?-1:0)}function d(z){if(isNaN(z)||!isFinite(z))return w;if(z<0)return L(d(-z));const U=[];let k=1;for(let H=0;z>=k;H++)U[H]=z/k|0,k*=4294967296;return new u(U,0)}function g(z,U){if(z.length==0)throw Error("number format error: empty string");if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(z.charAt(0)=="-")return L(g(z.substring(1),U));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=d(Math.pow(U,8));let H=w;for(let M=0;M<z.length;M+=8){var C=Math.min(8,z.length-M);const F=parseInt(z.substring(M,M+C),U);C<8?(C=d(Math.pow(U,C)),H=H.j(C).add(d(F))):(H=H.j(k),H=H.add(d(F)))}return H}var w=f(0),A=f(1),_=f(16777216);n=u.prototype,n.m=function(){if(I(this))return-L(this).m();let z=0,U=1;for(let k=0;k<this.g.length;k++){const H=this.i(k);z+=(H>=0?H:4294967296+H)*U,U*=4294967296}return z},n.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(P(this))return"0";if(I(this))return"-"+L(this).toString(z);const U=d(Math.pow(z,6));var k=this;let H="";for(;;){const C=Z(k,U).g;k=j(k,C.j(U));let M=((k.g.length>0?k.g[0]:k.h)>>>0).toString(z);if(k=C,P(k))return M+H;for(;M.length<6;)M="0"+M;H=M+H}},n.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function P(z){if(z.h!=0)return!1;for(let U=0;U<z.g.length;U++)if(z.g[U]!=0)return!1;return!0}function I(z){return z.h==-1}n.l=function(z){return z=j(this,z),I(z)?-1:P(z)?0:1};function L(z){const U=z.g.length,k=[];for(let H=0;H<U;H++)k[H]=~z.g[H];return new u(k,~z.h).add(A)}n.abs=function(){return I(this)?L(this):this},n.add=function(z){const U=Math.max(this.g.length,z.g.length),k=[];let H=0;for(let C=0;C<=U;C++){let M=H+(this.i(C)&65535)+(z.i(C)&65535),F=(M>>>16)+(this.i(C)>>>16)+(z.i(C)>>>16);H=F>>>16,M&=65535,F&=65535,k[C]=F<<16|M}return new u(k,k[k.length-1]&-2147483648?-1:0)};function j(z,U){return z.add(L(U))}n.j=function(z){if(P(this)||P(z))return w;if(I(this))return I(z)?L(this).j(L(z)):L(L(this).j(z));if(I(z))return L(this.j(L(z)));if(this.l(_)<0&&z.l(_)<0)return d(this.m()*z.m());const U=this.g.length+z.g.length,k=[];for(var H=0;H<2*U;H++)k[H]=0;for(H=0;H<this.g.length;H++)for(let C=0;C<z.g.length;C++){const M=this.i(H)>>>16,F=this.i(H)&65535,ue=z.i(C)>>>16,Ne=z.i(C)&65535;k[2*H+2*C]+=F*Ne,$(k,2*H+2*C),k[2*H+2*C+1]+=M*Ne,$(k,2*H+2*C+1),k[2*H+2*C+1]+=F*ue,$(k,2*H+2*C+1),k[2*H+2*C+2]+=M*ue,$(k,2*H+2*C+2)}for(z=0;z<U;z++)k[z]=k[2*z+1]<<16|k[2*z];for(z=U;z<2*U;z++)k[z]=0;return new u(k,0)};function $(z,U){for(;(z[U]&65535)!=z[U];)z[U+1]+=z[U]>>>16,z[U]&=65535,U++}function X(z,U){this.g=z,this.h=U}function Z(z,U){if(P(U))throw Error("division by zero");if(P(z))return new X(w,w);if(I(z))return U=Z(L(z),U),new X(L(U.g),L(U.h));if(I(U))return U=Z(z,L(U)),new X(L(U.g),U.h);if(z.g.length>30){if(I(z)||I(U))throw Error("slowDivide_ only works with positive integers.");for(var k=A,H=U;H.l(z)<=0;)k=se(k),H=se(H);var C=_e(k,1),M=_e(H,1);for(H=_e(H,2),k=_e(k,2);!P(H);){var F=M.add(H);F.l(z)<=0&&(C=C.add(k),M=F),H=_e(H,1),k=_e(k,1)}return U=j(z,C.j(U)),new X(C,U)}for(C=w;z.l(U)>=0;){for(k=Math.max(1,Math.floor(z.m()/U.m())),H=Math.ceil(Math.log(k)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),M=d(k),F=M.j(U);I(F)||F.l(z)>0;)k-=H,M=d(k),F=M.j(U);P(M)&&(M=A),C=C.add(M),z=j(z,F)}return new X(C,z)}n.B=function(z){return Z(this,z).h},n.and=function(z){const U=Math.max(this.g.length,z.g.length),k=[];for(let H=0;H<U;H++)k[H]=this.i(H)&z.i(H);return new u(k,this.h&z.h)},n.or=function(z){const U=Math.max(this.g.length,z.g.length),k=[];for(let H=0;H<U;H++)k[H]=this.i(H)|z.i(H);return new u(k,this.h|z.h)},n.xor=function(z){const U=Math.max(this.g.length,z.g.length),k=[];for(let H=0;H<U;H++)k[H]=this.i(H)^z.i(H);return new u(k,this.h^z.h)};function se(z){const U=z.g.length+1,k=[];for(let H=0;H<U;H++)k[H]=z.i(H)<<1|z.i(H-1)>>>31;return new u(k,z.h)}function _e(z,U){const k=U>>5;U%=32;const H=z.g.length-k,C=[];for(let M=0;M<H;M++)C[M]=U>0?z.i(M+k)>>>U|z.i(M+k+1)<<32-U:z.i(M+k);return new u(C,z.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,I4=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,Gu=u}).apply(typeof qb<"u"?qb:typeof self<"u"?self:typeof window<"u"?window:{});var Wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var L4,id,k4,hm,H1,D4,O4,P4;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wp=="object"&&Wp];for(var N=0;N<m.length;++N){var O=m[N];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=t(this);function a(m,N){if(N)e:{var O=r;m=m.split(".");for(var J=0;J<m.length-1;J++){var Se=m[J];if(!(Se in O))break e;O=O[Se]}m=m[m.length-1],J=O[m],N=N(J),N!=J&&N!=null&&e(O,m,{configurable:!0,writable:!0,value:N})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(N){var O=[],J;for(J in N)Object.prototype.hasOwnProperty.call(N,J)&&O.push([J,N[J]]);return O}});var o=o||{},u=this||self;function c(m){var N=typeof m;return N=="object"&&m!=null||N=="function"}function f(m,N,O){return m.call.apply(m.bind,arguments)}function d(m,N,O){return d=f,d.apply(null,arguments)}function g(m,N){var O=Array.prototype.slice.call(arguments,1);return function(){var J=O.slice();return J.push.apply(J,arguments),m.apply(this,J)}}function w(m,N){function O(){}O.prototype=N.prototype,m.Z=N.prototype,m.prototype=new O,m.prototype.constructor=m,m.Ob=function(J,Se,ke){for(var Je=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)Je[Ht-2]=arguments[Ht];return N.prototype[Se].apply(J,Je)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function _(m){const N=m.length;if(N>0){const O=Array(N);for(let J=0;J<N;J++)O[J]=m[J];return O}return[]}function P(m,N){for(let J=1;J<arguments.length;J++){const Se=arguments[J];var O=typeof Se;if(O=O!="object"?O:Se?Array.isArray(Se)?"array":O:"null",O=="array"||O=="object"&&typeof Se.length=="number"){O=m.length||0;const ke=Se.length||0;m.length=O+ke;for(let Je=0;Je<ke;Je++)m[O+Je]=Se[Je]}else m.push(Se)}}class I{constructor(N,O){this.i=N,this.j=O,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function L(m){u.setTimeout(()=>{throw m},0)}function j(){var m=z;let N=null;return m.g&&(N=m.g,m.g=m.g.next,m.g||(m.h=null),N.next=null),N}class ${constructor(){this.h=this.g=null}add(N,O){const J=X.get();J.set(N,O),this.h?this.h.next=J:this.g=J,this.h=J}}var X=new I(()=>new Z,m=>m.reset());class Z{constructor(){this.next=this.g=this.h=null}set(N,O){this.h=N,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let se,_e=!1,z=new $,U=()=>{const m=Promise.resolve(void 0);se=()=>{m.then(k)}};function k(){for(var m;m=j();){try{m.h.call(m.g)}catch(O){L(O)}var N=X;N.j(m),N.h<100&&(N.h++,m.next=N.g,N.g=m)}_e=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(m,N){this.type=m,this.g=this.target=N,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,N=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const O=()=>{};u.addEventListener("test",O,N),u.removeEventListener("test",O,N)}catch{}return m})();function F(m){return/^[\s\xa0]*$/.test(m)}function ue(m,N){C.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,N)}w(ue,C),ue.prototype.init=function(m,N){const O=this.type=m.type,J=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=N,N=m.relatedTarget,N||(O=="mouseover"?N=m.fromElement:O=="mouseout"&&(N=m.toElement)),this.relatedTarget=N,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),le=0;function ge(m,N,O,J,Se){this.listener=m,this.proxy=null,this.src=N,this.type=O,this.capture=!!J,this.ha=Se,this.key=++le,this.da=this.fa=!1}function pe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ce(m,N,O){for(const J in m)N.call(O,m[J],J,m)}function Ge(m,N){for(const O in m)N.call(void 0,m[O],O,m)}function W(m){const N={};for(const O in m)N[O]=m[O];return N}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(m,N){let O,J;for(let Se=1;Se<arguments.length;Se++){J=arguments[Se];for(O in J)m[O]=J[O];for(let ke=0;ke<D.length;ke++)O=D[ke],Object.prototype.hasOwnProperty.call(J,O)&&(m[O]=J[O])}}function ee(m){this.src=m,this.g={},this.h=0}ee.prototype.add=function(m,N,O,J,Se){const ke=m.toString();m=this.g[ke],m||(m=this.g[ke]=[],this.h++);const Je=ce(m,N,J,Se);return Je>-1?(N=m[Je],O||(N.fa=!1)):(N=new ge(N,this.src,ke,!!J,Se),N.fa=O,m.push(N)),N};function oe(m,N){const O=N.type;if(O in m.g){var J=m.g[O],Se=Array.prototype.indexOf.call(J,N,void 0),ke;(ke=Se>=0)&&Array.prototype.splice.call(J,Se,1),ke&&(pe(N),m.g[O].length==0&&(delete m.g[O],m.h--))}}function ce(m,N,O,J){for(let Se=0;Se<m.length;++Se){const ke=m[Se];if(!ke.da&&ke.listener==N&&ke.capture==!!O&&ke.ha==J)return Se}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),De={};function Le(m,N,O,J,Se){if(Array.isArray(N)){for(let ke=0;ke<N.length;ke++)Le(m,N[ke],O,J,Se);return null}return O=Nt(O),m&&m[Ne]?m.J(N,O,c(J)?!!J.capture:!1,Se):Be(m,N,O,!1,J,Se)}function Be(m,N,O,J,Se,ke){if(!N)throw Error("Invalid event type");const Je=c(Se)?!!Se.capture:!!Se;let Ht=et(m);if(Ht||(m[ve]=Ht=new ee(m)),O=Ht.add(N,O,J,Je,ke),O.proxy)return O;if(J=Xe(),O.proxy=J,J.src=m,J.listener=O,m.addEventListener)M||(Se=Je),Se===void 0&&(Se=!1),m.addEventListener(N.toString(),J,Se);else if(m.attachEvent)m.attachEvent(ct(N.toString()),J);else if(m.addListener&&m.removeListener)m.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Xe(){function m(O){return N.call(m.src,m.listener,O)}const N=ne;return m}function nt(m,N,O,J,Se){if(Array.isArray(N))for(var ke=0;ke<N.length;ke++)nt(m,N[ke],O,J,Se);else J=c(J)?!!J.capture:!!J,O=Nt(O),m&&m[Ne]?(m=m.i,ke=String(N).toString(),ke in m.g&&(N=m.g[ke],O=ce(N,O,J,Se),O>-1&&(pe(N[O]),Array.prototype.splice.call(N,O,1),N.length==0&&(delete m.g[ke],m.h--)))):m&&(m=et(m))&&(N=m.g[N.toString()],m=-1,N&&(m=ce(N,O,J,Se)),(O=m>-1?N[m]:null)&&tt(O))}function tt(m){if(typeof m!="number"&&m&&!m.da){var N=m.src;if(N&&N[Ne])oe(N.i,m);else{var O=m.type,J=m.proxy;N.removeEventListener?N.removeEventListener(O,J,m.capture):N.detachEvent?N.detachEvent(ct(O),J):N.addListener&&N.removeListener&&N.removeListener(J),(O=et(N))?(oe(O,m),O.h==0&&(O.src=null,N[ve]=null)):pe(m)}}}function ct(m){return m in De?De[m]:De[m]="on"+m}function ne(m,N){if(m.da)m=!0;else{N=new ue(N,this);const O=m.listener,J=m.ha||m.src;m.fa&&tt(m),m=O.call(J,N)}return m}function et(m){return m=m[ve],m instanceof ee?m:null}var Yt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Nt(m){return typeof m=="function"?m:(m[Yt]||(m[Yt]=function(N){return m.handleEvent(N)}),m[Yt])}function ze(){H.call(this),this.i=new ee(this),this.M=this,this.G=null}w(ze,H),ze.prototype[Ne]=!0,ze.prototype.removeEventListener=function(m,N,O,J){nt(this,m,N,O,J)};function at(m,N){var O,J=m.G;if(J)for(O=[];J;J=J.G)O.push(J);if(m=m.M,J=N.type||N,typeof N=="string")N=new C(N,m);else if(N instanceof C)N.target=N.target||m;else{var Se=N;N=new C(J,m),K(N,Se)}Se=!0;let ke,Je;if(O)for(Je=O.length-1;Je>=0;Je--)ke=N.g=O[Je],Se=it(ke,J,!0,N)&&Se;if(ke=N.g=m,Se=it(ke,J,!0,N)&&Se,Se=it(ke,J,!1,N)&&Se,O)for(Je=0;Je<O.length;Je++)ke=N.g=O[Je],Se=it(ke,J,!1,N)&&Se}ze.prototype.N=function(){if(ze.Z.N.call(this),this.i){var m=this.i;for(const N in m.g){const O=m.g[N];for(let J=0;J<O.length;J++)pe(O[J]);delete m.g[N],m.h--}}this.G=null},ze.prototype.J=function(m,N,O,J){return this.i.add(String(m),N,!1,O,J)},ze.prototype.K=function(m,N,O,J){return this.i.add(String(m),N,!0,O,J)};function it(m,N,O,J){if(N=m.i.g[String(N)],!N)return!0;N=N.concat();let Se=!0;for(let ke=0;ke<N.length;++ke){const Je=N[ke];if(Je&&!Je.da&&Je.capture==O){const Ht=Je.listener,nr=Je.ha||Je.src;Je.fa&&oe(m.i,Je),Se=Ht.call(nr,J)!==!1&&Se}}return Se&&!J.defaultPrevented}function Ct(m,N){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:u.setTimeout(m,N||0)}function _t(m){m.g=Ct(()=>{m.g=null,m.i&&(m.i=!1,_t(m))},m.l);const N=m.h;m.h=null,m.m.apply(null,N)}class Kt extends H{constructor(N,O){super(),this.m=N,this.l=O,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:_t(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function en(m){H.call(this),this.h=m,this.g={}}w(en,H);var Vt=[];function on(m){Ce(m.g,function(N,O){this.g.hasOwnProperty(O)&&tt(N)},m),m.g={}}en.prototype.N=function(){en.Z.N.call(this),on(this)},en.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xt=u.JSON.stringify,gt=u.JSON.parse,Gt=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function yt(){}function dr(){}var Jt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tt(){C.call(this,"d")}w(Tt,C);function Mt(){C.call(this,"c")}w(Mt,C);var Qt={},xt=null;function Dn(){return xt=xt||new ze}Qt.Ia="serverreachability";function Pt(m){C.call(this,Qt.Ia,m)}w(Pt,C);function jt(m){const N=Dn();at(N,new Pt(N))}Qt.STAT_EVENT="statevent";function jn(m,N){C.call(this,Qt.STAT_EVENT,m),this.stat=N}w(jn,C);function wt(m){const N=Dn();at(N,new jn(N,m))}Qt.Ja="timingevent";function vt(m,N){C.call(this,Qt.Ja,m),this.size=N}w(vt,C);function ln(m,N){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},N)}function bi(){this.g=!0}bi.prototype.ua=function(){this.g=!1};function oi(m,N,O,J,Se,ke){m.info(function(){if(m.g)if(ke){var Je="",Ht=ke.split("&");for(let cn=0;cn<Ht.length;cn++){var nr=Ht[cn].split("=");if(nr.length>1){const Fn=nr[0];nr=nr[1];const hi=Fn.split("_");Je=hi.length>=2&&hi[1]=="type"?Je+(Fn+"="+nr+"&"):Je+(Fn+"=redacted&")}}}else Je=null;else Je=ke;return"XMLHTTP REQ ("+J+") [attempt "+Se+"]: "+N+`
`+O+`
`+Je})}function qa(m,N,O,J,Se,ke,Je){m.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+Se+"]: "+N+`
`+O+`
`+ke+" "+Je})}function Xr(m,N,O,J){m.info(function(){return"XMLHTTP TEXT ("+N+"): "+ds(m,O)+(J?" "+J:"")})}function St(m,N){m.info(function(){return"TIMEOUT: "+N})}bi.prototype.info=function(){};function ds(m,N){if(!m.g)return N;if(!N)return null;try{const ke=JSON.parse(N);if(ke){for(m=0;m<ke.length;m++)if(Array.isArray(ke[m])){var O=ke[m];if(!(O.length<2)){var J=O[1];if(Array.isArray(J)&&!(J.length<1)){var Se=J[0];if(Se!="noop"&&Se!="stop"&&Se!="close")for(let Je=1;Je<J.length;Je++)J[Je]=""}}}}return Xt(ke)}catch{return N}}var Yi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Di={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oi;function Gn(){}w(Gn,yt),Gn.prototype.g=function(){return new XMLHttpRequest},Oi=new Gn;function er(m){return encodeURIComponent(String(m))}function Ur(m){var N=1;m=m.split(":");const O=[];for(;N>0&&m.length;)O.push(m.shift()),N--;return m.length&&O.push(m.join(":")),O}function _i(m,N,O,J){this.j=m,this.i=N,this.l=O,this.S=J||1,this.V=new en(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var Mn={},Yn={};function Fr(m,N,O){m.M=1,m.A=ks(Sr(N)),m.u=O,m.R=!0,Pi(m,null)}function Pi(m,N){m.F=Date.now(),ji(m),m.B=Sr(m.A);var O=m.B,J=m.S;Array.isArray(J)||(J=[String(J)]),Oo(O.i,"t",J),m.C=0,O=m.j.L,m.h=new li,m.g=lt(m.j,O?N:null,!m.u),m.P>0&&(m.O=new Kt(d(m.Y,m,m.g),m.P)),N=m.V,O=m.g,J=m.ba;var Se="readystatechange";Array.isArray(Se)||(Se&&(Vt[0]=Se.toString()),Se=Vt);for(let ke=0;ke<Se.length;ke++){const Je=Le(O,Se[ke],J||N.handleEvent,!1,N.h||N);if(!Je)break;N.g[Je.key]=Je}N=m.J?W(m.J):{},m.u?(m.v||(m.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,N)):(m.v="GET",m.g.ea(m.B,m.v,null,N)),jt(),oi(m.i,m.v,m.B,m.l,m.S,m.u)}_i.prototype.ba=function(m){m=m.target;const N=this.O;N&&ea(m)==3?N.j():this.Y(m)},_i.prototype.Y=function(m){try{if(m==this.g)e:{const Ht=ea(this.g),nr=this.g.ya(),cn=this.g.ca();if(!(Ht<3)&&(Ht!=3||this.g&&(this.h.h||this.g.la()||kr(this.g)))){this.K||Ht!=4||nr==7||(nr==8||cn<=0?jt(3):jt(2)),Ki(this);var N=this.g.ca();this.X=N;var O=da(this);if(this.o=N==200,qa(this.i,this.v,this.B,this.l,this.S,Ht,N),this.o){if(this.U&&!this.L){t:{if(this.g){var J,Se=this.g;if((J=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(J)){var ke=J;break t}}ke=null}if(m=ke)Xr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pa(this,m);else{this.o=!1,this.m=3,wt(12),Qi(this),wi(this);break e}}if(this.R){m=!0;let Fn;for(;!this.K&&this.C<O.length;)if(Fn=Ra(this,O),Fn==Yn){Ht==4&&(this.m=4,wt(14),m=!1),Xr(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==Mn){this.m=4,wt(15),Xr(this.i,this.l,O,"[Invalid Chunk]"),m=!1;break}else Xr(this.i,this.l,Fn,null),pa(this,Fn);if(Ls(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||O.length!=0||this.h.h||(this.m=1,wt(16),m=!1),this.o=this.o&&m,!m)Xr(this.i,this.l,O,"[Invalid Chunked Response]"),Qi(this),wi(this);else if(O.length>0&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.aa&&!Je.P&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Uo(Je),Je.P=!0,wt(11))}}else Xr(this.i,this.l,O,null),pa(this,O);Ht==4&&Qi(this),this.o&&!this.K&&(Ht==4?ie(this.j,this):(this.o=!1,ji(this)))}else Ha(this.g),N==400&&O.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Qi(this),wi(this)}}}catch{}};function da(m){if(!Ls(m))return m.g.la();const N=kr(m.g);if(N==="")return"";let O="";const J=N.length,Se=ea(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Qi(m),wi(m),"";m.h.i=new u.TextDecoder}for(let ke=0;ke<J;ke++)m.h.h=!0,O+=m.h.i.decode(N[ke],{stream:!(Se&&ke==J-1)});return N.length=0,m.h.g+=O,m.C=0,m.h.g}function Ls(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Ra(m,N){var O=m.C,J=N.indexOf(`
`,O);return J==-1?Yn:(O=Number(N.substring(O,J)),isNaN(O)?Mn:(J+=1,J+O>N.length?Yn:(N=N.slice(J,J+O),m.C=J+O,N)))}_i.prototype.cancel=function(){this.K=!0,Qi(this)};function ji(m){m.T=Date.now()+m.H,ps(m,m.H)}function ps(m,N){if(m.D!=null)throw Error("WatchDog timer not null");m.D=ln(d(m.aa,m),N)}function Ki(m){m.D&&(u.clearTimeout(m.D),m.D=null)}_i.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(St(this.i,this.B),this.M!=2&&(jt(),wt(17)),Qi(this),this.m=2,wi(this)):ps(this,this.T-m)};function wi(m){m.j.I==0||m.K||ie(m.j,m)}function Qi(m){Ki(m);var N=m.O;N&&typeof N.dispose=="function"&&N.dispose(),m.O=null,on(m.V),m.g&&(N=m.g,m.g=null,N.abort(),N.dispose())}function pa(m,N){try{var O=m.j;if(O.I!=0&&(O.g==m||Ia(O.h,m))){if(!m.L&&Ia(O.h,m)&&O.I==3){try{var J=O.Ba.g.parse(N)}catch{J=null}if(Array.isArray(J)&&J.length==3){var Se=J;if(Se[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<m.F)B(O),Wa(O);else break e;Da(O),wt(18)}}else O.xa=Se[1],0<O.xa-O.K&&Se[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=ln(d(O.Va,O),6e3));ma(O.h)<=1&&O.ta&&(O.ta=void 0)}else we(O,11)}else if((m.L||O.g==m)&&B(O),!F(N))for(Se=O.Ba.g.parse(N),N=0;N<Se.length;N++){let cn=Se[N];const Fn=cn[0];if(!(Fn<=O.K))if(O.K=Fn,cn=cn[1],O.I==2)if(cn[0]=="c"){O.M=cn[1],O.ba=cn[2];const hi=cn[3];hi!=null&&(O.ka=hi,O.j.info("VER="+O.ka));const Si=cn[4];Si!=null&&(O.za=Si,O.j.info("SVER="+O.za));const Kn=cn[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(J=1.5*Kn,O.O=J,O.j.info("backChannelRequestTimeoutMs_="+J)),J=O;const Ai=m.g;if(Ai){const Oa=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oa){var ke=J.h;ke.g||Oa.indexOf("spdy")==-1&&Oa.indexOf("quic")==-1&&Oa.indexOf("h2")==-1||(ke.j=ke.l,ke.g=new Set,ke.h&&(Zs(ke,ke.h),ke.h=null))}if(J.G){const Ms=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Ms&&(J.wa=Ms,_n(J.J,J.G,Ms))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-m.F,O.j.info("Handshake RTT: "+O.T+"ms")),J=O;var Je=m;if(J.na=Ye(J,J.L?J.ba:null,J.W),Je.L){ko(J.h,Je);var Ht=Je,nr=J.O;nr&&(Ht.H=nr),Ht.D&&(Ki(Ht),ji(Ht)),J.g=Je}else yl(J);O.i.length>0&&ya(O)}else cn[0]!="stop"&&cn[0]!="close"||we(O,7);else O.I==3&&(cn[0]=="stop"||cn[0]=="close"?cn[0]=="stop"?we(O,7):js(O):cn[0]!="noop"&&O.l&&O.l.qa(cn),O.A=0)}}jt(4)}catch{}}var gr=class{constructor(m,N){this.g=m,this.map=N}};function Lo(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mi(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ma(m){return m.h?1:m.g?m.g.size:0}function Ia(m,N){return m.h?m.h==N:m.g?m.g.has(N):!1}function Zs(m,N){m.g?m.g.add(N):m.h=N}function ko(m,N){m.h&&m.h==N?m.h=null:m.g&&m.g.has(N)&&m.g.delete(N)}Lo.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Do(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let N=m.i;for(const O of m.g.values())N=N.concat(O.G);return N}return _(m.i)}var hl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xi(m,N){if(m){m=m.split("&");for(let O=0;O<m.length;O++){const J=m[O].indexOf("=");let Se,ke=null;J>=0?(Se=m[O].substring(0,J),ke=m[O].substring(J+1)):Se=m[O],N(Se,ke?decodeURIComponent(ke.replace(/\+/g," ")):"")}}}function ui(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;m instanceof ui?(this.l=m.l,fn(this,m.j),this.o=m.o,this.g=m.g,ms(this,m.u),this.h=m.h,ga(this,Po(m.i)),this.m=m.m):m&&(N=String(m).match(hl))?(this.l=!1,fn(this,N[1]||"",!0),this.o=Lr(N[2]||""),this.g=Lr(N[3]||"",!0),ms(this,N[4]),this.h=Lr(N[5]||"",!0),ga(this,N[6]||"",!0),this.m=Lr(N[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}ui.prototype.toString=function(){const m=[];var N=this.j;N&&m.push(lr(N,eo,!0),":");var O=this.g;return(O||N=="file")&&(m.push("//"),(N=this.o)&&m.push(lr(N,eo,!0),"@"),m.push(er(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&m.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&m.push("/"),m.push(lr(O,O.charAt(0)=="/"?fl:ru,!0))),(O=this.i.toString())&&m.push("?",O),(O=this.m)&&m.push("#",lr(O,dl)),m.join("")},ui.prototype.resolve=function(m){const N=Sr(this);let O=!!m.j;O?fn(N,m.j):O=!!m.o,O?N.o=m.o:O=!!m.g,O?N.g=m.g:O=m.u!=null;var J=m.h;if(O)ms(N,m.u);else if(O=!!m.h){if(J.charAt(0)!="/")if(this.g&&!this.h)J="/"+J;else{var Se=N.h.lastIndexOf("/");Se!=-1&&(J=N.h.slice(0,Se+1)+J)}if(Se=J,Se==".."||Se==".")J="";else if(Se.indexOf("./")!=-1||Se.indexOf("/.")!=-1){J=Se.lastIndexOf("/",0)==0,Se=Se.split("/");const ke=[];for(let Je=0;Je<Se.length;){const Ht=Se[Je++];Ht=="."?J&&Je==Se.length&&ke.push(""):Ht==".."?((ke.length>1||ke.length==1&&ke[0]!="")&&ke.pop(),J&&Je==Se.length&&ke.push("")):(ke.push(Ht),J=!0)}J=ke.join("/")}else J=Se}return O?N.h=J:O=m.i.toString()!=="",O?ga(N,Po(m.i)):O=!!m.m,O&&(N.m=m.m),N};function Sr(m){return new ui(m)}function fn(m,N,O){m.j=O?Lr(N,!0):N,m.j&&(m.j=m.j.replace(/:$/,""))}function ms(m,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);m.u=N}else m.u=null}function ga(m,N,O){N instanceof gs?(m.i=N,Ui(m.i,m.l)):(O||(N=lr(N,xi)),m.i=new gs(N,m.l))}function _n(m,N,O){m.i.set(N,O)}function ks(m){return _n(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Lr(m,N){return m?N?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function lr(m,N,O){return typeof m=="string"?(m=encodeURI(m).replace(N,Ar),O&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ar(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var eo=/[#\/\?@]/g,ru=/[#\?:]/g,fl=/[#\?]/g,xi=/[#\?@]/g,dl=/#/g;function gs(m,N){this.h=this.g=null,this.i=m||null,this.j=!!N}function Jr(m){m.g||(m.g=new Map,m.h=0,m.i&&Xi(m.i,function(N,O){m.add(decodeURIComponent(N.replace(/\+/g," ")),O)}))}n=gs.prototype,n.add=function(m,N){Jr(this),this.i=null,m=ys(this,m);let O=this.g.get(m);return O||this.g.set(m,O=[]),O.push(N),this.h+=1,this};function Ds(m,N){Jr(m),N=ys(m,N),m.g.has(N)&&(m.i=null,m.h-=m.g.get(N).length,m.g.delete(N))}function pl(m,N){return Jr(m),N=ys(m,N),m.g.has(N)}n.forEach=function(m,N){Jr(this),this.g.forEach(function(O,J){O.forEach(function(Se){m.call(N,Se,J,this)},this)},this)};function ml(m,N){Jr(m);let O=[];if(typeof N=="string")pl(m,N)&&(O=O.concat(m.g.get(ys(m,N))));else for(m=Array.from(m.g.values()),N=0;N<m.length;N++)O=O.concat(m[N]);return O}n.set=function(m,N){return Jr(this),this.i=null,m=ys(this,m),pl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[N]),this.h+=1,this},n.get=function(m,N){return m?(m=ml(this,m),m.length>0?String(m[0]):N):N};function Oo(m,N,O){Ds(m,N),O.length>0&&(m.i=null,m.g.set(ys(m,N),_(O)),m.h+=O.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],N=Array.from(this.g.keys());for(let J=0;J<N.length;J++){var O=N[J];const Se=er(O);O=ml(this,O);for(let ke=0;ke<O.length;ke++){let Je=Se;O[ke]!==""&&(Je+="="+er(O[ke])),m.push(Je)}}return this.i=m.join("&")};function Po(m){const N=new gs;return N.i=m.i,m.g&&(N.g=new Map(m.g),N.h=m.h),N}function ys(m,N){return N=String(N),m.j&&(N=N.toLowerCase()),N}function Ui(m,N){N&&!m.j&&(Jr(m),m.i=null,m.g.forEach(function(O,J){const Se=J.toLowerCase();J!=Se&&(Ds(this,J),Oo(this,Se,O))},m)),m.j=N}function La(m,N){const O=new bi;if(u.Image){const J=new Image;J.onload=g(Fi,O,"TestLoadImage: loaded",!0,N,J),J.onerror=g(Fi,O,"TestLoadImage: error",!1,N,J),J.onabort=g(Fi,O,"TestLoadImage: abort",!1,N,J),J.ontimeout=g(Fi,O,"TestLoadImage: timeout",!1,N,J),u.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=m}else N(!1)}function vs(m,N){const O=new bi,J=new AbortController,Se=setTimeout(()=>{J.abort(),Fi(O,"TestPingServer: timeout",!1,N)},1e4);fetch(m,{signal:J.signal}).then(ke=>{clearTimeout(Se),ke.ok?Fi(O,"TestPingServer: ok",!0,N):Fi(O,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(Se),Fi(O,"TestPingServer: error",!1,N)})}function Fi(m,N,O,J,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),J(O)}catch{}}function Os(){this.g=new Gt}function Rt(m){this.i=m.Sb||null,this.h=m.ab||!1}w(Rt,yt),Rt.prototype.g=function(){return new to(this.i,this.h)};function to(m,N){ze.call(this),this.H=m,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(to,ze),n=to.prototype,n.open=function(m,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=N,this.readyState=1,Zr(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(N.body=m),(this.H||u).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Zr(this)),this.g&&(this.readyState=3,Zr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;jo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function jo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var N=m.value?m.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!m.done}))&&(this.response=this.responseText+=N)}m.done?Ps(this):Zr(this),this.readyState==3&&jo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Ps(this))},n.Na=function(m){this.g&&(this.response=m,Ps(this))},n.ga=function(){this.g&&Ps(this)};function Ps(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Zr(m)}n.setRequestHeader=function(m,N){this.A.append(m,N)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],N=this.h.entries();for(var O=N.next();!O.done;)O=O.value,m.push(O[0]+": "+O[1]),O=N.next();return m.join(`\r
`)};function Zr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(to.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Br(m){let N="";return Ce(m,function(O,J){N+=J,N+=":",N+=O,N+=`\r
`}),N}function no(m,N,O){e:{for(J in O){var J=!1;break e}J=!0}J||(O=Br(O),typeof m=="string"?O!=null&&er(O):_n(m,N,O))}function Un(m){ze.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Un,ze);var Ji=/^https?$/i,ro=["POST","PUT"];n=Un.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,N,O,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);N=N?N.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oi.g(),this.g.onreadystatechange=A(d(this.Ca,this));try{this.B=!0,this.g.open(N,String(m),!0),this.B=!1}catch(ke){ka(this,ke);return}if(m=O||"",O=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var Se in J)O.set(Se,J[Se]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const ke of J.keys())O.set(ke,J.get(ke));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(O.keys()).find(ke=>ke.toLowerCase()=="content-type"),Se=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(ro,N,void 0)>=0)||J||Se||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ke,Je]of O)this.g.setRequestHeader(ke,Je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(ke){ka(this,ke)}};function ka(m,N){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=N,m.o=5,gl(m),bs(m)}function gl(m){m.A||(m.A=!0,at(m,"complete"),at(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,at(this,"complete"),at(this,"abort"),bs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),Un.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Zi(this):this.Xa())},n.Xa=function(){Zi(this)};function Zi(m){if(m.h&&typeof o<"u"){if(m.v&&ea(m)==4)setTimeout(m.Ca.bind(m),0);else if(at(m,"readystatechange"),ea(m)==4){m.h=!1;try{const ke=m.ca();e:switch(ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var O;if(!(O=N)){var J;if(J=ke===0){let Je=String(m.D).match(hl)[1]||null;!Je&&u.self&&u.self.location&&(Je=u.self.location.protocol.slice(0,-1)),J=!Ji.test(Je?Je.toLowerCase():"")}O=J}if(O)at(m,"complete"),at(m,"success");else{m.o=6;try{var Se=ea(m)>2?m.g.statusText:""}catch{Se=""}m.l=Se+" ["+m.ca()+"]",gl(m)}}finally{bs(m)}}}}function bs(m,N){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const O=m.g;m.g=null,N||at(m,"ready");try{O.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ea(m){return m.g?m.g.readyState:0}n.ca=function(){try{return ea(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var N=this.g.responseText;return m&&N.indexOf(m)==0&&(N=N.substring(m.length)),gt(N)}};function kr(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ha(m){const N={};m=(m.g&&ea(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<m.length;J++){if(F(m[J]))continue;var O=Ur(m[J]);const Se=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const ke=N[Se]||[];N[Se]=ke,ke.push(O)}Ge(N,function(J){return J.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(m,N,O){return O&&O.internalChannelParams&&O.internalChannelParams[m]||N}function Ga(m){this.za=0,this.i=[],this.j=new bi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ci("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ci("baseRetryDelayMs",5e3,m),this.Za=ci("retryDelaySeedMs",1e4,m),this.Ta=ci("forwardChannelMaxRetries",2,m),this.va=ci("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(m&&m.concurrentRequestLimit),this.Ba=new Os,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ga.prototype,n.ka=8,n.I=1,n.connect=function(m,N,O,J){wt(0),this.W=m,this.H=N||{},O&&J!==void 0&&(this.H.OSID=O,this.H.OAID=J),this.F=this.X,this.J=Ye(this,null,this.W),ya(this)};function js(m){if($a(m),m.I==3){var N=m.V++,O=Sr(m.J);if(_n(O,"SID",m.M),_n(O,"RID",N),_n(O,"TYPE","terminate"),ta(m,O),N=new _i(m,m.j,N),N.M=2,N.A=ks(Sr(O)),O=!1,u.navigator&&u.navigator.sendBeacon)try{O=u.navigator.sendBeacon(N.A.toString(),"")}catch{}!O&&u.Image&&(new Image().src=N.A,O=!0),O||(N.g=lt(N.j,null),N.g.ea(N.A)),N.F=Date.now(),ji(N)}Ue(m)}function Wa(m){m.g&&(Uo(m),m.g.cancel(),m.g=null)}function $a(m){Wa(m),m.v&&(u.clearTimeout(m.v),m.v=null),B(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function ya(m){if(!Mi(m.h)&&!m.m){m.m=!0;var N=m.Ea;se||U(),_e||(se(),_e=!0),z.add(N,m),m.D=0}}function io(m,N){return ma(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=N.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=ln(d(m.Ea,m,N),de(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Se=new _i(this,this.j,m);let ke=this.o;if(this.U&&(ke?(ke=W(ke),K(ke,this.U)):ke=this.U),this.u!==null||this.R||(Se.J=ke,ke=null),this.S)e:{for(var N=0,O=0;O<this.i.length;O++){t:{var J=this.i[O];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(N+=J,N>4096){N=O;break e}if(N===4096||O===this.i.length-1){N=O+1;break e}}N=1e3}else N=1e3;N=Ya(this,Se,N),O=Sr(this.J),_n(O,"RID",m),_n(O,"CVER",22),this.G&&_n(O,"X-HTTP-Session-Id",this.G),ta(this,O),ke&&(this.R?N="headers="+er(Br(ke))+"&"+N:this.u&&no(O,this.u,ke)),Zs(this.h,Se),this.Ra&&_n(O,"TYPE","init"),this.S?(_n(O,"$req",N),_n(O,"SID","null"),Se.U=!0,Fr(Se,O,null)):Fr(Se,O,N),this.I=2}}else this.I==3&&(m?Mo(this,m):this.i.length==0||Mi(this.h)||Mo(this))};function Mo(m,N){var O;N?O=N.l:O=m.V++;const J=Sr(m.J);_n(J,"SID",m.M),_n(J,"RID",O),_n(J,"AID",m.K),ta(m,J),m.u&&m.o&&no(J,m.u,m.o),O=new _i(m,m.j,O,m.D+1),m.u===null&&(O.J=m.o),N&&(m.i=N.G.concat(m.i)),N=Ya(m,O,1e3),O.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Zs(m.h,O),Fr(O,J,N)}function ta(m,N){m.H&&Ce(m.H,function(O,J){_n(N,J,O)}),m.l&&Ce({},function(O,J){_n(N,J,O)})}function Ya(m,N,O){O=Math.min(m.i.length,O);const J=m.l?d(m.l.Ka,m.l,m):null;e:{var Se=m.i;let Ht=-1;for(;;){const nr=["count="+O];Ht==-1?O>0?(Ht=Se[0].g,nr.push("ofs="+Ht)):Ht=0:nr.push("ofs="+Ht);let cn=!0;for(let Fn=0;Fn<O;Fn++){var ke=Se[Fn].g;const hi=Se[Fn].map;if(ke-=Ht,ke<0)Ht=Math.max(0,Se[Fn].g-100),cn=!1;else try{ke="req"+ke+"_"||"";try{var Je=hi instanceof Map?hi:Object.entries(hi);for(const[Si,Kn]of Je){let Ai=Kn;c(Kn)&&(Ai=Xt(Kn)),nr.push(ke+Si+"="+encodeURIComponent(Ai))}}catch(Si){throw nr.push(ke+"type="+encodeURIComponent("_badmap")),Si}}catch{J&&J(hi)}}if(cn){Je=nr.join("&");break e}}Je=void 0}return m=m.i.splice(0,O),N.G=m,Je}function yl(m){if(!m.g&&!m.v){m.Y=1;var N=m.Da;se||U(),_e||(se(),_e=!0),z.add(N,m),m.A=0}}function Da(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=ln(d(m.Da,m),de(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,S(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=ln(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Wa(this),S(this))};function Uo(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function S(m){m.g=new _i(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var N=Sr(m.na);_n(N,"RID","rpc"),_n(N,"SID",m.M),_n(N,"AID",m.K),_n(N,"CI",m.F?"0":"1"),!m.F&&m.ia&&_n(N,"TO",m.ia),_n(N,"TYPE","xmlhttp"),ta(m,N),m.u&&m.o&&no(N,m.u,m.o),m.O&&(m.g.H=m.O);var O=m.g;m=m.ba,O.M=1,O.A=ks(Sr(N)),O.u=null,O.R=!0,Pi(O,m)}n.Va=function(){this.C!=null&&(this.C=null,Wa(this),Da(this),wt(19))};function B(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function ie(m,N){var O=null;if(m.g==N){B(m),Uo(m),m.g=null;var J=2}else if(Ia(m.h,N))O=N.G,ko(m.h,N),J=1;else return;if(m.I!=0){if(N.o)if(J==1){O=N.u?N.u.length:0,N=Date.now()-N.F;var Se=m.D;J=Dn(),at(J,new vt(J,O)),ya(m)}else yl(m);else if(Se=N.m,Se==3||Se==0&&N.X>0||!(J==1&&io(m,N)||J==2&&Da(m)))switch(O&&O.length>0&&(N=m.h,N.i=N.i.concat(O)),Se){case 1:we(m,5);break;case 4:we(m,10);break;case 3:we(m,6);break;default:we(m,2)}}}function de(m,N){let O=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(O*=2),O*N}function we(m,N){if(m.j.info("Error code "+N),N==2){var O=d(m.bb,m),J=m.Ua;const Se=!J;J=new ui(J||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||fn(J,"https"),ks(J),Se?La(J.toString(),O):vs(J.toString(),O)}else wt(2);m.I=0,m.l&&m.l.pa(N),Ue(m),$a(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Ue(m){if(m.I=0,m.ja=[],m.l){const N=Do(m.h);(N.length!=0||m.i.length!=0)&&(P(m.ja,N),P(m.ja,m.i),m.h.i.length=0,_(m.i),m.i.length=0),m.l.oa()}}function Ye(m,N,O){var J=O instanceof ui?Sr(O):new ui(O);if(J.g!="")N&&(J.g=N+"."+J.g),ms(J,J.u);else{var Se=u.location;J=Se.protocol,N=N?N+"."+Se.hostname:Se.hostname,Se=+Se.port;const ke=new ui(null);J&&fn(ke,J),N&&(ke.g=N),Se&&ms(ke,Se),O&&(ke.h=O),J=ke}return O=m.G,N=m.wa,O&&N&&_n(J,O,N),_n(J,"VER",m.ka),ta(m,J),J}function lt(m,N,O){if(N&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=m.Aa&&!m.ma?new Un(new Rt({ab:O})):new Un(m.ma),N.Fa(m.L),N}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function dt(){}n=dt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Lt(){}Lt.prototype.g=function(m,N){return new At(m,N)};function At(m,N){ze.call(this),this.g=new Ga(N),this.l=m,this.h=N&&N.messageUrlParams||null,m=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(m?m["X-WebChannel-Content-Type"]=N.messageContentType:m={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(m?m["X-WebChannel-Client-Profile"]=N.sa:m={"X-WebChannel-Client-Profile":N.sa}),this.g.U=m,(m=N&&N.Qb)&&!F(m)&&(this.g.u=m),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!F(N)&&(this.g.G=N,m=this.h,m!==null&&N in m&&(m=this.h,N in m&&delete m[N])),this.j=new Wn(this)}w(At,ze),At.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){js(this.g)},At.prototype.o=function(m){var N=this.g;if(typeof m=="string"){var O={};O.__data__=m,m=O}else this.v&&(O={},O.__data__=Xt(m),m=O);N.i.push(new gr(N.Ya++,m)),N.I==3&&ya(N)},At.prototype.N=function(){this.g.l=null,delete this.j,js(this.g),delete this.g,At.Z.N.call(this)};function dn(m){Tt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var N=m.__sm__;if(N){e:{for(const O in N){m=O;break e}m=void 0}(this.i=m)&&(m=this.i,N=N!==null&&m in N?N[m]:void 0),this.data=N}else this.data=m}w(dn,Tt);function tr(){Mt.call(this),this.status=1}w(tr,Mt);function Wn(m){this.g=m}w(Wn,dt),Wn.prototype.ra=function(){at(this.g,"a")},Wn.prototype.qa=function(m){at(this.g,new dn(m))},Wn.prototype.pa=function(m){at(this.g,new tr)},Wn.prototype.oa=function(){at(this.g,"b")},Lt.prototype.createWebChannel=Lt.prototype.g,At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,P4=function(){return new Lt},O4=function(){return Dn()},D4=Qt,H1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,hm=Yi,Di.COMPLETE="complete",k4=Di,dr.EventType=Jt,Jt.OPEN="a",Jt.CLOSE="b",Jt.ERROR="c",Jt.MESSAGE="d",ze.prototype.listen=ze.prototype.J,id=dr,Un.prototype.listenOnce=Un.prototype.K,Un.prototype.getLastError=Un.prototype.Ha,Un.prototype.getLastErrorCode=Un.prototype.ya,Un.prototype.getStatus=Un.prototype.ca,Un.prototype.getResponseJson=Un.prototype.La,Un.prototype.getResponseText=Un.prototype.la,Un.prototype.send=Un.prototype.ea,Un.prototype.setWithCredentials=Un.prototype.Fa,L4=Un}).apply(typeof Wp<"u"?Wp:typeof self<"u"?self:typeof window<"u"?window:{});let Na=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Na.UNAUTHENTICATED=new Na(null),Na.GOOGLE_CREDENTIALS=new Na("google-credentials-uid"),Na.FIRST_PARTY=new Na("first-party-uid"),Na.MOCK_USER=new Na("mock-user");let uf="12.8.0";function gR(n){uf=n}const Pc=new D2("@firebase/firestore");function Ch(){return Pc.logLevel}function ut(n,...e){if(Pc.logLevel<=Sn.DEBUG){const t=e.map(H2);Pc.debug(`Firestore (${uf}): ${n}`,...t)}}function Ql(n,...e){if(Pc.logLevel<=Sn.ERROR){const t=e.map(H2);Pc.error(`Firestore (${uf}): ${n}`,...t)}}function Yh(n,...e){if(Pc.logLevel<=Sn.WARN){const t=e.map(H2);Pc.warn(`Firestore (${uf}): ${n}`,...t)}}function H2(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function qt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,j4(n,r,t)}function j4(n,e,t){let r=`FIRESTORE (${uf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ql(r),new Error(r)}function $n(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||j4(e,a,r)}function an(n,e){return n}const He={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Zl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class M4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Na.UNAUTHENTICATED)))}shutdown(){}}class vR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class bR{constructor(e){this.t=e,this.currentUser=Na.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$n(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Gl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gl,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},c=f=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gl)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($n(typeof r.accessToken=="string",31837,{l:r}),new M4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $n(e===null||typeof e=="string",2055,{h:e}),new Na(e)}}class _R{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Na.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class wR{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new _R(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Na.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$n(this.o===void 0,3512);const r=o=>{o.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ut("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Hb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?($n(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Hb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class G2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=SR(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function An(n,e){return n<e?-1:n>e?1:0}function G1(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),o=e.charAt(r);if(a!==o)return n1(a)===n1(o)?An(a,o):n1(a)?1:-1}return An(n.length,e.length)}const AR=55296,ER=57343;function n1(n){const e=n.charCodeAt(0);return e>=AR&&e<=ER}function Kh(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const Gb="__name__";class tl{constructor(e,t,r){t===void 0?t=0:t>e.length&&qt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&qt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return tl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tl?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=tl.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return An(e.length,t.length)}static compareSegments(e,t){const r=tl.isNumericId(e),a=tl.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?tl.extractNumericId(e).compare(tl.extractNumericId(t)):G1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gu.fromString(e.substring(4,e.length-2))}}class pr extends tl{construct(e,t,r){return new pr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new rt(He.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new pr(t)}static emptyPath(){return new pr([])}}const NR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ca extends tl{construct(e,t,r){return new ca(e,t,r)}static isValidIdentifier(e){return NR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ca.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gb}static keyField(){return new ca([Gb])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new rt(He.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new rt(He.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new rt(He.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else c==="`"?(u=!u,a++):c!=="."||u?(r+=c,a++):(o(),a++)}if(o(),u)throw new rt(He.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ca(t)}static emptyPath(){return new ca([])}}class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(pr.fromString(e))}static fromName(e){return new Ot(pr.fromString(e).popFirst(5))}static empty(){return new Ot(pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new pr(e.slice()))}}function U4(n,e,t){if(!t)throw new rt(He.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TR(n,e,t,r){if(e===!0&&r===!0)throw new rt(He.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Wb(n){if(!Ot.isDocumentKey(n))throw new rt(He.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $b(n){if(Ot.isDocumentKey(n))throw new rt(He.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function F4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function og(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":qt(12329,{type:typeof n})}function Ba(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new rt(He.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=og(n);throw new rt(He.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function yi(n,e){const t={typeString:n};return e&&(t.value=e),t}function Vd(n,e){if(!F4(n))throw new rt(He.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(a&&typeof u!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new rt(He.INVALID_ARGUMENT,t);return!0}const Yb=-62135596800,Kb=1e6;class wr{static now(){return wr.fromMillis(Date.now())}static fromDate(e){return wr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Kb);return new wr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new rt(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new rt(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Yb)throw new rt(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kb}_compareTo(e){return this.seconds===e.seconds?An(this.nanoseconds,e.nanoseconds):An(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vd(e,wr._jsonSchema))return new wr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Yb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wr._jsonSchemaVersion="firestore/timestamp/1.0",wr._jsonSchema={type:yi("string",wr._jsonSchemaVersion),seconds:yi("number"),nanoseconds:yi("number")};class Zt{static fromTimestamp(e){return new Zt(e)}static min(){return new Zt(new wr(0,0))}static max(){return new Zt(new wr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Sd=-1;function CR(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Zt.fromTimestamp(r===1e9?new wr(t+1,0):new wr(t,r));return new $u(a,Ot.empty(),e)}function RR(n){return new $u(n.readTime,n.key,Sd)}class $u{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new $u(Zt.min(),Ot.empty(),Sd)}static max(){return new $u(Zt.max(),Ot.empty(),Sd)}}function IR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ot.comparator(n.documentKey,e.documentKey),t!==0?t:An(n.largestBatchId,e.largestBatchId))}const LR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function cf(n){if(n.code!==He.FAILED_PRECONDITION||n.message!==LR)throw n;ut("LocalStore","Unexpectedly lost primary lease")}class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ke(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ke?t:Ke.resolve(t)}catch(t){return Ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ke.reject(t)}static resolve(e){return new Ke(((t,r)=>{t(e)}))}static reject(e){return new Ke(((t,r)=>{r(e)}))}static waitFor(e){return new Ke(((t,r)=>{let a=0,o=0,u=!1;e.forEach((c=>{++a,c.next((()=>{++o,u&&o===a&&t()}),(f=>r(f)))})),u=!0,o===a&&t()}))}static or(e){let t=Ke.resolve(!1);for(const r of e)t=t.next((a=>a?Ke.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,o)=>{r.push(t.call(this,a,o))})),this.waitFor(r)}static mapArray(e,t){return new Ke(((r,a)=>{const o=e.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((g=>{u[d]=g,++c,c===o&&r(u)}),(g=>a(g)))}}))}static doWhile(e,t){return new Ke(((r,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):r()};o()}))}}function DR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hf(n){return n.name==="IndexedDbTransactionError"}class lg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lg.ce=-1;const W2=-1;function ug(n){return n==null}function Dm(n){return n===0&&1/n==-1/0}function OR(n){return typeof n=="number"&&Number.isInteger(n)&&!Dm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const B4="";function PR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Qb(e)),e=jR(n.get(t),e);return Qb(e)}function jR(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case B4:t+="";break;default:t+=o}}return t}function Qb(n){return n+B4+""}function Xb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function nc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function V4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Mr{constructor(e,t){this.comparator=e,this.root=t||la.EMPTY}insert(e,t){return new Mr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,la.BLACK,null,null))}remove(e){return new Mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,la.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $p(this.root,e,this.comparator,!1)}getReverseIterator(){return new $p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $p(this.root,e,this.comparator,!0)}}class $p{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class la{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??la.RED,this.left=a??la.EMPTY,this.right=o??la.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new la(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return la.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return la.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,la.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,la.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qt(27949);return e+(this.isRed()?0:1)}}la.EMPTY=null,la.RED=!0,la.BLACK=!1;la.EMPTY=new class{constructor(){this.size=0}get key(){throw qt(57766)}get value(){throw qt(16141)}get color(){throw qt(16727)}get left(){throw qt(29726)}get right(){throw qt(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new la(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ki{constructor(e){this.comparator=e,this.data=new Mr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jb(this.data.getIterator())}getIteratorFrom(e){return new Jb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof ki)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ki(this.comparator);return t.data=e,t}}class Jb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cs{constructor(e){this.fields=e,e.sort(ca.comparator)}static empty(){return new Cs([])}unionWith(e){let t=new ki(ca.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Cs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Kh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class z4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new z4("Invalid base64 string: "+o):o}})(e);return new fa(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new fa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return An(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fa.EMPTY_BYTE_STRING=new fa("");const MR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yu(n){if($n(!!n,39018),typeof n=="string"){let e=0;const t=MR.exec(n);if($n(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ni(n.seconds),nanos:ni(n.nanos)}}function ni(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ku(n){return typeof n=="string"?fa.fromBase64String(n):fa.fromUint8Array(n)}const q4="server_timestamp",H4="__type__",G4="__previous_value__",W4="__local_write_time__";function $2(n){return(n?.mapValue?.fields||{})[H4]?.stringValue===q4}function cg(n){const e=n.mapValue.fields[G4];return $2(e)?cg(e):e}function Ad(n){const e=Yu(n.mapValue.fields[W4].timestampValue);return new wr(e.seconds,e.nanos)}class UR{constructor(e,t,r,a,o,u,c,f,d,g,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g,this.apiKey=w}}const Om="(default)";class Ed{constructor(e,t){this.projectId=e,this.database=t||Om}static empty(){return new Ed("","")}get isDefaultDatabase(){return this.database===Om}isEqual(e){return e instanceof Ed&&e.projectId===this.projectId&&e.database===this.database}}function FR(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new rt(He.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(n.options.projectId,e)}const $4="__type__",BR="__max__",Yp={mapValue:{}},Y4="__vector__",Pm="value";function Qu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$2(n)?4:zR(n)?9007199254740991:VR(n)?10:11:qt(28295,{value:n})}function ll(n,e){if(n===e)return!0;const t=Qu(n);if(t!==Qu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ad(n).isEqual(Ad(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Yu(a.timestampValue),c=Yu(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return Ku(a.bytesValue).isEqual(Ku(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return ni(a.geoPointValue.latitude)===ni(o.geoPointValue.latitude)&&ni(a.geoPointValue.longitude)===ni(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return ni(a.integerValue)===ni(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=ni(a.doubleValue),c=ni(o.doubleValue);return u===c?Dm(u)===Dm(c):isNaN(u)&&isNaN(c)}return!1})(n,e);case 9:return Kh(n.arrayValue.values||[],e.arrayValue.values||[],ll);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},c=o.mapValue.fields||{};if(Xb(u)!==Xb(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!ll(u[f],c[f])))return!1;return!0})(n,e);default:return qt(52216,{left:n})}}function Nd(n,e){return(n.values||[]).find((t=>ll(t,e)))!==void 0}function Qh(n,e){if(n===e)return 0;const t=Qu(n),r=Qu(e);if(t!==r)return An(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return An(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const c=ni(o.integerValue||o.doubleValue),f=ni(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(n,e);case 3:return Zb(n.timestampValue,e.timestampValue);case 4:return Zb(Ad(n),Ad(e));case 5:return G1(n.stringValue,e.stringValue);case 6:return(function(o,u){const c=Ku(o),f=Ku(u);return c.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const c=o.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const g=An(c[d],f[d]);if(g!==0)return g}return An(c.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const c=An(ni(o.latitude),ni(u.latitude));return c!==0?c:An(ni(o.longitude),ni(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return e_(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const c=o.fields||{},f=u.fields||{},d=c[Pm]?.arrayValue,g=f[Pm]?.arrayValue,w=An(d?.values?.length||0,g?.values?.length||0);return w!==0?w:e_(d,g)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Yp.mapValue&&u===Yp.mapValue)return 0;if(o===Yp.mapValue)return 1;if(u===Yp.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let w=0;w<f.length&&w<g.length;++w){const A=G1(f[w],g[w]);if(A!==0)return A;const _=Qh(c[f[w]],d[g[w]]);if(_!==0)return _}return An(f.length,g.length)})(n.mapValue,e.mapValue);default:throw qt(23264,{he:t})}}function Zb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return An(n,e);const t=Yu(n),r=Yu(e),a=An(t.seconds,r.seconds);return a!==0?a:An(t.nanos,r.nanos)}function e_(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=Qh(t[a],r[a]);if(o)return o}return An(t.length,r.length)}function Xh(n){return W1(n)}function W1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Yu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ku(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ot.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=W1(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${W1(t.fields[u])}`;return a+"}"})(n.mapValue):qt(61005,{value:n})}function fm(n){switch(Qu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cg(n);return e?16+fm(e):16;case 5:return 2*n.stringValue.length;case 6:return Ku(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+fm(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return nc(r.fields,((o,u)=>{a+=o.length+fm(u)})),a})(n.mapValue);default:throw qt(13486,{value:n})}}function t_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $1(n){return!!n&&"integerValue"in n}function Y2(n){return!!n&&"arrayValue"in n}function n_(n){return!!n&&"nullValue"in n}function r_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dm(n){return!!n&&"mapValue"in n}function VR(n){return(n?.mapValue?.fields||{})[$4]?.stringValue===Y4}function hd(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return nc(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=hd(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hd(n.arrayValue.values[t]);return e}return{...n}}function zR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===BR}class hs{constructor(e){this.value=e}static empty(){return new hs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!dm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hd(t)}setAll(e){let t=ca.emptyPath(),r={},a=[];e.forEach(((u,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=c.popLast()}u?r[c.lastSegment()]=hd(u):a.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());dm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ll(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];dm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){nc(t,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new hs(hd(this.value))}}function K4(n){const e=[];return nc(n.fields,((t,r)=>{const a=new ca([t]);if(dm(r)){const o=K4(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new Cs(e)}class Ta{constructor(e,t,r,a,o,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Ta(e,0,Zt.min(),Zt.min(),Zt.min(),hs.empty(),0)}static newFoundDocument(e,t,r,a){return new Ta(e,1,t,Zt.min(),r,a,0)}static newNoDocument(e,t){return new Ta(e,2,t,Zt.min(),Zt.min(),hs.empty(),0)}static newUnknownDocument(e,t){return new Ta(e,3,t,Zt.min(),Zt.min(),hs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ta&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ta(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jm{constructor(e,t){this.position=e,this.inclusive=t}}function i_(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?r=Ot.comparator(Ot.fromName(u.referenceValue),t.key):r=Qh(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function a_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ll(n.position[t],e.position[t]))return!1;return!0}class Td{constructor(e,t="asc"){this.field=e,this.dir=t}}function qR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Q4{}class gi extends Q4{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new GR(e,t,r):t==="array-contains"?new YR(e,r):t==="in"?new KR(e,r):t==="not-in"?new QR(e,r):t==="array-contains-any"?new XR(e,r):new gi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new WR(e,r):new $R(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Qh(t,this.value)):t!==null&&Qu(this.value)===Qu(t)&&this.matchesComparison(Qh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class No extends Q4{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new No(e,t)}matches(e){return X4(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function X4(n){return n.op==="and"}function J4(n){return HR(n)&&X4(n)}function HR(n){for(const e of n.filters)if(e instanceof No)return!1;return!0}function Y1(n){if(n instanceof gi)return n.field.canonicalString()+n.op.toString()+Xh(n.value);if(J4(n))return n.filters.map((e=>Y1(e))).join(",");{const e=n.filters.map((t=>Y1(t))).join(",");return`${n.op}(${e})`}}function Z4(n,e){return n instanceof gi?(function(r,a){return a instanceof gi&&r.op===a.op&&r.field.isEqual(a.field)&&ll(r.value,a.value)})(n,e):n instanceof No?(function(r,a){return a instanceof No&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,u,c)=>o&&Z4(u,a.filters[c])),!0):!1})(n,e):void qt(19439)}function e3(n){return n instanceof gi?(function(t){return`${t.field.canonicalString()} ${t.op} ${Xh(t.value)}`})(n):n instanceof No?(function(t){return t.op.toString()+" {"+t.getFilters().map(e3).join(" ,")+"}"})(n):"Filter"}class GR extends gi{constructor(e,t,r){super(e,t,r),this.key=Ot.fromName(r.referenceValue)}matches(e){const t=Ot.comparator(e.key,this.key);return this.matchesComparison(t)}}class WR extends gi{constructor(e,t){super(e,"in",t),this.keys=t3("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class $R extends gi{constructor(e,t){super(e,"not-in",t),this.keys=t3("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function t3(n,e){return(e.arrayValue?.values||[]).map((t=>Ot.fromName(t.referenceValue)))}class YR extends gi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Y2(t)&&Nd(t.arrayValue,this.value)}}class KR extends gi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Nd(this.value.arrayValue,t)}}class QR extends gi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Nd(this.value.arrayValue,t)}}class XR extends gi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Y2(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Nd(this.value.arrayValue,r)))}}class JR{constructor(e,t=null,r=[],a=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=c,this.Te=null}}function s_(n,e=null,t=[],r=[],a=null,o=null,u=null){return new JR(n,e,t,r,a,o,u)}function K2(n){const e=an(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Y1(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),ug(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Xh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Xh(r))).join(",")),e.Te=t}return e.Te}function Q2(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!qR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Z4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!a_(n.startAt,e.startAt)&&a_(n.endAt,e.endAt)}function K1(n){return Ot.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class ff{constructor(e,t=null,r=[],a=[],o=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ZR(n,e,t,r,a,o,u,c){return new ff(n,e,t,r,a,o,u,c)}function hg(n){return new ff(n)}function o_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function eI(n){return Ot.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function n3(n){return n.collectionGroup!==null}function fd(n){const e=an(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new ki(ca.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Td(o,r))})),t.has(ca.keyField().canonicalString())||e.Ie.push(new Td(ca.keyField(),r))}return e.Ie}function al(n){const e=an(n);return e.Ee||(e.Ee=tI(e,fd(n))),e.Ee}function tI(n,e){if(n.limitType==="F")return s_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Td(a.field,o)}));const t=n.endAt?new jm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new jm(n.startAt.position,n.startAt.inclusive):null;return s_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Q1(n,e){const t=n.filters.concat([e]);return new ff(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nI(n,e){const t=n.explicitOrderBy.concat([e]);return new ff(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function X1(n,e,t){return new ff(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fg(n,e){return Q2(al(n),al(e))&&n.limitType===e.limitType}function r3(n){return`${K2(al(n))}|lt:${n.limitType}`}function Rh(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>e3(a))).join(", ")}]`),ug(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Xh(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Xh(a))).join(",")),`Target(${r})`})(al(n))}; limitType=${n.limitType})`}function dg(n,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ot.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,a){for(const o of fd(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(u,c,f){const d=i_(u,c,f);return u.inclusive?d<=0:d<0})(r.startAt,fd(r),a)||r.endAt&&!(function(u,c,f){const d=i_(u,c,f);return u.inclusive?d>=0:d>0})(r.endAt,fd(r),a))})(n,e)}function rI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function i3(n){return(e,t)=>{let r=!1;for(const a of fd(n)){const o=iI(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function iI(n,e,t){const r=n.field.isKeyField()?Ot.comparator(e.key,t.key):(function(o,u,c){const f=u.data.field(o),d=c.data.field(o);return f!==null&&d!==null?Qh(f,d):qt(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return qt(19790,{direction:n.dir})}}class Vc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){nc(this.inner,((t,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return V4(this.inner)}size(){return this.innerSize}}const aI=new Mr(Ot.comparator);function Xl(){return aI}const a3=new Mr(Ot.comparator);function ad(...n){let e=a3;for(const t of n)e=e.insert(t.key,t);return e}function s3(n){let e=a3;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Nc(){return dd()}function o3(){return dd()}function dd(){return new Vc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const sI=new Mr(Ot.comparator),oI=new ki(Ot.comparator);function En(...n){let e=oI;for(const t of n)e=e.add(t);return e}const lI=new ki(An);function uI(){return lI}function X2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dm(e)?"-0":e}}function l3(n){return{integerValue:""+n}}function cI(n,e){return OR(e)?l3(e):X2(n,e)}class pg{constructor(){this._=void 0}}function hI(n,e,t){return n instanceof Cd?(function(a,o){const u={fields:{[H4]:{stringValue:q4},[W4]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&$2(o)&&(o=cg(o)),o&&(u.fields[G4]=o),{mapValue:u}})(t,e):n instanceof Rd?c3(n,e):n instanceof Id?h3(n,e):(function(a,o){const u=u3(a,o),c=l_(u)+l_(a.Ae);return $1(u)&&$1(a.Ae)?l3(c):X2(a.serializer,c)})(n,e)}function fI(n,e,t){return n instanceof Rd?c3(n,e):n instanceof Id?h3(n,e):t}function u3(n,e){return n instanceof Mm?(function(r){return $1(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Cd extends pg{}class Rd extends pg{constructor(e){super(),this.elements=e}}function c3(n,e){const t=f3(e);for(const r of n.elements)t.some((a=>ll(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Id extends pg{constructor(e){super(),this.elements=e}}function h3(n,e){let t=f3(e);for(const r of n.elements)t=t.filter((a=>!ll(a,r)));return{arrayValue:{values:t}}}class Mm extends pg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function l_(n){return ni(n.integerValue||n.doubleValue)}function f3(n){return Y2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class dI{constructor(e,t){this.field=e,this.transform=t}}function pI(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof Rd&&a instanceof Rd||r instanceof Id&&a instanceof Id?Kh(r.elements,a.elements,ll):r instanceof Mm&&a instanceof Mm?ll(r.Ae,a.Ae):r instanceof Cd&&a instanceof Cd})(n.transform,e.transform)}class mI{constructor(e,t){this.version=e,this.transformResults=t}}class Va{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Va}static exists(e){return new Va(void 0,e)}static updateTime(e){return new Va(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class mg{}function d3(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new gg(n.key,Va.none()):new zd(n.key,n.data,Va.none());{const t=n.data,r=hs.empty();let a=new ki(ca.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new rc(n.key,r,new Cs(a.toArray()),Va.none())}}function gI(n,e,t){n instanceof zd?(function(a,o,u){const c=a.value.clone(),f=c_(a.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()})(n,e,t):n instanceof rc?(function(a,o,u){if(!pm(a.precondition,o))return void o.convertToUnknownDocument(u.version);const c=c_(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(p3(a)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function pd(n,e,t,r){return n instanceof zd?(function(o,u,c,f){if(!pm(o.precondition,u))return c;const d=o.value.clone(),g=h_(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof rc?(function(o,u,c,f){if(!pm(o.precondition,u))return c;const d=h_(o.fieldTransforms,f,u),g=u.data;return g.setAll(p3(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(o,u,c){return pm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c})(n,e,t)}function yI(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=u3(r.transform,a||null);o!=null&&(t===null&&(t=hs.empty()),t.set(r.field,o))}return t||null}function u_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Kh(r,a,((o,u)=>pI(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zd extends mg{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class rc extends mg{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function p3(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function c_(n,e,t){const r=new Map;$n(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,c=e.data.field(o.field);r.set(o.field,fI(u,c,t[a]))}return r}function h_(n,e,t){const r=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);r.set(a.field,hI(o,u,e))}return r}class gg extends mg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vI extends mg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bI{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&gI(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=pd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=pd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=o3();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=t.has(a.key)?null:c;const f=d3(u,c);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Zt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),En())}isEqual(e){return this.batchId===e.batchId&&Kh(this.mutations,e.mutations,((t,r)=>u_(t,r)))&&Kh(this.baseMutations,e.baseMutations,((t,r)=>u_(t,r)))}}class J2{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){$n(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return sI})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new J2(e,t,r,a)}}class _I{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wI{constructor(e,t){this.count=e,this.unchangedNames=t}}var mi,kn;function xI(n){switch(n){case He.OK:return qt(64938);case He.CANCELLED:case He.UNKNOWN:case He.DEADLINE_EXCEEDED:case He.RESOURCE_EXHAUSTED:case He.INTERNAL:case He.UNAVAILABLE:case He.UNAUTHENTICATED:return!1;case He.INVALID_ARGUMENT:case He.NOT_FOUND:case He.ALREADY_EXISTS:case He.PERMISSION_DENIED:case He.FAILED_PRECONDITION:case He.ABORTED:case He.OUT_OF_RANGE:case He.UNIMPLEMENTED:case He.DATA_LOSS:return!0;default:return qt(15467,{code:n})}}function m3(n){if(n===void 0)return Ql("GRPC error has no .code"),He.UNKNOWN;switch(n){case mi.OK:return He.OK;case mi.CANCELLED:return He.CANCELLED;case mi.UNKNOWN:return He.UNKNOWN;case mi.DEADLINE_EXCEEDED:return He.DEADLINE_EXCEEDED;case mi.RESOURCE_EXHAUSTED:return He.RESOURCE_EXHAUSTED;case mi.INTERNAL:return He.INTERNAL;case mi.UNAVAILABLE:return He.UNAVAILABLE;case mi.UNAUTHENTICATED:return He.UNAUTHENTICATED;case mi.INVALID_ARGUMENT:return He.INVALID_ARGUMENT;case mi.NOT_FOUND:return He.NOT_FOUND;case mi.ALREADY_EXISTS:return He.ALREADY_EXISTS;case mi.PERMISSION_DENIED:return He.PERMISSION_DENIED;case mi.FAILED_PRECONDITION:return He.FAILED_PRECONDITION;case mi.ABORTED:return He.ABORTED;case mi.OUT_OF_RANGE:return He.OUT_OF_RANGE;case mi.UNIMPLEMENTED:return He.UNIMPLEMENTED;case mi.DATA_LOSS:return He.DATA_LOSS;default:return qt(39323,{code:n})}}(kn=mi||(mi={}))[kn.OK=0]="OK",kn[kn.CANCELLED=1]="CANCELLED",kn[kn.UNKNOWN=2]="UNKNOWN",kn[kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kn[kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kn[kn.NOT_FOUND=5]="NOT_FOUND",kn[kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",kn[kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",kn[kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",kn[kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kn[kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kn[kn.ABORTED=10]="ABORTED",kn[kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",kn[kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",kn[kn.INTERNAL=13]="INTERNAL",kn[kn.UNAVAILABLE=14]="UNAVAILABLE",kn[kn.DATA_LOSS=15]="DATA_LOSS";function SI(){return new TextEncoder}const AI=new Gu([4294967295,4294967295],0);function f_(n){const e=SI().encode(n),t=new I4;return t.update(e),new Uint8Array(t.digest())}function d_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Gu([t,r],0),new Gu([a,o],0)]}class Z2{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new sd(`Invalid padding: ${t}`);if(r<0)throw new sd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new sd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Gu.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Gu.fromNumber(r)));return a.compare(AI)===1&&(a=new Gu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=f_(e),[r,a]=d_(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Z2(o,a,t);return r.forEach((c=>u.insert(c))),u}insert(e){if(this.ge===0)return;const t=f_(e),[r,a]=d_(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class sd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yg{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,qd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new yg(Zt.min(),a,new Mr(An),Xl(),En())}}class qd{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new qd(r,t,En(),En(),En())}}class mm{constructor(e,t,r,a){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=a}}class g3{constructor(e,t){this.targetId=e,this.Ce=t}}class y3{constructor(e,t,r=fa.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class p_{constructor(){this.ve=0,this.Fe=m_(),this.Me=fa.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=En(),t=En(),r=En();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:qt(38017,{changeType:o})}})),new qd(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=m_()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,$n(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class EI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xl(),this.He=Kp(),this.Je=Kp(),this.Ze=new Mr(An)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:qt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(K1(o))if(r===0){const u=new Ot(o.path);this.et(t,u,Ta.newNoDocument(u,Zt.min()))}else $n(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const c=this.ut(e),f=c?this.ct(c,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let u,c;try{u=Ku(r).toUint8Array()}catch(f){if(f instanceof z4)return Yh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Z2(u,a,o)}catch(f){return Yh(f instanceof sd?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((o=>{const u=this.Ge.ht(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const c=this.ot(u);if(c){if(o.current&&K1(c.target)){const f=new Ot(c.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Ta.newNoDocument(f,e))}o.Be&&(t.set(u,o.ke()),o.Ke())}}));let r=En();this.Je.forEach(((o,u)=>{let c=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new yg(e,t,this.Ze,this.je,r);return this.je=Xl(),this.He=Kp(),this.Je=Kp(),this.Ze=new Mr(An),a}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new p_,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new ki(An),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new ki(An),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ut("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new p_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Kp(){return new Mr(Ot.comparator)}function m_(){return new Mr(Ot.comparator)}const NI={asc:"ASCENDING",desc:"DESCENDING"},TI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CI={and:"AND",or:"OR"};class RI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function J1(n,e){return n.useProto3Json||ug(e)?e:{value:e}}function Um(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function v3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function II(n,e){return Um(n,e.toTimestamp())}function sl(n){return $n(!!n,49232),Zt.fromTimestamp((function(t){const r=Yu(t);return new wr(r.seconds,r.nanos)})(n))}function ey(n,e){return Z1(n,e).canonicalString()}function Z1(n,e){const t=(function(a){return new pr(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function b3(n){const e=pr.fromString(n);return $n(A3(e),10190,{key:e.toString()}),e}function e2(n,e){return ey(n.databaseId,e.path)}function r1(n,e){const t=b3(e);if(t.get(1)!==n.databaseId.projectId)throw new rt(He.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new rt(He.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ot(w3(t))}function _3(n,e){return ey(n.databaseId,e)}function LI(n){const e=b3(n);return e.length===4?pr.emptyPath():w3(e)}function t2(n){return new pr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function w3(n){return $n(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function g_(n,e,t){return{name:e2(n,e),fields:t.value.mapValue.fields}}function kI(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:qt(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(d,g){return d.useProto3Json?($n(g===void 0||typeof g=="string",58123),fa.fromBase64String(g||"")):($n(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),fa.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&(function(d){const g=d.code===void 0?He.UNKNOWN:m3(d.code);return new rt(g,d.message||"")})(u);t=new y3(r,a,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=r1(n,r.document.name),o=sl(r.document.updateTime),u=r.document.createTime?sl(r.document.createTime):Zt.min(),c=new hs({mapValue:{fields:r.document.fields}}),f=Ta.newFoundDocument(a,o,u,c),d=r.targetIds||[],g=r.removedTargetIds||[];t=new mm(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=r1(n,r.document),o=r.readTime?sl(r.readTime):Zt.min(),u=Ta.newNoDocument(a,o),c=r.removedTargetIds||[];t=new mm([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=r1(n,r.document),o=r.removedTargetIds||[];t=new mm([],o,a,null)}else{if(!("filter"in e))return qt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new wI(a,o),c=r.targetId;t=new g3(c,u)}}return t}function DI(n,e){let t;if(e instanceof zd)t={update:g_(n,e.key,e.value)};else if(e instanceof gg)t={delete:e2(n,e.key)};else if(e instanceof rc)t={update:g_(n,e.key,e.data),updateMask:zI(e.fieldMask)};else{if(!(e instanceof vI))return qt(16599,{dt:e.type});t={verify:e2(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const c=u.transform;if(c instanceof Cd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Rd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Id)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Mm)return{fieldPath:u.field.canonicalString(),increment:c.Ae};throw qt(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:II(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:qt(27497)})(n,e.precondition)),t}function OI(n,e){return n&&n.length>0?($n(e!==void 0,14353),n.map((t=>(function(a,o){let u=a.updateTime?sl(a.updateTime):sl(o);return u.isEqual(Zt.min())&&(u=sl(o)),new mI(u,a.transformResults||[])})(t,e)))):[]}function PI(n,e){return{documents:[_3(n,e.path)]}}function jI(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=_3(n,a);const o=(function(d){if(d.length!==0)return S3(No.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((g=>(function(A){return{field:Ih(A.field),direction:FI(A.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=J1(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:a}}function MI(n){let e=LI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){$n(r===1,65062);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(w){const A=x3(w);return A instanceof No&&J4(A)?A.getFilters():[A]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((A=>(function(P){return new Td(Lh(P.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(A)))})(t.orderBy));let c=null;t.limit&&(c=(function(w){let A;return A=typeof w=="object"?w.value:w,ug(A)?null:A})(t.limit));let f=null;t.startAt&&(f=(function(w){const A=!!w.before,_=w.values||[];return new jm(_,A)})(t.startAt));let d=null;return t.endAt&&(d=(function(w){const A=!w.before,_=w.values||[];return new jm(_,A)})(t.endAt)),ZR(e,a,u,o,c,"F",f,d)}function UI(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qt(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function x3(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Lh(t.unaryFilter.field);return gi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Lh(t.unaryFilter.field);return gi.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Lh(t.unaryFilter.field);return gi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Lh(t.unaryFilter.field);return gi.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qt(61313);default:return qt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return gi.create(Lh(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qt(58110);default:return qt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return No.create(t.compositeFilter.filters.map((r=>x3(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return qt(1026)}})(t.compositeFilter.op))})(n):qt(30097,{filter:n})}function FI(n){return NI[n]}function BI(n){return TI[n]}function VI(n){return CI[n]}function Ih(n){return{fieldPath:n.canonicalString()}}function Lh(n){return ca.fromServerFormat(n.fieldPath)}function S3(n){return n instanceof gi?(function(t){if(t.op==="=="){if(r_(t.value))return{unaryFilter:{field:Ih(t.field),op:"IS_NAN"}};if(n_(t.value))return{unaryFilter:{field:Ih(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(r_(t.value))return{unaryFilter:{field:Ih(t.field),op:"IS_NOT_NAN"}};if(n_(t.value))return{unaryFilter:{field:Ih(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ih(t.field),op:BI(t.op),value:t.value}}})(n):n instanceof No?(function(t){const r=t.getFilters().map((a=>S3(a)));return r.length===1?r[0]:{compositeFilter:{op:VI(t.op),filters:r}}})(n):qt(54877,{filter:n})}function zI(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function A3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function E3(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Bu{constructor(e,t,r,a,o=Zt.min(),u=Zt.min(),c=fa.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Bu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qI{constructor(e){this.yt=e}}function HI(n){const e=MI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?X1(e,e.limit,"L"):e}class GI{constructor(){this.Sn=new WI}addToCollectionParentIndex(e,t){return this.Sn.add(t),Ke.resolve()}getCollectionParents(e,t){return Ke.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Ke.resolve()}deleteFieldIndex(e,t){return Ke.resolve()}deleteAllFieldIndexes(e){return Ke.resolve()}createTargetIndexes(e,t){return Ke.resolve()}getDocumentsMatchingTarget(e,t){return Ke.resolve(null)}getIndexType(e,t){return Ke.resolve(0)}getFieldIndexes(e,t){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,t){return Ke.resolve($u.min())}getMinOffsetFromCollectionGroup(e,t){return Ke.resolve($u.min())}updateCollectionGroup(e,t,r){return Ke.resolve()}updateIndexEntries(e,t){return Ke.resolve()}}class WI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new ki(pr.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new ki(pr.comparator)).toArray()}}const y_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},N3=41943040;class cs{static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(N3,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);class Jh{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Jh(0)}static ar(){return new Jh(-1)}}const v_="LruGarbageCollector",$I=1048576;function b_([n,e],[t,r]){const a=An(n,t);return a===0?An(e,r):a}class YI{constructor(e){this.Pr=e,this.buffer=new ki(b_),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();b_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class KI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ut(v_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){hf(t)?ut(v_,"Ignoring IndexedDB error during garbage collection: ",t):await cf(t)}await this.Ar(3e5)}))}}class QI{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Ke.resolve(lg.ce);const r=new YI(t);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(y_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y_):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,a,o,u,c,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,u=Date.now(),this.nthSequenceNumber(e,a)))).next((w=>(r=w,c=Date.now(),this.removeTargets(e,r,t)))).next((w=>(o=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(d=Date.now(),Ch()<=Sn.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${w} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:w}))))}}function XI(n,e){return new QI(n,e)}class JI{constructor(){this.changes=new Vc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ta.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ke.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class eL{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&pd(r.mutation,a,Cs.empty(),wr.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,En()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=En()){const a=Nc();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((o=>{let u=ad();return o.forEach(((c,f)=>{u=u.insert(c,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Nc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,En())))}populateOverlays(e,t,r){const a=[];return r.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,c)=>{t.set(u,c)}))}))}computeViews(e,t,r,a){let o=Xl();const u=dd(),c=(function(){return dd()})();return t.forEach(((f,d)=>{const g=r.get(d.key);a.has(d.key)&&(g===void 0||g.mutation instanceof rc)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),pd(g.mutation,d,g.mutation.getFieldMask(),wr.now())):u.set(d.key,Cs.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,g)=>u.set(d,g))),t.forEach(((d,g)=>c.set(d,new ZI(g,u.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=dd();let a=new Mr(((u,c)=>u-c)),o=En();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const c of u)c.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let g=r.get(f)||Cs.empty();g=c.applyToLocalView(d,g),r.set(f,g);const w=(a.get(c.batchId)||En()).add(f);a=a.insert(c.batchId,w)}))})).next((()=>{const u=[],c=a.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,g=f.value,w=o3();g.forEach((A=>{if(!o.has(A)){const _=d3(t.get(A),r.get(A));_!==null&&w.set(A,_),o=o.add(A)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,w))}return Ke.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return eI(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):n3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):Ke.resolve(Nc());let c=Sd,f=o;return u.next((d=>Ke.forEach(d,((g,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),o.get(g)?Ke.resolve():this.remoteDocumentCache.getEntry(e,g).next((A=>{f=f.insert(g,A)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,En()))).next((g=>({batchId:c,changes:s3(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ot(t)).next((r=>{let a=ad();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let u=ad();return this.indexManager.getCollectionParents(e,o).next((c=>Ke.forEach(c,(f=>{const d=(function(w,A){return new ff(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next((g=>{g.forEach(((w,A)=>{u=u.insert(w,A)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a)))).next((u=>{o.forEach(((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,Ta.newInvalidDocument(g)))}));let c=ad();return u.forEach(((f,d)=>{const g=o.get(f);g!==void 0&&pd(g.mutation,d,Cs.empty(),wr.now()),dg(t,d)&&(c=c.insert(f,d))})),c}))}}class tL{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Ke.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:sl(a.createTime)}})(t)),Ke.resolve()}getNamedQuery(e,t){return Ke.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:HI(a.bundledQuery),readTime:sl(a.readTime)}})(t)),Ke.resolve()}}class nL{constructor(){this.overlays=new Mr(Ot.comparator),this.Lr=new Map}getOverlay(e,t){return Ke.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Nc();return Ke.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,o)=>{this.bt(e,t,o)})),Ke.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),Ke.resolve()}getOverlaysForCollection(e,t,r){const a=Nc(),o=t.length+1,u=new Ot(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return Ke.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Mr(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=o.get(d.largestBatchId);g===null&&(g=Nc(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=Nc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>c.set(d,g))),!(c.size()>=a)););return Ke.resolve(c)}bt(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new _I(t,r));let o=this.Lr.get(t);o===void 0&&(o=En(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}class rL{constructor(){this.sessionToken=fa.EMPTY_BYTE_STRING}getSessionToken(e){return Ke.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ke.resolve()}}class ty{constructor(){this.kr=new ki(Wi.Kr),this.qr=new ki(Wi.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Wi(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Wi(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Ot(new pr([])),r=new Wi(t,e),a=new Wi(t,e+1),o=[];return this.qr.forEachInRange([r,a],(u=>{this.Wr(u),o.push(u.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Ot(new pr([])),r=new Wi(t,e),a=new Wi(t,e+1);let o=En();return this.qr.forEachInRange([r,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new Wi(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Wi{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Ot.comparator(e.key,t.key)||An(e.Hr,t.Hr)}static Ur(e,t){return An(e.Hr,t.Hr)||Ot.comparator(e.key,t.key)}}class iL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new ki(Wi.Kr)}checkEmpty(e){return Ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new bI(o,t,r,a);this.mutationQueue.push(u);for(const c of a)this.Jr=this.Jr.add(new Wi(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ke.resolve(u)}lookupMutationBatch(e,t){return Ke.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Xr(r),o=a<0?0:a;return Ke.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(this.mutationQueue.length===0?W2:this.Yn-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Wi(t,0),a=new Wi(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,a],(u=>{const c=this.Zr(u.Hr);o.push(c)})),Ke.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ki(An);return t.forEach((a=>{const o=new Wi(a,0),u=new Wi(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,u],(c=>{r=r.add(c.Hr)}))})),Ke.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Ot.isDocumentKey(o)||(o=o.child(""));const u=new Wi(new Ot(o),0);let c=new ki(An);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(c=c.add(f.Hr)),!0)}),u),Ke.resolve(this.Yr(c))}Yr(e){const t=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){$n(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Ke.forEach(t.mutations,(a=>{const o=new Wi(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Wi(t,0),a=this.Jr.firstAfterOrEqual(r);return Ke.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ke.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class aL{constructor(e){this.ti=e,this.docs=(function(){return new Mr(Ot.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,u=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ke.resolve(r?r.document.mutableCopy():Ta.newInvalidDocument(t))}getEntries(e,t){let r=Xl();return t.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Ta.newInvalidDocument(a))})),Ke.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Xl();const u=t.path,c=new Ot(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||IR(RR(g),r)<=0||(a.has(g.key)||dg(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Ke.resolve(o)}getAllFromCollectionGroup(e,t,r,a){qt(9500)}ni(e,t){return Ke.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new sL(this)}getSize(e){return Ke.resolve(this.size)}}class sL extends JI{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),Ke.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class oL{constructor(e){this.persistence=e,this.ri=new Vc((t=>K2(t)),Q2),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.ii=0,this.si=new ty,this.targetCount=0,this.oi=Jh._r()}forEachTarget(e,t){return this.ri.forEach(((r,a)=>t(a))),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),Ke.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Jh(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Ke.resolve()}updateTargetData(e,t){return this.lr(t),Ke.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ri.forEach(((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ri.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)})),Ke.waitFor(o).next((()=>a))}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return Ke.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),Ke.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),Ke.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Ke.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return Ke.resolve(r)}containsKey(e,t){return Ke.resolve(this.si.containsKey(t))}}class T3{constructor(e,t){this._i={},this.overlays={},this.ai=new lg(0),this.ui=!1,this.ui=!0,this.ci=new rL,this.referenceDelegate=e(this),this.li=new oL(this),this.indexManager=new GI,this.remoteDocumentCache=(function(a){return new aL(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new qI(t),this.Pi=new tL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new iL(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){ut("MemoryPersistence","Starting transaction:",e);const a=new lL(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((o=>this.referenceDelegate.Ii(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ei(e,t){return Ke.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class lL extends kR{constructor(e){super(),this.currentSequenceNumber=e}}class ny{constructor(e){this.persistence=e,this.Ri=new ty,this.Ai=null}static Vi(e){return new ny(e)}get di(){if(this.Ai)return this.Ai;throw qt(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),Ke.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),Ke.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Ke.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.di,(r=>{const a=Ot.fromPath(r);return this.mi(e,a).next((o=>{o||t.removeEntry(a,Zt.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Ke.or([()=>Ke.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Fm{constructor(e,t){this.persistence=e,this.fi=new Vc((r=>PR(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=XI(this,t)}static Vi(e,t){return new Fm(e,t)}Ti(){}Ii(e){return Ke.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return Ke.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((o=>o?Ke.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,t).next((c=>{c||(r++,o.removeEntry(u,Zt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Ke.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Ke.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Ke.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Ke.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fm(e.data.value)),t}wr(e,t,r){return Ke.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return Ke.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ry{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=a}static Es(e,t){let r=En(),a=En();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new ry(e,t.fromCache,r,a)}}class uL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class cL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ON()?8:DR(Ca())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.gs(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ps(e,t,a,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new uL;return this.ys(e,t,u).next((c=>{if(o.result=c,this.As)return this.ws(e,t,u,c.size)}))})).next((()=>o.result))}ws(e,t,r,a){return r.documentReadCount<this.Vs?(Ch()<=Sn.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Rh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ke.resolve()):(Ch()<=Sn.DEBUG&&ut("QueryEngine","Query:",Rh(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Ch()<=Sn.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Rh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,al(t))):Ke.resolve())}gs(e,t){if(o_(t))return Ke.resolve(null);let r=al(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=X1(t,null,"F"),r=al(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=En(...o);return this.fs.getDocuments(e,u).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(t,c);return this.Ss(t,d,u,f.readTime)?this.gs(e,X1(t,null,"F")):this.Ds(e,d,t,f)}))))})))))}ps(e,t,r,a){return o_(t)||a.isEqual(Zt.min())?Ke.resolve(null):this.fs.getDocuments(e,r).next((o=>{const u=this.bs(t,o);return this.Ss(t,u,r,a)?Ke.resolve(null):(Ch()<=Sn.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Rh(t)),this.Ds(e,u,t,CR(a,Sd)).next((c=>c)))}))}bs(e,t){let r=new ki(i3(e));return t.forEach(((a,o)=>{dg(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ys(e,t,r){return Ch()<=Sn.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Rh(t)),this.fs.getDocumentsMatchingQuery(e,t,$u.min(),r)}Ds(e,t,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const iy="LocalStore",hL=3e8;class fL{constructor(e,t,r,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new Mr(An),this.Fs=new Vc((o=>K2(o)),Q2),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eL(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function dL(n,e,t,r){return new fL(n,e,t,r)}async function C3(n,e){const t=an(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],c=[];let f=En();for(const d of a){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){c.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:u,addedBatchIds:c})))}))}))}function pL(n,e){const t=an(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,g){const w=d.batch,A=w.keys();let _=Ke.resolve();return A.forEach((P=>{_=_.next((()=>g.getEntry(f,P))).next((I=>{const L=d.docVersions.get(P);$n(L!==null,48541),I.version.compareTo(L)<0&&(w.applyToRemoteDocument(I,d),I.isValidDocument()&&(I.setReadTime(d.commitVersion),g.addEntry(I)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=En();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function R3(n){const e=an(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function mL(n,e){const t=an(n),r=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const c=[];e.targetChanges.forEach(((g,w)=>{const A=a.get(w);if(!A)return;c.push(t.li.removeMatchingKeys(o,g.removedDocuments,w).next((()=>t.li.addMatchingKeys(o,g.addedDocuments,w))));let _=A.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(w)!==null?_=_.withResumeToken(fa.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,r)),a=a.insert(w,_),(function(I,L,j){return I.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=hL?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(A,_,g)&&c.push(t.li.updateTargetData(o,_))}));let f=Xl(),d=En();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),c.push(gL(o,u,e.documentUpdates).next((g=>{f=g.Bs,d=g.Ls}))),!r.isEqual(Zt.min())){const g=t.li.getLastRemoteSnapshotVersion(o).next((w=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(g)}return Ke.waitFor(c).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.vs=a,o)))}function gL(n,e,t){let r=En(),a=En();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=Xl();return t.forEach(((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(c)),f.isNoDocument()&&f.version.isEqual(Zt.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):ut(iy,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{Bs:u,Ls:a}}))}function yL(n,e){const t=an(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=W2),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function vL(n,e){const t=an(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.li.getTargetData(r,e).next((o=>o?(a=o,Ke.resolve(a)):t.li.allocateTargetId(r).next((u=>(a=new Bu(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function n2(n,e,t){const r=an(n),a=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!hf(u))throw u;ut(iy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function __(n,e,t){const r=an(n);let a=Zt.min(),o=En();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,g){const w=an(f),A=w.Fs.get(g);return A!==void 0?Ke.resolve(w.vs.get(A)):w.li.getTargetData(d,g)})(r,u,al(e)).next((c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,c.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?a:Zt.min(),t?o:En()))).next((c=>(bL(r,rI(e),c),{documents:c,ks:o})))))}function bL(n,e,t){let r=n.Ms.get(e)||Zt.min();t.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}class w_{constructor(){this.activeTargetIds=uI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _L{constructor(){this.vo=new w_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new w_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wL{Mo(e){}shutdown(){}}const x_="ConnectivityMonitor";class S_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ut(x_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ut(x_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qp=null;function r2(){return Qp===null?Qp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qp++,"0x"+Qp.toString(16)}const i1="RestConnection",xL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class SL{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===Om?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,t,r,a,o){const u=r2(),c=this.Qo(e,t.toUriEncodedString());ut(i1,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,a,o);const{host:d}=new URL(c),g=sf(d);return this.zo(e,c,f,r,g).then((w=>(ut(i1,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw Yh(i1,`RPC '${e}' ${u} failed with error: `,w,"url: ",c,"request:",r),w}))}jo(e,t,r,a,o,u){return this.Wo(e,t,r,a,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}Qo(e,t){const r=xL[e];let a=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class AL{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const wa="WebChannelConnection",Zf=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Fh extends SL{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Fh.c_){const e=O4();Zf(e,D4.STAT_EVENT,(t=>{t.stat===H1.PROXY?ut(wa,"STAT_EVENT: detected buffering proxy"):t.stat===H1.NOPROXY&&ut(wa,"STAT_EVENT: detected no buffering proxy")})),Fh.c_=!0}}zo(e,t,r,a,o){const u=r2();return new Promise(((c,f)=>{const d=new L4;d.setWithCredentials(!0),d.listenOnce(k4.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case hm.NO_ERROR:const w=d.getResponseJson();ut(wa,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),c(w);break;case hm.TIMEOUT:ut(wa,`RPC '${e}' ${u} timed out`),f(new rt(He.DEADLINE_EXCEEDED,"Request time out"));break;case hm.HTTP_ERROR:const A=d.getStatus();if(ut(wa,`RPC '${e}' ${u} failed with status:`,A,"response text:",d.getResponseText()),A>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const P=_?.error;if(P&&P.status&&P.message){const I=(function(j){const $=j.toLowerCase().replace(/_/g,"-");return Object.values(He).indexOf($)>=0?$:He.UNKNOWN})(P.status);f(new rt(I,P.message))}else f(new rt(He.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new rt(He.UNAVAILABLE,"Connection failed."));break;default:qt(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ut(wa,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(a);ut(wa,`RPC '${e}' ${u} sending request:`,a),d.send(t,"POST",g,r,15)}))}T_(e,t,r){const a=r2(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const d=o.join("");ut(wa,`Creating RPC '${e}' stream ${a}: ${d}`,c);const g=u.createWebChannel(d,c);this.I_(g);let w=!1,A=!1;const _=new AL({Ho:P=>{A?ut(wa,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(w||(ut(wa,`Opening RPC '${e}' stream ${a} transport.`),g.open(),w=!0),ut(wa,`RPC '${e}' stream ${a} sending:`,P),g.send(P))},Jo:()=>g.close()});return Zf(g,id.EventType.OPEN,(()=>{A||(ut(wa,`RPC '${e}' stream ${a} transport opened.`),_.i_())})),Zf(g,id.EventType.CLOSE,(()=>{A||(A=!0,ut(wa,`RPC '${e}' stream ${a} transport closed`),_.o_(),this.E_(g))})),Zf(g,id.EventType.ERROR,(P=>{A||(A=!0,Yh(wa,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),_.o_(new rt(He.UNAVAILABLE,"The operation could not be completed")))})),Zf(g,id.EventType.MESSAGE,(P=>{if(!A){const I=P.data[0];$n(!!I,16349);const L=I,j=L?.error||L[0]?.error;if(j){ut(wa,`RPC '${e}' stream ${a} received error:`,j);const $=j.status;let X=(function(_e){const z=mi[_e];if(z!==void 0)return m3(z)})($),Z=j.message;X===void 0&&(X=He.INTERNAL,Z="Unknown error status: "+$+" with message "+j.message),A=!0,_.o_(new rt(X,Z)),g.close()}else ut(wa,`RPC '${e}' stream ${a} received:`,I),_.__(I)}})),Fh.u_(),setTimeout((()=>{_.s_()}),0),_}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return P4()}}function EL(n){return new Fh(n)}function a1(){return typeof document<"u"?document:null}function vg(n){return new RI(n,!0)}Fh.c_=!1;class I3{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=a,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&ut("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const A_="PersistentStream";class L3{constructor(e,t,r,a,o,u,c,f){this.Ci=e,this.b_=r,this.S_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new I3(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===He.RESOURCE_EXHAUSTED?(Ql(t.toString()),Ql("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===He.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new rt(He.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(A_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ut(A_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NL extends L3{constructor(e,t,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=kI(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Zt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Zt.min():u.readTime?sl(u.readTime):Zt.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=t2(this.serializer),t.addTarget=(function(o,u){let c;const f=u.target;if(c=K1(f)?{documents:PI(o,f)}:{query:jI(o,f).ft},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=v3(o,u.resumeToken);const d=J1(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(Zt.min())>0){c.readTime=Um(o,u.snapshotVersion.toTimestamp());const d=J1(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=UI(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=t2(this.serializer),t.removeTarget=e,this.K_(t)}}class TL extends L3{constructor(e,t,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return $n(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$n(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$n(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=OI(e.writeResults,e.commitTime),r=sl(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=t2(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>DI(this.serializer,r)))};this.K_(t)}}class CL{}class RL extends CL{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new rt(He.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Wo(e,Z1(t,r),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new rt(He.UNKNOWN,o.toString())}))}jo(e,t,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.jo(e,Z1(t,r),a,u,c,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rt(He.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function IL(n,e,t,r){return new RL(n,e,t,r)}class LL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ql(t),this.aa=!1):ut("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const jc="RemoteStore";class kL{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{zc(this)&&(ut(jc,"Restarting streams for network reachability change."),await(async function(f){const d=an(f);d.Ea.add(4),await Hd(d),d.Va.set("Unknown"),d.Ea.delete(4),await bg(d)})(this))}))})),this.Va=new LL(r,a)}}async function bg(n){if(zc(n))for(const e of n.Ra)await e(!0)}async function Hd(n){for(const e of n.Ra)await e(!1)}function k3(n,e){const t=an(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ly(t)?oy(t):df(t).O_()&&sy(t,e))}function ay(n,e){const t=an(n),r=df(t);t.Ia.delete(e),r.O_()&&D3(t,e),t.Ia.size===0&&(r.O_()?r.L_():zc(t)&&t.Va.set("Unknown"))}function sy(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Zt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}df(n).Z_(e)}function D3(n,e){n.da.$e(e),df(n).X_(e)}function oy(n){n.da=new EI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),df(n).start(),n.Va.ua()}function ly(n){return zc(n)&&!df(n).x_()&&n.Ia.size>0}function zc(n){return an(n).Ea.size===0}function O3(n){n.da=void 0}async function DL(n){n.Va.set("Online")}async function OL(n){n.Ia.forEach(((e,t)=>{sy(n,e)}))}async function PL(n,e){O3(n),ly(n)?(n.Va.ha(e),oy(n)):n.Va.set("Unknown")}async function jL(n,e,t){if(n.Va.set("Online"),e instanceof y3&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const c of o.targetIds)a.Ia.has(c)&&(await a.remoteSyncer.rejectListen(c,u),a.Ia.delete(c),a.da.removeTarget(c))})(n,e)}catch(r){ut(jc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bm(n,r)}else if(e instanceof mm?n.da.Xe(e):e instanceof g3?n.da.st(e):n.da.tt(e),!t.isEqual(Zt.min()))try{const r=await R3(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const c=o.da.Tt(u);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ia.get(d);g&&o.Ia.set(d,g.withResumeToken(f.resumeToken,u))}})),c.targetMismatches.forEach(((f,d)=>{const g=o.Ia.get(f);if(!g)return;o.Ia.set(f,g.withResumeToken(fa.EMPTY_BYTE_STRING,g.snapshotVersion)),D3(o,f);const w=new Bu(g.target,f,d,g.sequenceNumber);sy(o,w)})),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){ut(jc,"Failed to raise snapshot:",r),await Bm(n,r)}}async function Bm(n,e,t){if(!hf(e))throw e;n.Ea.add(1),await Hd(n),n.Va.set("Offline"),t||(t=()=>R3(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ut(jc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await bg(n)}))}function P3(n,e){return e().catch((t=>Bm(n,t,e)))}async function _g(n){const e=an(n),t=Xu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:W2;for(;ML(e);)try{const a=await yL(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,UL(e,a)}catch(a){await Bm(e,a)}j3(e)&&M3(e)}function ML(n){return zc(n)&&n.Ta.length<10}function UL(n,e){n.Ta.push(e);const t=Xu(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function j3(n){return zc(n)&&!Xu(n).x_()&&n.Ta.length>0}function M3(n){Xu(n).start()}async function FL(n){Xu(n).ra()}async function BL(n){const e=Xu(n);for(const t of n.Ta)e.ea(t.mutations)}async function VL(n,e,t){const r=n.Ta.shift(),a=J2.from(r,e,t);await P3(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await _g(n)}async function zL(n,e){e&&Xu(n).Y_&&await(async function(r,a){if((function(u){return xI(u)&&u!==He.ABORTED})(a.code)){const o=r.Ta.shift();Xu(r).B_(),await P3(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await _g(r)}})(n,e),j3(n)&&M3(n)}async function E_(n,e){const t=an(n);t.asyncQueue.verifyOperationInProgress(),ut(jc,"RemoteStore received new credentials");const r=zc(t);t.Ea.add(3),await Hd(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await bg(t)}async function qL(n,e){const t=an(n);e?(t.Ea.delete(2),await bg(t)):e||(t.Ea.add(2),await Hd(t),t.Va.set("Unknown"))}function df(n){return n.ma||(n.ma=(function(t,r,a){const o=an(t);return o.sa(),new NL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:DL.bind(null,n),Yo:OL.bind(null,n),t_:PL.bind(null,n),J_:jL.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),ly(n)?oy(n):n.Va.set("Unknown")):(await n.ma.stop(),O3(n))}))),n.ma}function Xu(n){return n.fa||(n.fa=(function(t,r,a){const o=an(t);return o.sa(),new TL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:FL.bind(null,n),t_:zL.bind(null,n),ta:BL.bind(null,n),na:VL.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await _g(n)):(await n.fa.stop(),n.Ta.length>0&&(ut(jc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class uy{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Gl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const u=Date.now()+r,c=new uy(e,t,u,a,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(He.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(n,e){if(Ql("AsyncQueue",`${e}: ${n}`),hf(n))return new rt(He.UNAVAILABLE,`${e}: ${n}`);throw n}class Bh{static emptySet(e){return new Bh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ot.comparator(t.key,r.key):(t,r)=>Ot.comparator(t.key,r.key),this.keyedMap=ad(),this.sortedSet=new Mr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Bh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class N_{constructor(){this.ga=new Mr(Ot.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):qt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Zh{constructor(e,t,r,a,o,u,c,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,a,o){const u=[];return t.forEach((c=>{u.push({type:0,doc:c})})),new Zh(e,t,Bh.emptySet(t),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class HL{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class GL{constructor(){this.queries=T_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=an(t),o=a.queries;a.queries=T_(),o.forEach(((u,c)=>{for(const f of c.ba)f.onError(r)}))})(this,new rt(He.ABORTED,"Firestore shutting down"))}}function T_(){return new Vc((n=>r3(n)),fg)}async function hy(n,e){const t=an(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Sa()&&e.Da()&&(r=2):(o=new HL,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const c=cy(u,`Initialization of query '${Rh(e.query)}' failed`);return void e.onError(c)}t.queries.set(a,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&dy(t)}async function fy(n,e){const t=an(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const u=o.ba.indexOf(e);u>=0&&(o.ba.splice(u,1),o.ba.length===0?a=e.Da()?0:1:!o.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function WL(n,e){const t=an(n);let r=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const c of u.ba)c.Fa(a)&&(r=!0);u.wa=a}}r&&dy(t)}function $L(n,e,t){const r=an(n),a=r.queries.get(e);if(a)for(const o of a.ba)o.onError(t);r.queries.delete(e)}function dy(n){n.Ca.forEach((e=>{e.next()}))}var i2,C_;(C_=i2||(i2={})).Ma="default",C_.Cache="cache";class py{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Zh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Zh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==i2.Cache}}class U3{constructor(e){this.key=e}}class F3{constructor(e){this.key=e}}class YL{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=En(),this.mutatedKeys=En(),this.eu=i3(e),this.tu=new Bh(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new N_,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,c=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,w)=>{const A=a.get(g),_=dg(this.query,w)?w:null,P=!!A&&this.mutatedKeys.has(A.key),I=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let L=!1;A&&_?A.data.isEqual(_.data)?P!==I&&(r.track({type:3,doc:_}),L=!0):this.su(A,_)||(r.track({type:2,doc:_}),L=!0,(f&&this.eu(_,f)>0||d&&this.eu(_,d)<0)&&(c=!0)):!A&&_?(r.track({type:0,doc:_}),L=!0):A&&!_&&(r.track({type:1,doc:A}),L=!0,(f||d)&&(c=!0)),L&&(_?(u=u.add(_),o=I?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Ss:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,w)=>(function(_,P){const I=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt(20277,{Vt:L})}};return I(_)-I(P)})(g.type,w.type)||this.eu(g.doc,w.doc))),this.ou(r),a=a??!1;const c=t&&!a?this._u():[],f=this.Ya.size===0&&this.current&&!a?1:0,d=f!==this.Xa;return this.Xa=f,u.length!==0||d?{snapshot:new Zh(this.query,e.tu,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new N_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=En(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new F3(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new U3(r))})),t}cu(e){this.Za=e.ks,this.Ya=En();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Zh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const my="SyncEngine";class KL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class QL{constructor(e){this.key=e,this.hu=!1}}class XL{constructor(e,t,r,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Vc((c=>r3(c)),fg),this.Iu=new Map,this.Eu=new Set,this.Ru=new Mr(Ot.comparator),this.Au=new Map,this.Vu=new ty,this.du={},this.mu=new Map,this.fu=Jh.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JL(n,e,t=!0){const r=G3(n);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await B3(r,e,t,!0),a}async function ZL(n,e){const t=G3(n);await B3(t,e,!0,!1)}async function B3(n,e,t,r){const a=await vL(n.localStore,al(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await e7(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&k3(n.remoteStore,a),c}async function e7(n,e,t,r,a){n.pu=(w,A,_)=>(async function(I,L,j,$){let X=L.view.ru(j);X.Ss&&(X=await __(I.localStore,L.query,!1).then((({documents:z})=>L.view.ru(z,X))));const Z=$&&$.targetChanges.get(L.targetId),se=$&&$.targetMismatches.get(L.targetId)!=null,_e=L.view.applyChanges(X,I.isPrimaryClient,Z,se);return I_(I,L.targetId,_e.au),_e.snapshot})(n,w,A,_);const o=await __(n.localStore,e,!0),u=new YL(e,o.ks),c=u.ru(o.documents),f=qd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),d=u.applyChanges(c,n.isPrimaryClient,f);I_(n,t,d.au);const g=new KL(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function t7(n,e,t){const r=an(n),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((u=>!fg(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await n2(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&ay(r.remoteStore,a.targetId),a2(r,a.targetId)})).catch(cf)):(a2(r,a.targetId),await n2(r.localStore,a.targetId,!0))}async function n7(n,e){const t=an(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ay(t.remoteStore,r.targetId))}async function r7(n,e,t){const r=c7(n);try{const a=await(function(u,c){const f=an(u),d=wr.now(),g=c.reduce(((_,P)=>_.add(P.key)),En());let w,A;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let P=Xl(),I=En();return f.xs.getEntries(_,g).next((L=>{P=L,P.forEach(((j,$)=>{$.isValidDocument()||(I=I.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,P))).next((L=>{w=L;const j=[];for(const $ of c){const X=yI($,w.get($.key).overlayedDocument);X!=null&&j.push(new rc($.key,X,K4(X.value.mapValue),Va.exists(!0)))}return f.mutationQueue.addMutationBatch(_,d,j,c)})).next((L=>{A=L;const j=L.applyToLocalDocumentSet(w,I);return f.documentOverlayCache.saveOverlays(_,L.batchId,j)}))})).then((()=>({batchId:A.batchId,changes:s3(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,c,f){let d=u.du[u.currentUser.toKey()];d||(d=new Mr(An)),d=d.insert(c,f),u.du[u.currentUser.toKey()]=d})(r,a.batchId,t),await Gd(r,a.changes),await _g(r.remoteStore)}catch(a){const o=cy(a,"Failed to persist write");t.reject(o)}}async function V3(n,e){const t=an(n);try{const r=await mL(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=t.Au.get(o);u&&($n(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?$n(u.hu,14607):a.removedDocuments.size>0&&($n(u.hu,42227),u.hu=!1))})),await Gd(t,r,e)}catch(r){await cf(r)}}function R_(n,e,t){const r=an(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((o,u)=>{const c=u.view.va(e);c.snapshot&&a.push(c.snapshot)})),(function(u,c){const f=an(u);f.onlineState=c;let d=!1;f.queries.forEach(((g,w)=>{for(const A of w.ba)A.va(c)&&(d=!0)})),d&&dy(f)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function i7(n,e,t){const r=an(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),o=a&&a.key;if(o){let u=new Mr(Ot.comparator);u=u.insert(o,Ta.newNoDocument(o,Zt.min()));const c=En().add(o),f=new yg(Zt.min(),new Map,new Mr(An),u,c);await V3(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(e),gy(r)}else await n2(r.localStore,e,!1).then((()=>a2(r,e,t))).catch(cf)}async function a7(n,e){const t=an(n),r=e.batch.batchId;try{const a=await pL(t.localStore,e);q3(t,r,null),z3(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Gd(t,a)}catch(a){await cf(a)}}async function s7(n,e,t){const r=an(n);try{const a=await(function(u,c){const f=an(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,c).next((w=>($n(w!==null,37113),g=w.keys(),f.mutationQueue.removeMutationBatch(d,w)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(r.localStore,e);q3(r,e,t),z3(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Gd(r,a)}catch(a){await cf(a)}}function z3(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function q3(n,e,t){const r=an(n);let a=r.du[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function a2(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||H3(n,r)}))}function H3(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(ay(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),gy(n))}function I_(n,e,t){for(const r of t)r instanceof U3?(n.Vu.addReference(r.key,e),o7(n,r)):r instanceof F3?(ut(my,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||H3(n,r.key)):qt(19791,{wu:r})}function o7(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(ut(my,"New document in limbo: "+t),n.Eu.add(r),gy(n))}function gy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ot(pr.fromString(e)),r=n.fu.next();n.Au.set(r,new QL(t)),n.Ru=n.Ru.insert(t,r),k3(n.remoteStore,new Bu(al(hg(t.path)),r,"TargetPurposeLimboResolution",lg.ce))}}async function Gd(n,e,t){const r=an(n),a=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{u.push(r.pu(f,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const g=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){a.push(d);const g=ry.Es(f.targetId,d);o.push(g)}})))})),await Promise.all(u),r.Pu.J_(a),await(async function(f,d){const g=an(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Ke.forEach(d,(A=>Ke.forEach(A.Ts,(_=>g.persistence.referenceDelegate.addReference(w,A.targetId,_))).next((()=>Ke.forEach(A.Is,(_=>g.persistence.referenceDelegate.removeReference(w,A.targetId,_)))))))))}catch(w){if(!hf(w))throw w;ut(iy,"Failed to update sequence numbers: "+w)}for(const w of d){const A=w.targetId;if(!w.fromCache){const _=g.vs.get(A),P=_.snapshotVersion,I=_.withLastLimboFreeSnapshotVersion(P);g.vs=g.vs.insert(A,I)}}})(r.localStore,o))}async function l7(n,e){const t=an(n);if(!t.currentUser.isEqual(e)){ut(my,"User change. New user:",e.toKey());const r=await C3(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new rt(He.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gd(t,r.Ns)}}function u7(n,e){const t=an(n),r=t.Au.get(e);if(r&&r.hu)return En().add(r.key);{let a=En();const o=t.Iu.get(e);if(!o)return a;for(const u of o){const c=t.Tu.get(u);a=a.unionWith(c.view.nu)}return a}}function G3(n){const e=an(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=V3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i7.bind(null,e),e.Pu.J_=WL.bind(null,e.eventManager),e.Pu.yu=$L.bind(null,e.eventManager),e}function c7(n){const e=an(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s7.bind(null,e),e}class Vm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return dL(this.persistence,new cL,e.initialUser,this.serializer)}Cu(e){return new T3(ny.Vi,this.serializer)}Du(e){return new _L}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vm.provider={build:()=>new Vm};class h7 extends Vm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){$n(this.persistence.referenceDelegate instanceof Fm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new KI(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new T3((r=>Fm.Vi(r,t)),this.serializer)}}class s2{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>R_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=l7.bind(null,this.syncEngine),await qL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new GL})()}createDatastore(e){const t=vg(e.databaseInfo.databaseId),r=EL(e.databaseInfo);return IL(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,o,u,c){return new kL(r,a,o,u,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>R_(this.syncEngine,t,0)),(function(){return S_.v()?new S_:new wL})())}createSyncEngine(e,t){return(function(a,o,u,c,f,d,g){const w=new XL(a,o,u,c,f,d);return g&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=an(t);ut(jc,"RemoteStore shutting down."),r.Ea.add(5),await Hd(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}s2.provider={build:()=>new s2};class yy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ql("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ju="FirestoreClient";class f7{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=a,this.user=Na.UNAUTHENTICATED,this.clientId=G2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{ut(Ju,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ut(Ju,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=cy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function s1(n,e){n.asyncQueue.verifyOperationInProgress(),ut(Ju,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await C3(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function L_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await d7(n);ut(Ju,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>E_(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>E_(e.remoteStore,a))),n._onlineComponents=e}async function d7(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ut(Ju,"Using user provided OfflineComponentProvider");try{await s1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===He.FAILED_PRECONDITION||a.code===He.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Yh("Error using user provided cache. Falling back to memory cache: "+t),await s1(n,new Vm)}}else ut(Ju,"Using default OfflineComponentProvider"),await s1(n,new h7(void 0));return n._offlineComponents}async function W3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ut(Ju,"Using user provided OnlineComponentProvider"),await L_(n,n._uninitializedComponentsProvider._online)):(ut(Ju,"Using default OnlineComponentProvider"),await L_(n,new s2))),n._onlineComponents}function p7(n){return W3(n).then((e=>e.syncEngine))}async function zm(n){const e=await W3(n),t=e.eventManager;return t.onListen=JL.bind(null,e.syncEngine),t.onUnlisten=t7.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ZL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=n7.bind(null,e.syncEngine),t}function m7(n,e,t,r){const a=new yy(r),o=new py(e,a,t);return n.asyncQueue.enqueueAndForget((async()=>hy(await zm(n),o))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>fy(await zm(n),o)))}}function g7(n,e,t={}){const r=new Gl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const g=new yy({next:A=>{g.Nu(),u.enqueueAndForget((()=>fy(o,w)));const _=A.docs.has(c);!_&&A.fromCache?d.reject(new rt(He.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&A.fromCache&&f&&f.source==="server"?d.reject(new rt(He.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(A)},error:A=>d.reject(A)}),w=new py(hg(c.path),g,{includeMetadataChanges:!0,Ka:!0});return hy(o,w)})(await zm(n),n.asyncQueue,e,t,r))),r.promise}function y7(n,e,t={}){const r=new Gl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const g=new yy({next:A=>{g.Nu(),u.enqueueAndForget((()=>fy(o,w))),A.fromCache&&f.source==="server"?d.reject(new rt(He.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(A)},error:A=>d.reject(A)}),w=new py(c,g,{includeMetadataChanges:!0,Ka:!0});return hy(o,w)})(await zm(n),n.asyncQueue,e,t,r))),r.promise}function v7(n,e){const t=new Gl;return n.asyncQueue.enqueueAndForget((async()=>r7(await p7(n),e,t))),t.promise}function $3(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const b7="ComponentProvider",k_=new Map;function _7(n,e,t,r,a){return new UR(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,$3(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const Y3="firestore.googleapis.com",D_=!0;class O_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(He.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Y3,this.ssl=D_}else this.host=e.host,this.ssl=e.ssl??D_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=N3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$I)throw new rt(He.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt(He.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt(He.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt(He.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wg{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(He.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(He.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new yR;switch(r.type){case"firstParty":return new wR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(He.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=k_.get(t);r&&(ut(b7,"Removing Datastore"),k_.delete(t),r.terminate())})(this),Promise.resolve()}}function w7(n,e,t,r={}){n=Ba(n,wg);const a=sf(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;a&&(Bx(`https://${c}`),Vx("Firestore",!0)),o.host!==Y3&&o.host!==c&&Yh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:c,ssl:a,emulatorOptions:r};if(!Lc(f,u)&&(n._setSettings(f),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=Na.MOCK_USER;else{d=EN(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new rt(He.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Na(w)}n._authCredentials=new vR(new M4(d,g))}}class ic{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ic(this.firestore,e,this._query)}}class Kr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kr(this.firestore,e,this._key)}toJSON(){return{type:Kr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Vd(t,Kr._jsonSchema))return new Kr(e,r||null,new Ot(pr.fromString(t.referencePath)))}}Kr._jsonSchemaVersion="firestore/documentReference/1.0",Kr._jsonSchema={type:yi("string",Kr._jsonSchemaVersion),referencePath:yi("string")};class Wu extends ic{constructor(e,t,r){super(e,t,hg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kr(this.firestore,null,new Ot(e))}withConverter(e){return new Wu(this.firestore,e,this._path)}}function mn(n,e,...t){if(n=Qr(n),U4("collection","path",e),n instanceof wg){const r=pr.fromString(e,...t);return $b(r),new Wu(n,null,r)}{if(!(n instanceof Kr||n instanceof Wu))throw new rt(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pr.fromString(e,...t));return $b(r),new Wu(n.firestore,null,r)}}function za(n,e,...t){if(n=Qr(n),arguments.length===1&&(e=G2.newId()),U4("doc","path",e),n instanceof wg){const r=pr.fromString(e,...t);return Wb(r),new Kr(n,null,new Ot(r))}{if(!(n instanceof Kr||n instanceof Wu))throw new rt(He.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pr.fromString(e,...t));return Wb(r),new Kr(n.firestore,n instanceof Wu?n.converter:null,new Ot(r))}}const P_="AsyncQueue";class j_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new I3(this,"async_queue_retry"),this._c=()=>{const r=a1();r&&ut(P_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=a1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=a1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Gl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!hf(e))throw e;ut(P_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ql("INTERNAL UNHANDLED ERROR: ",M_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=uy.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&qt(47125,{Pc:M_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function M_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ul extends wg{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new j_,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j_(e),this._firestoreClient=void 0,await e}}}function x7(n,e){const t=typeof n=="object"?n:Gx(),r=typeof n=="string"?n:Om,a=P2(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=SN("firestore");o&&w7(a,...o)}return a}function Wd(n){if(n._terminated)throw new rt(He.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||S7(n),n._firestoreClient}function S7(n){const e=n._freezeSettings(),t=_7(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new f7(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class Xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xs(fa.fromBase64String(e))}catch(t){throw new rt(He.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xs(fa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vd(e,Xs._jsonSchema))return Xs.fromBase64String(e.bytes)}}Xs._jsonSchemaVersion="firestore/bytes/1.0",Xs._jsonSchema={type:yi("string",Xs._jsonSchemaVersion),bytes:yi("string")};class xg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new rt(He.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ca(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sg{constructor(e){this._methodName=e}}class ol{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new rt(He.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new rt(He.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return An(this._lat,e._lat)||An(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ol._jsonSchemaVersion}}static fromJSON(e){if(Vd(e,ol._jsonSchema))return new ol(e.latitude,e.longitude)}}ol._jsonSchemaVersion="firestore/geoPoint/1.0",ol._jsonSchema={type:yi("string",ol._jsonSchemaVersion),latitude:yi("number"),longitude:yi("number")};class So{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:So._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vd(e,So._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new So(e.vectorValues);throw new rt(He.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}So._jsonSchemaVersion="firestore/vectorValue/1.0",So._jsonSchema={type:yi("string",So._jsonSchemaVersion),vectorValues:yi("object")};const A7=/^__.*__$/;class E7{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new rc(e,this.data,this.fieldMask,t,this.fieldTransforms):new zd(e,this.data,t,this.fieldTransforms)}}class K3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new rc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Q3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt(40011,{dataSource:n})}}class vy{constructor(e,t,r,a,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new vy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return qm(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Q3(this.dataSource)&&A7.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class N7{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||vg(e)}createContext(e,t,r,a=!1){return new vy({dataSource:e,methodName:t,targetDoc:r,path:ca.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $d(n){const e=n._freezeSettings(),t=vg(n._databaseId);return new N7(n._databaseId,!!e.ignoreUndefinedProperties,t)}function by(n,e,t,r,a,o={}){const u=n.createContext(o.merge||o.mergeFields?2:0,e,t,a);wy("Data must be an object, but it was:",u,r);const c=Z3(r,u);let f,d;if(o.merge)f=new Cs(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const w of o.mergeFields){const A=Mc(e,w,t);if(!u.contains(A))throw new rt(He.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);nS(g,A)||g.push(A)}f=new Cs(g),d=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,d=u.fieldTransforms;return new E7(new hs(c),f,d)}class Ag extends Sg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ag}}class _y extends Sg{_toFieldTransform(e){return new dI(e.path,new Cd)}isEqual(e){return e instanceof _y}}function X3(n,e,t,r){const a=n.createContext(1,e,t);wy("Data must be an object, but it was:",a,r);const o=[],u=hs.empty();nc(r,((f,d)=>{const g=tS(e,f,t);d=Qr(d);const w=a.childContextForFieldPath(g);if(d instanceof Ag)o.push(g);else{const A=Yd(d,w);A!=null&&(o.push(g),u.set(g,A))}}));const c=new Cs(o);return new K3(u,c,a.fieldTransforms)}function J3(n,e,t,r,a,o){const u=n.createContext(1,e,t),c=[Mc(e,r,t)],f=[a];if(o.length%2!=0)throw new rt(He.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<o.length;A+=2)c.push(Mc(e,o[A])),f.push(o[A+1]);const d=[],g=hs.empty();for(let A=c.length-1;A>=0;--A)if(!nS(d,c[A])){const _=c[A];let P=f[A];P=Qr(P);const I=u.childContextForFieldPath(_);if(P instanceof Ag)d.push(_);else{const L=Yd(P,I);L!=null&&(d.push(_),g.set(_,L))}}const w=new Cs(d);return new K3(g,w,u.fieldTransforms)}function T7(n,e,t,r=!1){return Yd(t,n.createContext(r?4:3,e))}function Yd(n,e){if(eS(n=Qr(n)))return wy("Unsupported field value:",e,n),Z3(n,e);if(n instanceof Sg)return(function(r,a){if(!Q3(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const o=[];let u=0;for(const c of r){let f=Yd(c,a.childContextForArray(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,a){if((r=Qr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cI(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=wr.fromDate(r);return{timestampValue:Um(a.serializer,o)}}if(r instanceof wr){const o=new wr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Um(a.serializer,o)}}if(r instanceof ol)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xs)return{bytesValue:v3(a.serializer,r._byteString)};if(r instanceof Kr){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ey(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof So)return(function(u,c){const f=u instanceof So?u.toArray():u;return{mapValue:{fields:{[$4]:{stringValue:Y4},[Pm]:{arrayValue:{values:f.map((g=>{if(typeof g!="number")throw c.createError("VectorValues must only contain numeric values.");return X2(c.serializer,g)}))}}}}}})(r,a);if(E3(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${og(r)}`)})(n,e)}function Z3(n,e){const t={};return V4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nc(n,((r,a)=>{const o=Yd(a,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function eS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wr||n instanceof ol||n instanceof Xs||n instanceof Kr||n instanceof Sg||n instanceof So||E3(n))}function wy(n,e,t){if(!eS(t)||!F4(t)){const r=og(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Mc(n,e,t){if((e=Qr(e))instanceof xg)return e._internalPath;if(typeof e=="string")return tS(n,e);throw qm("Field path arguments must be of type string or ",n,!1,void 0,t)}const C7=new RegExp("[~\\*/\\[\\]]");function tS(n,e,t){if(e.search(C7)>=0)throw qm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xg(...e.split("."))._internalPath}catch{throw qm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qm(n,e,t,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new rt(He.INVALID_ARGUMENT,c+n+f)}function nS(n,e){return n.some((t=>t.isEqual(e)))}class R7{convertValue(e,t="none"){switch(Qu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ni(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ku(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw qt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return nc(e,((a,o)=>{r[a]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[Pm].arrayValue?.values?.map((r=>ni(r.doubleValue)));return new So(t)}convertGeoPoint(e){return new ol(ni(e.latitude),ni(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=cg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ad(e));default:return null}}convertTimestamp(e){const t=Yu(e);return new wr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pr.fromString(e);$n(A3(r),9688,{name:e});const a=new Ed(r.get(1),r.get(3)),o=new Ot(r.popFirst(5));return a.isEqual(t)||Ql(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class xy extends R7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kr(this.firestore,null,t)}}function Wl(){return new _y("serverTimestamp")}const U_="@firebase/firestore",F_="4.10.0";function B_(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class rS{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Kr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Mc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class I7 extends rS{data(){return super.data()}}function iS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new rt(He.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sy{}class aS extends Sy{}function mr(n,e,...t){let r=[];e instanceof Sy&&r.push(e),r=r.concat(t),(function(o){const u=o.filter((f=>f instanceof Ay)).length,c=o.filter((f=>f instanceof Eg)).length;if(u>1||u>0&&c>0)throw new rt(He.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class Eg extends aS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Eg(e,t,r)}_apply(e){const t=this._parse(e);return oS(e._query,t),new ic(e.firestore,e.converter,Q1(e._query,t))}_parse(e){const t=$d(e.firestore);return(function(o,u,c,f,d,g,w){let A;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new rt(He.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){z_(w,g);const P=[];for(const I of w)P.push(V_(f,o,I));A={arrayValue:{values:P}}}else A=V_(f,o,w)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||z_(w,g),A=T7(c,u,w,g==="in"||g==="not-in");return gi.create(d,g,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function si(n,e,t){const r=e,a=Mc("where",n);return Eg._create(a,r,t)}class Ay extends Sy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ay(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:No.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let u=a;const c=o.getFlattenedFilters();for(const f of c)oS(u,f),u=Q1(u,f)})(e._query,t),new ic(e.firestore,e.converter,Q1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ey extends aS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ey(e,t)}_apply(e){const t=(function(a,o,u){if(a.startAt!==null)throw new rt(He.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new rt(He.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Td(o,u)})(e._query,this._field,this._direction);return new ic(e.firestore,e.converter,nI(e._query,t))}}function sS(n,e="asc"){const t=e,r=Mc("orderBy",n);return Ey._create(r,t)}function V_(n,e,t){if(typeof(t=Qr(t))=="string"){if(t==="")throw new rt(He.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n3(e)&&t.indexOf("/")!==-1)throw new rt(He.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(pr.fromString(t));if(!Ot.isDocumentKey(r))throw new rt(He.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return t_(n,new Ot(r))}if(t instanceof Kr)return t_(n,t._key);throw new rt(He.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${og(t)}.`)}function z_(n,e){if(!Array.isArray(n)||n.length===0)throw new rt(He.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oS(n,e){const t=(function(a,o){for(const u of a)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new rt(He.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(He.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Ny(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class od{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tc extends rS{constructor(e,t,r,a,o,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Mc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(He.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Tc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Tc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Tc._jsonSchema={type:yi("string",Tc._jsonSchemaVersion),bundleSource:yi("string","DocumentSnapshot"),bundleName:yi("string"),bundle:yi("string")};class gm extends Tc{data(e={}){return super.data(e)}}class Cc{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new od(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new gm(this._firestore,this._userDataWriter,r.key,r,new od(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new rt(He.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((c=>{const f=new gm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new od(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new gm(a._firestore,a._userDataWriter,c.doc.key,c.doc,new od(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,g=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),g=u.indexOf(c.doc.key)),{type:L7(c.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(He.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=G2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function L7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt(61501,{type:n})}}Cc._jsonSchemaVersion="firestore/querySnapshot/1.0",Cc._jsonSchema={type:yi("string",Cc._jsonSchemaVersion),bundleSource:yi("string","QuerySnapshot"),bundleName:yi("string"),bundle:yi("string")};class k7{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=$d(e)}set(e,t,r){this._verifyNotCommitted();const a=o1(e,this._firestore),o=Ny(a.converter,t,r),u=by(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,r);return this._mutations.push(u.toMutation(a._key,Va.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const o=o1(e,this._firestore);let u;return u=typeof(t=Qr(t))=="string"||t instanceof xg?J3(this._dataReader,"WriteBatch.update",o._key,t,r,a):X3(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,Va.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=o1(e,this._firestore);return this._mutations=this._mutations.concat(new gg(t._key,Va.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rt(He.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function o1(n,e){if((n=Qr(n)).firestore!==e)throw new rt(He.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Ty(n){n=Ba(n,Kr);const e=Ba(n.firestore,ul),t=Wd(e);return g7(t,n._key).then((r=>lS(e,n,r)))}function Fa(n){n=Ba(n,ic);const e=Ba(n.firestore,ul),t=Wd(e),r=new xy(e);return iS(n._query),y7(t,n._query).then((a=>new Cc(e,r,n,a)))}function Cy(n,e,t){n=Ba(n,Kr);const r=Ba(n.firestore,ul),a=Ny(n.converter,e,t),o=$d(r);return Kd(r,[by(o,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Va.none())])}function Hm(n,e,t,...r){n=Ba(n,Kr);const a=Ba(n.firestore,ul),o=$d(a);let u;return u=typeof(e=Qr(e))=="string"||e instanceof xg?J3(o,"updateDoc",n._key,e,t,r):X3(o,"updateDoc",n._key,e),Kd(a,[u.toMutation(n._key,Va.exists(!0))])}function D7(n){return Kd(Ba(n.firestore,ul),[new gg(n._key,Va.none())])}function Rc(n,e){const t=Ba(n.firestore,ul),r=za(n),a=Ny(n.converter,e),o=$d(n.firestore);return Kd(t,[by(o,"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Va.exists(!1))]).then((()=>r))}function ha(n,...e){n=Qr(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||B_(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(B_(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let o,u,c;if(n instanceof Kr)u=Ba(n.firestore,ul),c=hg(n._key.path),o={next:d=>{e[r]&&e[r](lS(u,n,d))},error:e[r+1],complete:e[r+2]};else{const d=Ba(n,ic);u=Ba(d.firestore,ul),c=d._query;const g=new xy(u);o={next:w=>{e[r]&&e[r](new Cc(u,g,d,w))},error:e[r+1],complete:e[r+2]},iS(n._query)}const f=Wd(u);return m7(f,c,a,o)}function Kd(n,e){const t=Wd(n);return v7(t,e)}function lS(n,e,t){const r=t.docs.get(e._key),a=new xy(n);return new Tc(n,a,e._key,r,new od(t.hasPendingWrites,t.fromCache),e.converter)}function O7(n){return n=Ba(n,ul),Wd(n),new k7(n,(e=>Kd(n,e)))}(function(e,t=!0){gR(of),$h(new kc("firestore",((r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new ul(new bR(r.getProvider("auth-internal")),new xR(u,r.getProvider("app-check-internal")),FR(u,a),u);return o={useFetchStreams:t,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Hu(U_,F_,e),Hu(U_,F_,"esm2020")})();var P7="firebase",j7="12.8.0";Hu(P7,j7,"app");const M7={apiKey:"AIzaSyDyGohZmFuhTbloXWpcHpzRfVRi-JB0UUI",authDomain:"sleme-mess-app.firebaseapp.com",projectId:"sleme-mess-app",storageBucket:"sleme-mess-app.firebasestorage.app",messagingSenderId:"163661936584",appId:"1:163661936584:web:1327cc54cdd9fa8476f2fd"},uS=Hx(M7),ef=pR(uS),Ft=x7(uS),cS=he.createContext();function nu(){return he.useContext(cS)}function U7({children:n}){const[e,t]=he.useState(null),[r,a]=he.useState(null),[o,u]=he.useState(!0);he.useEffect(()=>r8(ef,async d=>{if(t(d),d)try{const g=await Ty(za(Ft,"users",d.uid));g.exists()?a(g.data()):(console.error("User document does not exist. Signing out..."),a(null),await b4(ef))}catch(g){console.error("Error fetching user data:",g),a(null)}else a(null);u(!1)}),[]);const c={currentUser:e,userData:r,loading:o};return x.jsx(cS.Provider,{value:c,children:!o&&n})}function F7(){return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-army-50 px-4",children:x.jsxs("div",{className:"w-full max-w-md",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h1",{className:"text-3xl font-bold text-army-900",children:"3 SLEME MESS"}),x.jsx("p",{className:"text-army-600 mt-2",children:"Mess Management System"})]}),x.jsx(Cx,{})]})})}const hS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();const B7=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const V7=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());const q_=n=>{const e=V7(n);return e.charAt(0).toUpperCase()+e.slice(1)};var z7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const q7=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const H7=he.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...c},f)=>he.createElement("svg",{ref:f,...z7,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:hS("lucide",a),...!o&&!q7(c)&&{"aria-hidden":"true"},...c},[...u.map(([d,g])=>he.createElement(d,g)),...Array.isArray(o)?o:[o]]));const Nn=(n,e)=>{const t=he.forwardRef(({className:r,...a},o)=>he.createElement(H7,{ref:o,iconNode:e,className:hS(`lucide-${B7(q_(n))}`,`lucide-${n}`,r),...a}));return t.displayName=q_(n),t};const G7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],W7=Nn("arrow-right",G7);const $7=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],xc=Nn("arrow-up-down",$7);const Y7=[["path",{d:"M17 11h1a3 3 0 0 1 0 6h-1",key:"1yp76v"}],["path",{d:"M9 12v6",key:"1u1cab"}],["path",{d:"M13 12v6",key:"1sugkk"}],["path",{d:"M14 7.5c-1 0-1.44.5-3 .5s-2-.5-3-.5-1.72.5-2.5.5a2.5 2.5 0 0 1 0-5c.78 0 1.57.5 2.5.5S9.44 2 11 2s2 1.5 3 1.5 1.72-.5 2.5-.5a2.5 2.5 0 0 1 0 5c-.78 0-1.5-.5-2.5-.5Z",key:"1510fo"}],["path",{d:"M5 8v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"19jb7n"}]],K7=Nn("beer",Y7);const Q7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qd=Nn("calendar",Q7);const X7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],J7=Nn("check",X7);const Z7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ek=Nn("chevron-left",Z7);const tk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nk=Nn("chevron-right",tk);const rk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ik=Nn("circle-check-big",rk);const ak=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Gm=Nn("clipboard-list",ak);const sk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ok=Nn("clock",sk);const lk=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ry=Nn("dollar-sign",lk);const uk=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],o2=Nn("download",uk);const ck=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],hk=Nn("funnel",ck);const fk=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],H_=Nn("layout-dashboard",fk);const dk=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],pk=Nn("layout-grid",dk);const mk=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],l2=Nn("loader-circle",mk);const gk=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yk=Nn("log-out",gk);const vk=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],bk=Nn("menu",vk);const _k=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Wm=Nn("message-square",_k);const wk=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xk=Nn("pen",wk);const Sk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ak=Nn("plus",Sk);const Ek=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],u2=Nn("receipt",Ek);const Nk=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fS=Nn("refresh-cw",Nk);const Tk=[["path",{d:"M10 2v3a1 1 0 0 0 1 1h5",key:"1xspal"}],["path",{d:"M18 18v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6",key:"1ra60u"}],["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"M8 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 22 6.828V16a2 2 0 0 1-2.01 2z",key:"1yve0x"}]],Ck=Nn("save-all",Tk);const Rk=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ik=Nn("save",Rk);const Lk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dS=Nn("search",Lk);const kk=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],G_=Nn("send",kk);const Dk=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],W_=Nn("square-check-big",Dk);const Ok=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Pk=Nn("square",Ok);const jk=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mk=Nn("trash-2",jk);const Uk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pS=Nn("user",Uk);const Fk=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],md=Nn("utensils-crossed",Fk);const Bk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$m=Nn("users",Bk);const Vk=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Vh=Nn("utensils",Vk);const zk=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],tf=Nn("wine",zk);const qk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Iy=Nn("x",qk);function $_({role:n}){const[e,t]=he.useState(!1),{userData:r}=nu(),a=Bc(),o=async()=>{try{await b4(ef),a("/login")}catch(d){console.error("Error signing out: ",d)}},f=n==="admin"?[{path:"/admin",label:"Dashboard",icon:H_},{path:"/admin/messages",label:"Messages",icon:Wm},{path:"/admin/menu",label:"Menu Management",icon:md},{path:"/admin/kitchen",label:"Kitchen Summary",icon:md},{path:"/admin/ledger",label:"Daily Ledger",icon:Gm},{path:"/admin/billing",label:"Master Billing",icon:u2},{path:"/admin/officers",label:"Officers",icon:$m},{path:"/admin/inventory",label:"Inventory",icon:tf}]:[{path:"/dashboard",label:"Dashboard",icon:H_},{path:"/messages",label:"Messages",icon:Wm},{path:"/menu",label:"Menu & RSVP",icon:md},{path:"/bill",label:"My Bill",icon:u2},{path:"/history",label:"History",icon:Gm},{path:"/bar",label:"Bar Facilities",icon:tf}];return x.jsxs("div",{className:"min-h-screen bg-army-50 flex",children:[e&&x.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>t(!1)}),x.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-army-900 text-white transform transition-transform duration-200 ease-in-out lg:relative lg:translate-x-0
        ${e?"translate-x-0":"-translate-x-full"}
      `,children:x.jsxs("div",{className:"h-full flex flex-col",children:[x.jsxs("div",{className:"p-6 border-b border-army-800 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold",children:"3 SLEME"}),x.jsx("p",{className:"text-xs text-army-300",children:"Mess Management"})]}),x.jsx("button",{onClick:()=>t(!1),className:"lg:hidden p-1 hover:bg-army-800 rounded",children:x.jsx(Iy,{size:20})})]}),x.jsxs("div",{className:"p-4 border-b border-army-800",children:[x.jsx("p",{className:"text-sm font-medium truncate",children:r?.name||"User"}),x.jsx("p",{className:"text-xs text-army-400 capitalize",children:n})]}),x.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:f.map(d=>x.jsxs(kx,{to:d.path,onClick:()=>t(!1),className:({isActive:g})=>`
                  flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors
                  ${g?"bg-army-700 text-white":"text-army-300 hover:bg-army-800 hover:text-white"}
                `,children:[x.jsx(d.icon,{size:20}),d.label]},d.path))}),x.jsx("div",{className:"p-4 border-t border-army-800",children:x.jsxs("button",{onClick:o,className:"flex items-center gap-3 px-4 py-3 w-full rounded-lg text-sm font-medium text-red-400 hover:bg-army-800 hover:text-red-300 transition-colors",children:[x.jsx(yk,{size:20}),"Logout"]})})]})}),x.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[x.jsx("header",{className:"bg-white border-b border-army-200 p-4 lg:hidden",children:x.jsx("button",{onClick:()=>t(!0),className:"p-2 text-army-700 hover:bg-army-50 rounded-lg",children:x.jsx(bk,{size:24})})}),x.jsx("main",{className:"flex-1 p-4 lg:p-8 overflow-auto",children:x.jsx(Cx,{})})]})]})}function vi({children:n,onClick:e,type:t="button",variant:r="primary",className:a="",disabled:o=!1}){const u="px-4 py-2 rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",c={primary:"bg-army-600 text-white hover:bg-army-700 focus:ring-army-500",secondary:"bg-white text-army-700 border border-army-300 hover:bg-army-50 focus:ring-army-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"text-army-600 hover:bg-army-100 focus:ring-army-500"};return x.jsx("button",{type:t,onClick:e,disabled:o,className:`${u} ${c[r]} ${a}`,children:n})}function ua({label:n,type:e="text",id:t,value:r,onChange:a,placeholder:o,required:u=!1,className:c=""}){return x.jsxs("div",{className:`mb-4 ${c}`,children:[n&&x.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-army-800 mb-1",children:n}),x.jsx("input",{type:e,id:t,value:r,onChange:a,placeholder:o,required:u,className:"w-full px-3 py-2 border border-army-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-500 focus:border-army-500 bg-white"})]})}function gn({children:n,className:e=""}){return x.jsx("div",{className:`bg-white rounded-xl shadow-md border border-army-100 p-6 ${e}`,children:n})}function Hk(){const[n,e]=he.useState(""),[t,r]=he.useState(""),[a,o]=he.useState(""),[u,c]=he.useState(""),[f,d]=he.useState(!1),[g,w]=he.useState(!1),A=Bc(),_=async I=>{I.preventDefault(),o(""),d(!0);try{const L=await ZC(ef,n,t);A("/")}catch(L){o("Failed to log in. Please check your credentials."),console.error(L)}finally{d(!1)}},P=async I=>{I.preventDefault(),o(""),c(""),d(!0);try{await XC(ef,n),c("Password reset link sent! Check your inbox.")}catch(L){o("Failed to send reset link. User may not exist."),console.error(L)}finally{d(!1)}};return x.jsxs(gn,{children:[x.jsx("h2",{className:"text-2xl font-bold text-center text-army-800 mb-6",children:g?"Reset Password":"Login"}),a&&x.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-4 text-sm",children:a}),u&&x.jsx("div",{className:"bg-green-50 text-green-600 p-3 rounded-lg mb-4 text-sm",children:u}),g?x.jsxs("form",{onSubmit:P,children:[x.jsx("p",{className:"text-sm text-gray-600 mb-4 text-center",children:"Enter your email address and we'll send you a link to reset your password."}),x.jsx(ua,{label:"Email Address",type:"email",id:"reset-email",value:n,onChange:I=>e(I.target.value),required:!0}),x.jsx(vi,{type:"submit",disabled:f,className:"w-full mt-2",children:f?"Sending...":"Send Reset Link"}),x.jsx("button",{type:"button",onClick:()=>{w(!1),o(""),c("")},className:"w-full mt-3 text-sm text-army-600 hover:text-army-800",children:" Back to Login"})]}):x.jsxs("form",{onSubmit:_,children:[x.jsx(ua,{label:"Email Address",type:"email",id:"email",value:n,onChange:I=>e(I.target.value),required:!0}),x.jsx(ua,{label:"Password",type:"password",id:"password",value:t,onChange:I=>r(I.target.value),required:!0}),x.jsx("div",{className:"text-right mb-4",children:x.jsx("button",{type:"button",onClick:()=>w(!0),className:"text-xs text-army-600 hover:text-army-800 hover:underline",children:"Forgot Password?"})}),x.jsx(vi,{type:"submit",disabled:f,className:"w-full",children:f?"Logging in...":"Login"})]}),!g&&x.jsxs("div",{className:"mt-4 text-center text-sm text-army-600",children:["Don't have an account?"," ",x.jsx(Fu,{to:"/register",className:"text-army-800 font-semibold hover:underline",children:"Register"})]})]})}function Gk(){const[n,e]=he.useState({officerNo:"",rank:"",name:"",mobile:"",email:"",password:"",confirmPassword:"",adminCode:""}),[t,r]=he.useState(""),[a,o]=he.useState(!1),u=Bc(),c=d=>{e({...n,[d.target.id]:d.target.value})},f=async d=>{if(d.preventDefault(),r(""),n.password!==n.confirmPassword)return r("Passwords do not match");if(n.password.length<6)return r("Password must be at least 6 characters");o(!0);try{const w=(await JC(ef,n.email,n.password)).user;await e8(w);const A=n.adminCode==="admin123"?"admin":"officer";await Cy(za(Ft,"users",w.uid),{uid:w.uid,officerNo:n.officerNo,rank:n.rank,name:n.name,mobile:n.mobile,email:n.email,role:A,createdAt:Wl()}),alert(`Registration successful! You are registered as an ${A.toUpperCase()}.`),u("/login")}catch(g){console.error(g),r(g.message||"Failed to register.")}finally{o(!1)}};return x.jsxs(gn,{children:[x.jsx("h2",{className:"text-2xl font-bold text-center text-army-800 mb-6",children:"Officer Registration"}),t&&x.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-4 text-sm",children:t}),x.jsxs("form",{onSubmit:f,className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsx(ua,{label:"Officer No",id:"officerNo",value:n.officerNo,onChange:c,required:!0}),x.jsx(ua,{label:"Rank",id:"rank",value:n.rank,onChange:c,required:!0})]}),x.jsx(ua,{label:"Name",id:"name",value:n.name,onChange:c,required:!0}),x.jsx(ua,{label:"Mobile Number",id:"mobile",value:n.mobile,onChange:c,required:!0}),x.jsx(ua,{label:"Email Address",type:"email",id:"email",value:n.email,onChange:c,required:!0}),x.jsx(ua,{label:"Password",type:"password",id:"password",value:n.password,onChange:c,required:!0}),x.jsx(ua,{label:"Confirm Password",type:"password",id:"confirmPassword",value:n.confirmPassword,onChange:c,required:!0}),x.jsx("div",{className:"pt-2 border-t border-gray-100",children:x.jsx(ua,{label:"Admin Code (Optional)",type:"password",id:"adminCode",placeholder:"Enter 'admin123' to create Admin account",value:n.adminCode,onChange:c})}),x.jsx(vi,{type:"submit",disabled:a,className:"w-full mt-4",children:a?"Creating Account...":"Register"})]}),x.jsxs("div",{className:"mt-4 text-center text-sm text-army-600",children:["Already have an account?"," ",x.jsx(Fu,{to:"/login",className:"text-army-800 font-semibold hover:underline",children:"Login"})]})]})}function Wk(){const{currentUser:n,userData:e}=nu(),[t,r]=he.useState(null),[a,o]=he.useState(0);return he.useEffect(()=>{const u=new Date().toISOString().split("T")[0],c=za(Ft,"menus",u),f=ha(c,d=>{r(d.exists()?d.data():null)});if(n?.uid){const d=mr(mn(Ft,"transactions"),si("userId","==",n.uid)),g=ha(d,j=>{const $=j.docs.reduce((X,Z)=>X+(Z.data().totalCost||0),0);L("messing",$)}),w=mr(mn(Ft,"bar_transactions"),si("userId","==",n.uid)),A=ha(w,j=>{const $=j.docs.reduce((X,Z)=>X+(Z.data().totalCost||0),0);L("bar",$)}),_=mr(mn(Ft,"payments"),si("userId","==",n.uid)),P=ha(_,j=>{const $=j.docs.reduce((X,Z)=>X+(Z.data().amount||0),0);L("payment",$)});let I={messing:0,bar:0,payment:0};const L=(j,$)=>{I[j]=$,o(I.messing+I.bar-I.payment)};return()=>{f(),g(),A(),P()}}return()=>{f()}},[]),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsxs("h1",{className:"text-2xl font-bold text-army-900",children:["Welcome, ",e?.rank," ",e?.name]}),x.jsx("p",{className:"text-army-600",children:"3 SLEME Officers' Mess"})]}),x.jsx("div",{className:"text-right hidden sm:block",children:x.jsx("p",{className:"text-sm font-medium text-army-500",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs(gn,{className:"bg-gradient-to-br from-army-800 to-army-900 text-white border-none",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-army-200 text-sm mb-1",children:"Current Bill"}),x.jsxs("h3",{className:"text-3xl font-bold",children:["LKR ",a.toFixed(2)]})]}),x.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:x.jsx(Ry,{size:24})})]}),x.jsx(Fu,{to:"/bill",className:"text-xs text-army-300 hover:text-white mt-4 inline-block",children:"View Details "})]}),x.jsxs(gn,{className:"border-l-4 border-l-orange-500",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Today's Menu Status"}),x.jsx("h3",{className:"text-xl font-bold text-army-900",children:t?"Updated":"Not Posted"})]}),x.jsx("div",{className:"p-2 bg-orange-50 rounded-lg",children:x.jsx(Vh,{size:24,className:"text-orange-500"})})]}),x.jsx(Fu,{to:"/menu",className:"text-xs text-orange-600 hover:text-orange-700 mt-4 inline-block font-medium",children:"View Menu & RSVP "})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(gn,{children:[x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx(Qd,{className:"text-army-600",size:20}),x.jsx("h3",{className:"text-lg font-bold text-army-900",children:"Today's Menu"})]}),t?x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"p-3 bg-army-50 rounded-lg",children:[x.jsx("span",{className:"text-xs font-bold text-army-500 uppercase tracking-wider",children:"Breakfast"}),x.jsx("p",{className:"text-army-800 font-medium mt-1",children:t.breakfast||"Standard"})]}),x.jsxs("div",{className:"p-3 bg-army-50 rounded-lg",children:[x.jsx("span",{className:"text-xs font-bold text-army-500 uppercase tracking-wider",children:"Lunch"}),x.jsx("p",{className:"text-army-800 font-medium mt-1",children:t.lunch||"Standard"})]}),x.jsxs("div",{className:"p-3 bg-army-50 rounded-lg",children:[x.jsx("span",{className:"text-xs font-bold text-army-500 uppercase tracking-wider",children:"Dinner"}),x.jsx("p",{className:"text-army-800 font-medium mt-1",children:t.dinner||"Standard"})]})]}):x.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-dashed border-gray-200",children:x.jsx("p",{className:"text-gray-500",children:"Menu not yet available for today."})})]}),x.jsxs(gn,{children:[x.jsx("h3",{className:"text-lg font-bold text-army-900 mb-4",children:"Quick Actions"}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs(Fu,{to:"/menu",className:"flex flex-col items-center justify-center p-4 bg-white border border-gray-200 rounded-xl hover:border-army-500 hover:shadow-md transition-all",children:[x.jsx("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-full mb-2",children:x.jsx(Vh,{size:24})}),x.jsx("span",{className:"font-medium text-gray-800",children:"Order Meals"})]}),x.jsxs(Fu,{to:"/bar",className:"flex flex-col items-center justify-center p-4 bg-white border border-gray-200 rounded-xl hover:border-army-500 hover:shadow-md transition-all",children:[x.jsx("div",{className:"p-3 bg-purple-100 text-purple-600 rounded-full mb-2",children:x.jsx(K7,{size:24})}),x.jsx("span",{className:"font-medium text-gray-800",children:"Bar List"})]})]})]})]})]})}function $k(){const{currentUser:n}=nu(),[e,t]=he.useState(new Date),[r,a]=he.useState(null),[o,u]=he.useState({breakfast:!1,lunch:!1,dinner:!1}),[c,f]=he.useState(!0),[d,g]=he.useState(!1),A=(j=>j.toISOString().split("T")[0])(e);he.useEffect(()=>{f(!0);const j=za(Ft,"menus",A),$=ha(j,Z=>{Z.exists()?a(Z.data()):a(null)});return(async()=>{try{const Z=za(Ft,"rsvp",`${A}_${n.uid}`),se=await Ty(Z);se.exists()?u(se.data().meals):u({breakfast:!1,lunch:!1,dinner:!1})}catch(Z){console.error("Error fetching RSVP:",Z)}finally{f(!1)}})(),()=>$()},[A,n.uid]);const _=j=>{const $=new Date(e);$.setDate(e.getDate()+j),t($)},P=j=>{u($=>({...$,[j]:!$[j]}))},I=async()=>{g(!0);try{await Cy(za(Ft,"rsvp",`${A}_${n.uid}`),{date:A,userId:n.uid,meals:o,updatedAt:new Date}),alert("Meal selections saved successfully!")}catch(j){console.error("Error saving RSVP:",j),alert("Failed to save selection.")}finally{g(!1)}},L=()=>{const j=new Date;return j.setHours(0,0,0,0),e<j};return x.jsxs("div",{className:"max-w-4xl mx-auto",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx("h1",{className:"text-2xl font-bold text-army-900",children:"Weekly Menu & RSVP"}),x.jsxs("div",{className:"flex items-center gap-4 bg-white p-2 rounded-lg shadow-sm border border-army-200",children:[x.jsx("button",{onClick:()=>_(-1),className:"p-1 hover:bg-army-100 rounded",children:x.jsx(ek,{size:20})}),x.jsxs("div",{className:"flex items-center gap-2 font-medium min-w-[140px] justify-center",children:[x.jsx(Qd,{size:18,className:"text-army-600"}),e.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})]}),x.jsx("button",{onClick:()=>_(1),className:"p-1 hover:bg-army-100 rounded",children:x.jsx(nk,{size:20})})]})]}),c?x.jsx("div",{className:"text-center py-12",children:"Loading menu data..."}):x.jsxs("div",{className:"grid gap-6 md:grid-cols-1",children:[x.jsx(gn,{className:"relative overflow-hidden",children:r?x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-army-800 border-b border-army-100 pb-2 mb-2",children:"Breakfast"}),x.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:r.breakfast||"No special menu"})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-army-800 border-b border-army-100 pb-2 mb-2",children:"Lunch"}),x.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:r.lunch||"No special menu"})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-army-800 border-b border-army-100 pb-2 mb-2",children:"Dinner"}),x.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:r.dinner||"No special menu"})]})]}):x.jsxs("div",{className:"text-center py-12 text-gray-500",children:[x.jsx("p",{className:"text-lg",children:"Menu not updated for this date."}),x.jsx("p",{className:"text-sm",children:"Contact Mess Manager if this is an error."})]})}),x.jsxs(gn,{children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h2",{className:"text-xl font-bold text-army-900",children:"Meal Attendance"}),L()&&x.jsx("span",{className:"text-xs font-bold text-red-500 bg-red-50 px-2 py-1 rounded",children:"PAST DATE"})]}),x.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:["breakfast","lunch","dinner"].map(j=>x.jsxs("button",{onClick:()=>!L()&&P(j),disabled:L(),className:`
                    flex flex-col items-center justify-center p-4 rounded-xl border-2 transition-all
                    ${o[j]?"border-army-600 bg-army-50 text-army-800":"border-gray-200 text-gray-400 hover:border-army-300"}
                  `,children:[x.jsx("span",{className:"capitalize font-semibold mb-2",children:j}),o[j]?x.jsx("div",{className:"bg-army-600 text-white p-1 rounded-full",children:x.jsx(J7,{size:16})}):x.jsx("div",{className:"bg-gray-200 text-gray-400 p-1 rounded-full",children:x.jsx(Iy,{size:16})})]},j))}),x.jsx(vi,{onClick:I,disabled:L()||d,className:"w-full",children:d?"Saving...":"Update My Meal Requests"})]})]})]})}function Yk(){const{currentUser:n}=nu(),[e,t]=he.useState([]),[r,a]=he.useState([]),[o,u]=he.useState(!0);he.useEffect(()=>{if(!n)return;const d=mr(mn(Ft,"transactions"),si("userId","==",n.uid)),g=mr(mn(Ft,"bar_transactions"),si("userId","==",n.uid)),w=mr(mn(Ft,"payments"),si("userId","==",n.uid)),A=ha(d,X=>{const Z=X.docs.map(se=>({id:se.id,...se.data(),category:"Messing"}));$(Z,null,null)}),_=ha(g,X=>{const Z=X.docs.map(se=>({id:se.id,...se.data(),category:"Bar"}));$(null,Z,null)}),P=ha(w,X=>{const Z=X.docs.map(se=>({id:se.id,...se.data(),type:"payment"}));$(null,null,Z)});let I=[],L=[],j=[];const $=(X,Z,se)=>{X&&(I=X),Z&&(L=Z),se&&(j=se);const _e=[...I,...L].sort((z,U)=>new Date(U.date)-new Date(z.date));t(_e),a(j),u(!1)};return()=>{A(),_(),P()}},[n]);const c=()=>{const d=e.reduce((w,A)=>w+(A.totalCost||0),0),g=r.reduce((w,A)=>w+(A.amount||0),0);return d-g},f=()=>{const g=new Date().toISOString().slice(0,7);return e.filter(A=>A.date.startsWith(g)).reduce((A,_)=>A+(_.totalCost||0),0)};return x.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[x.jsx("h1",{className:"text-2xl font-bold text-army-900",children:"Billing & History"}),x.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[x.jsxs(gn,{className:"bg-army-900 text-white border-none",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[x.jsx("div",{className:"p-3 bg-white/10 rounded-full",children:x.jsx(Ry,{size:24,className:"text-white"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-army-200 text-sm",children:"Total Outstanding"}),x.jsxs("h2",{className:"text-3xl text-blue-400 font-bold",children:["LKR ",c().toFixed(2)]})]})]}),x.jsx("div",{className:"pt-4 border-t border-white/10",children:x.jsxs("div",{className:"flex justify-between text-sm text-army-300",children:[x.jsx("span",{children:"This Month's Consumption"}),x.jsxs("span",{className:"text-white font-medium",children:["LKR ",f().toFixed(2)]})]})})]}),x.jsxs(gn,{children:[x.jsx("h3",{className:"font-semibold text-army-900 mb-4",children:"Payment History"}),x.jsx("div",{className:"space-y-3 max-h-40 overflow-y-auto",children:r.length===0?x.jsx("p",{className:"text-sm text-gray-500",children:"No payments recorded."}):r.map(d=>x.jsxs("div",{className:"flex justify-between text-sm py-2 border-b border-gray-100 last:border-0",children:[x.jsx("span",{className:"text-gray-600",children:d.date}),x.jsxs("span",{className:"font-medium text-green-600",children:["- LKR ",d.amount.toFixed(2)]})]},d.id))})]})]}),x.jsx("h2",{className:"text-xl font-bold text-army-900 mt-8",children:"Recent Transactions"}),x.jsx(gn,{className:"overflow-hidden p-0",children:x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left text-sm",children:[x.jsx("thead",{className:"bg-army-50 text-army-700",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4 font-semibold",children:"Date"}),x.jsx("th",{className:"p-4 font-semibold",children:"Description"}),x.jsx("th",{className:"p-4 font-semibold",children:"Category"}),x.jsx("th",{className:"p-4 font-semibold text-right",children:"Amount"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-100",children:o?x.jsx("tr",{children:x.jsx("td",{colSpan:"4",className:"p-4 text-center",children:"Loading..."})}):e.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:"4",className:"p-4 text-center text-gray-500",children:"No transactions found."})}):e.map(d=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"p-4 text-gray-600",children:d.date}),x.jsx("td",{className:"p-4 font-medium text-gray-900",children:d.items?.map(g=>g.name||g.brand).join(", ")}),x.jsx("td",{className:"p-4",children:x.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${d.category==="Bar"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:d.category})}),x.jsxs("td",{className:"p-4 text-right font-medium text-army-900",children:["LKR ",d.totalCost.toFixed(2)]})]},d.id))})]})})})]})}const Kk="modulepreload",Qk=function(n){return"/3SLEME/"+n},Y_={},l1=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");a=f(t.map(d=>{if(d=Qk(d),d in Y_)return;Y_[d]=!0;const g=d.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${w}`))return;const A=document.createElement("link");if(A.rel=g?"stylesheet":Kk,g||(A.as="script"),A.crossOrigin="",A.href=d,c&&A.setAttribute("nonce",c),document.head.appendChild(A),g)return new Promise((_,P)=>{A.addEventListener("load",_),A.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function Zn(n){"@babel/helpers - typeof";return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(n)}var To=Uint8Array,Rs=Uint16Array,Ly=Int32Array,ky=new To([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Dy=new To([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),K_=new To([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mS=function(n,e){for(var t=new Rs(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var a=new Ly(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)a[o]=o-t[r]<<5|r;return{b:t,r:a}},gS=mS(ky,2),Xk=gS.b,c2=gS.r;Xk[28]=258,c2[258]=28;var Jk=mS(Dy,0),Q_=Jk.r,h2=new Rs(32768);for(var xr=0;xr<32768;++xr){var Du=(xr&43690)>>1|(xr&21845)<<1;Du=(Du&52428)>>2|(Du&13107)<<2,Du=(Du&61680)>>4|(Du&3855)<<4,h2[xr]=((Du&65280)>>8|(Du&255)<<8)>>1}var gd=(function(n,e,t){for(var r=n.length,a=0,o=new Rs(e);a<r;++a)n[a]&&++o[n[a]-1];var u=new Rs(e);for(a=1;a<e;++a)u[a]=u[a-1]+o[a-1]<<1;var c;if(t){c=new Rs(1<<e);var f=15-e;for(a=0;a<r;++a)if(n[a])for(var d=a<<4|n[a],g=e-n[a],w=u[n[a]-1]++<<g,A=w|(1<<g)-1;w<=A;++w)c[h2[w]>>f]=d}else for(c=new Rs(r),a=0;a<r;++a)n[a]&&(c[a]=h2[u[n[a]-1]++]>>15-n[a]);return c}),Uc=new To(288);for(var xr=0;xr<144;++xr)Uc[xr]=8;for(var xr=144;xr<256;++xr)Uc[xr]=9;for(var xr=256;xr<280;++xr)Uc[xr]=7;for(var xr=280;xr<288;++xr)Uc[xr]=8;var Ym=new To(32);for(var xr=0;xr<32;++xr)Ym[xr]=5;var Zk=gd(Uc,9,0),eD=gd(Ym,5,0),yS=function(n){return(n+7)/8|0},tD=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new To(n.subarray(e,t))},Ml=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},ed=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},u1=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var a=t.length,o=t.slice();if(!a)return{t:bS,l:0};if(a==1){var u=new To(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(se,_e){return se.f-_e.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,g=1,w=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};g!=a-1;)c=t[t[d].f<t[w].f?d++:w++],f=t[d!=g&&t[d].f<t[w].f?d++:w++],t[g++]={s:-1,f:c.f+f.f,l:c,r:f};for(var A=o[0].s,r=1;r<a;++r)o[r].s>A&&(A=o[r].s);var _=new Rs(A+1),P=f2(t[g-1],_,0);if(P>e){var r=0,I=0,L=P-e,j=1<<L;for(o.sort(function(_e,z){return _[z.s]-_[_e.s]||_e.f-z.f});r<a;++r){var $=o[r].s;if(_[$]>e)I+=j-(1<<P-_[$]),_[$]=e;else break}for(I>>=L;I>0;){var X=o[r].s;_[X]<e?I-=1<<e-_[X]++-1:++r}for(;r>=0&&I;--r){var Z=o[r].s;_[Z]==e&&(--_[Z],++I)}P=e}return{t:new To(_),l:P}},f2=function(n,e,t){return n.s==-1?Math.max(f2(n.l,e,t+1),f2(n.r,e,t+1)):e[n.s]=t},X_=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Rs(++e),r=0,a=n[0],o=1,u=function(f){t[r++]=f},c=1;c<=e;++c)if(n[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(a),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(a);o=1,a=n[c]}return{c:t.subarray(0,r),n:e}},td=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},vS=function(n,e,t){var r=t.length,a=yS(e+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<r;++o)n[a+o+4]=t[o];return(a+4+r)*8},J_=function(n,e,t,r,a,o,u,c,f,d,g){Ml(e,g++,t),++a[256];for(var w=u1(a,15),A=w.t,_=w.l,P=u1(o,15),I=P.t,L=P.l,j=X_(A),$=j.c,X=j.n,Z=X_(I),se=Z.c,_e=Z.n,z=new Rs(19),U=0;U<$.length;++U)++z[$[U]&31];for(var U=0;U<se.length;++U)++z[se[U]&31];for(var k=u1(z,7),H=k.t,C=k.l,M=19;M>4&&!H[K_[M-1]];--M);var F=d+5<<3,ue=td(a,Uc)+td(o,Ym)+u,Ne=td(a,A)+td(o,I)+u+14+3*M+td(z,H)+2*z[16]+3*z[17]+7*z[18];if(f>=0&&F<=ue&&F<=Ne)return vS(e,g,n.subarray(f,f+d));var le,ge,pe,Ce;if(Ml(e,g,1+(Ne<ue)),g+=2,Ne<ue){le=gd(A,_,0),ge=A,pe=gd(I,L,0),Ce=I;var Ge=gd(H,C,0);Ml(e,g,X-257),Ml(e,g+5,_e-1),Ml(e,g+10,M-4),g+=14;for(var U=0;U<M;++U)Ml(e,g+3*U,H[K_[U]]);g+=3*M;for(var W=[$,se],D=0;D<2;++D)for(var K=W[D],U=0;U<K.length;++U){var ee=K[U]&31;Ml(e,g,Ge[ee]),g+=H[ee],ee>15&&(Ml(e,g,K[U]>>5&127),g+=K[U]>>12)}}else le=Zk,ge=Uc,pe=eD,Ce=Ym;for(var U=0;U<c;++U){var oe=r[U];if(oe>255){var ee=oe>>18&31;ed(e,g,le[ee+257]),g+=ge[ee+257],ee>7&&(Ml(e,g,oe>>23&31),g+=ky[ee]);var ce=oe&31;ed(e,g,pe[ce]),g+=Ce[ce],ce>3&&(ed(e,g,oe>>5&8191),g+=Dy[ce])}else ed(e,g,le[oe]),g+=ge[oe]}return ed(e,g,le[256]),g+ge[256]},nD=new Ly([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bS=new To(0),rD=function(n,e,t,r,a,o){var u=o.z||n.length,c=new To(r+u+5*(1+Math.ceil(u/7e3))+a),f=c.subarray(r,c.length-a),d=o.l,g=(o.r||0)&7;if(e){g&&(f[0]=o.r>>3);for(var w=nD[e-1],A=w>>13,_=w&8191,P=(1<<t)-1,I=o.p||new Rs(32768),L=o.h||new Rs(P+1),j=Math.ceil(t/3),$=2*j,X=function(ct){return(n[ct]^n[ct+1]<<j^n[ct+2]<<$)&P},Z=new Ly(25e3),se=new Rs(288),_e=new Rs(32),z=0,U=0,k=o.i||0,H=0,C=o.w||0,M=0;k+2<u;++k){var F=X(k),ue=k&32767,Ne=L[F];if(I[ue]=Ne,L[F]=ue,C<=k){var le=u-k;if((z>7e3||H>24576)&&(le>423||!d)){g=J_(n,f,0,Z,se,_e,U,H,M,k-M,g),H=z=U=0,M=k;for(var ge=0;ge<286;++ge)se[ge]=0;for(var ge=0;ge<30;++ge)_e[ge]=0}var pe=2,Ce=0,Ge=_,W=ue-Ne&32767;if(le>2&&F==X(k-W))for(var D=Math.min(A,le)-1,K=Math.min(32767,k),ee=Math.min(258,le);W<=K&&--Ge&&ue!=Ne;){if(n[k+pe]==n[k+pe-W]){for(var oe=0;oe<ee&&n[k+oe]==n[k+oe-W];++oe);if(oe>pe){if(pe=oe,Ce=W,oe>D)break;for(var ce=Math.min(W,oe-2),ve=0,ge=0;ge<ce;++ge){var De=k-W+ge&32767,Le=I[De],Be=De-Le&32767;Be>ve&&(ve=Be,Ne=De)}}}ue=Ne,Ne=I[ue],W+=ue-Ne&32767}if(Ce){Z[H++]=268435456|c2[pe]<<18|Q_[Ce];var Xe=c2[pe]&31,nt=Q_[Ce]&31;U+=ky[Xe]+Dy[nt],++se[257+Xe],++_e[nt],C=k+pe,++z}else Z[H++]=n[k],++se[n[k]]}}for(k=Math.max(k,C);k<u;++k)Z[H++]=n[k],++se[n[k]];g=J_(n,f,d,Z,se,_e,U,H,M,k-M,g),d||(o.r=g&7|f[g/8|0]<<3,g-=7,o.h=L,o.p=I,o.i=k,o.w=C)}else{for(var k=o.w||0;k<u+d;k+=65535){var tt=k+65535;tt>=u&&(f[g/8|0]=d,tt=u),g=vS(f,g+1,n.subarray(k,tt))}o.i=u}return tD(c,0,r+yS(g)+a)},_S=function(){var n=1,e=0;return{p:function(t){for(var r=n,a=e,o=t.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)a+=r+=t[u];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},iD=function(n,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new To(o.length+n.length);u.set(o),u.set(n,o.length),n=u,a.w=o.length}return rD(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,a)},wS=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},aD=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=_S();a.p(e.dictionary),wS(n,2,a.d())}};function d2(n,e){e||(e={});var t=_S();t.p(n);var r=iD(n,e,e.dictionary?6:2,4);return aD(r,e),wS(r,r.length-4,t.d()),r}var sD=typeof TextDecoder<"u"&&new TextDecoder,oD=0;try{sD.decode(bS,{stream:!0}),oD=1}catch{}function lD(n){if(Array.isArray(n))return n}function uD(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,a,o,u,c=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(g){d=!0,a=g}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw a}}return c}}function Z_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function cD(n,e){if(n){if(typeof n=="string")return Z_(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Z_(n,e):void 0}}function hD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ew(n,e){return lD(n)||uD(n,e)||cD(n,e)||hD()}function tw(n,e="utf8"){return new TextDecoder(e).decode(n)}const fD=new TextEncoder;function dD(n){return fD.encode(n)}const pD=1024*8,mD=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),c1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Oy{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=pD,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let u=a;(ArrayBuffer.isView(e)||e instanceof Oy)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+a),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=c1[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===mD&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+r));c.reverse();const f=new c1[t](c.buffer);return this.offset+=r,f.reverse(),f}const u=new c1[t](o);return this.offset+=r,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return tw(this.readBytes(e))}decodeText(e=1,t="utf8"){return tw(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(dD(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function pf(n){let e=n.length;for(;--e>=0;)n[e]=0}const gD=3,yD=258,xS=29,vD=256,bD=vD+1+xS,SS=30,_D=512,wD=new Array((bD+2)*2);pf(wD);const xD=new Array(SS*2);pf(xD);const SD=new Array(_D);pf(SD);const AD=new Array(yD-gD+1);pf(AD);const ED=new Array(xS);pf(ED);const ND=new Array(SS);pf(ND);const TD=(n,e,t,r)=>{let a=n&65535|0,o=n>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do a=a+e[r++]|0,o=o+a|0;while(--u);a%=65521,o%=65521}return a|o<<16|0};var p2=TD;const CD=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},RD=new Uint32Array(CD()),ID=(n,e,t,r)=>{const a=RD,o=r+t;n^=-1;for(let u=r;u<o;u++)n=n>>>8^a[(n^e[u])&255];return n^-1};var Zo=ID,m2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},AS={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const LD=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var kD=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)LD(t,r)&&(n[r]=t[r])}}return n},DD=n=>{let e=0;for(let r=0,a=n.length;r<a;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,a=0,o=n.length;r<o;r++){let u=n[r];t.set(u,a),a+=u.length}return t},ES={assign:kD,flattenChunks:DD};let NS=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{NS=!1}const Ld=new Uint8Array(256);for(let n=0;n<256;n++)Ld[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Ld[254]=Ld[254]=1;var OD=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,a,o,u=n.length,c=0;for(a=0;a<u;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<u&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,a=0;o<c;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<u&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const PD=(n,e)=>{if(e<65534&&n.subarray&&NS)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var jD=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,a;const o=new Array(t*2);for(a=0,r=0;r<t;){let u=n[r++];if(u<128){o[a++]=u;continue}let c=Ld[u];if(c>4){o[a++]=65533,r+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&r<t;)u=u<<6|n[r++]&63,c--;if(c>1){o[a++]=65533;continue}u<65536?o[a++]=u:(u-=65536,o[a++]=55296|u>>10&1023,o[a++]=56320|u&1023)}return PD(o,a)},MD=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Ld[n[t]]>e?t:e},g2={string2buf:OD,buf2string:jD,utf8border:MD};function UD(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var FD=UD;const Xp=16209,BD=16191;var VD=function(e,t){let r,a,o,u,c,f,d,g,w,A,_,P,I,L,j,$,X,Z,se,_e,z,U,k,H;const C=e.state;r=e.next_in,k=e.input,a=r+(e.avail_in-5),o=e.next_out,H=e.output,u=o-(t-e.avail_out),c=o+(e.avail_out-257),f=C.dmax,d=C.wsize,g=C.whave,w=C.wnext,A=C.window,_=C.hold,P=C.bits,I=C.lencode,L=C.distcode,j=(1<<C.lenbits)-1,$=(1<<C.distbits)-1;e:do{P<15&&(_+=k[r++]<<P,P+=8,_+=k[r++]<<P,P+=8),X=I[_&j];t:for(;;){if(Z=X>>>24,_>>>=Z,P-=Z,Z=X>>>16&255,Z===0)H[o++]=X&65535;else if(Z&16){se=X&65535,Z&=15,Z&&(P<Z&&(_+=k[r++]<<P,P+=8),se+=_&(1<<Z)-1,_>>>=Z,P-=Z),P<15&&(_+=k[r++]<<P,P+=8,_+=k[r++]<<P,P+=8),X=L[_&$];n:for(;;){if(Z=X>>>24,_>>>=Z,P-=Z,Z=X>>>16&255,Z&16){if(_e=X&65535,Z&=15,P<Z&&(_+=k[r++]<<P,P+=8,P<Z&&(_+=k[r++]<<P,P+=8)),_e+=_&(1<<Z)-1,_e>f){e.msg="invalid distance too far back",C.mode=Xp;break e}if(_>>>=Z,P-=Z,Z=o-u,_e>Z){if(Z=_e-Z,Z>g&&C.sane){e.msg="invalid distance too far back",C.mode=Xp;break e}if(z=0,U=A,w===0){if(z+=d-Z,Z<se){se-=Z;do H[o++]=A[z++];while(--Z);z=o-_e,U=H}}else if(w<Z){if(z+=d+w-Z,Z-=w,Z<se){se-=Z;do H[o++]=A[z++];while(--Z);if(z=0,w<se){Z=w,se-=Z;do H[o++]=A[z++];while(--Z);z=o-_e,U=H}}}else if(z+=w-Z,Z<se){se-=Z;do H[o++]=A[z++];while(--Z);z=o-_e,U=H}for(;se>2;)H[o++]=U[z++],H[o++]=U[z++],H[o++]=U[z++],se-=3;se&&(H[o++]=U[z++],se>1&&(H[o++]=U[z++]))}else{z=o-_e;do H[o++]=H[z++],H[o++]=H[z++],H[o++]=H[z++],se-=3;while(se>2);se&&(H[o++]=H[z++],se>1&&(H[o++]=H[z++]))}}else if((Z&64)===0){X=L[(X&65535)+(_&(1<<Z)-1)];continue n}else{e.msg="invalid distance code",C.mode=Xp;break e}break}}else if((Z&64)===0){X=I[(X&65535)+(_&(1<<Z)-1)];continue t}else if(Z&32){C.mode=BD;break e}else{e.msg="invalid literal/length code",C.mode=Xp;break e}break}}while(r<a&&o<c);se=P>>3,r-=se,P-=se<<3,_&=(1<<P)-1,e.next_in=r,e.next_out=o,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=o<c?257+(c-o):257-(o-c),C.hold=_,C.bits=P};const Eh=15,nw=852,rw=592,iw=0,h1=1,aw=2,zD=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),qD=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),HD=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),GD=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),WD=(n,e,t,r,a,o,u,c)=>{const f=c.bits;let d=0,g=0,w=0,A=0,_=0,P=0,I=0,L=0,j=0,$=0,X,Z,se,_e,z,U=null,k;const H=new Uint16Array(Eh+1),C=new Uint16Array(Eh+1);let M=null,F,ue,Ne;for(d=0;d<=Eh;d++)H[d]=0;for(g=0;g<r;g++)H[e[t+g]]++;for(_=f,A=Eh;A>=1&&H[A]===0;A--);if(_>A&&(_=A),A===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(w=1;w<A&&H[w]===0;w++);for(_<w&&(_=w),L=1,d=1;d<=Eh;d++)if(L<<=1,L-=H[d],L<0)return-1;if(L>0&&(n===iw||A!==1))return-1;for(C[1]=0,d=1;d<Eh;d++)C[d+1]=C[d]+H[d];for(g=0;g<r;g++)e[t+g]!==0&&(u[C[e[t+g]]++]=g);if(n===iw?(U=M=u,k=20):n===h1?(U=zD,M=qD,k=257):(U=HD,M=GD,k=0),$=0,g=0,d=w,z=o,P=_,I=0,se=-1,j=1<<_,_e=j-1,n===h1&&j>nw||n===aw&&j>rw)return 1;for(;;){F=d-I,u[g]+1<k?(ue=0,Ne=u[g]):u[g]>=k?(ue=M[u[g]-k],Ne=U[u[g]-k]):(ue=96,Ne=0),X=1<<d-I,Z=1<<P,w=Z;do Z-=X,a[z+($>>I)+Z]=F<<24|ue<<16|Ne|0;while(Z!==0);for(X=1<<d-1;$&X;)X>>=1;if(X!==0?($&=X-1,$+=X):$=0,g++,--H[d]===0){if(d===A)break;d=e[t+u[g]]}if(d>_&&($&_e)!==se){for(I===0&&(I=_),z+=w,P=d-I,L=1<<P;P+I<A&&(L-=H[P+I],!(L<=0));)P++,L<<=1;if(j+=1<<P,n===h1&&j>nw||n===aw&&j>rw)return 1;se=$&_e,a[se]=_<<24|P<<16|z-o|0}}return $!==0&&(a[z+$]=d-I<<24|64<<16|0),c.bits=_,0};var yd=WD;const $D=0,TS=1,CS=2,{Z_FINISH:sw,Z_BLOCK:YD,Z_TREES:Jp,Z_OK:Fc,Z_STREAM_END:KD,Z_NEED_DICT:QD,Z_STREAM_ERROR:Js,Z_DATA_ERROR:RS,Z_MEM_ERROR:IS,Z_BUF_ERROR:XD,Z_DEFLATED:ow}=AS,Ng=16180,lw=16181,uw=16182,cw=16183,hw=16184,fw=16185,dw=16186,pw=16187,mw=16188,gw=16189,Km=16190,Ul=16191,f1=16192,yw=16193,d1=16194,vw=16195,bw=16196,_w=16197,ww=16198,Zp=16199,em=16200,xw=16201,Sw=16202,Aw=16203,Ew=16204,Nw=16205,p1=16206,Tw=16207,Cw=16208,Rr=16209,LS=16210,kS=16211,JD=852,ZD=592,eO=15,tO=eO,Rw=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function nO(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const qc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Ng||e.mode>kS?1:0},DS=n=>{if(qc(n))return Js;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Ng,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(JD),e.distcode=e.distdyn=new Int32Array(ZD),e.sane=1,e.back=-1,Fc},OS=n=>{if(qc(n))return Js;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,DS(n)},PS=(n,e)=>{let t;if(qc(n))return Js;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Js:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,OS(n))},jS=(n,e)=>{if(!n)return Js;const t=new nO;n.state=t,t.strm=n,t.window=null,t.mode=Ng;const r=PS(n,e);return r!==Fc&&(n.state=null),r},rO=n=>jS(n,tO);let Iw=!0,m1,g1;const iO=n=>{if(Iw){m1=new Int32Array(512),g1=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(yd(TS,n.lens,0,288,m1,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;yd(CS,n.lens,0,32,g1,0,n.work,{bits:5}),Iw=!1}n.lencode=m1,n.lenbits=9,n.distcode=g1,n.distbits=5},MS=(n,e,t,r)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(e.subarray(t-r,t-r+a),o.wnext),r-=a,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},aO=(n,e)=>{let t,r,a,o,u,c,f,d,g,w,A,_,P,I,L=0,j,$,X,Z,se,_e,z,U;const k=new Uint8Array(4);let H,C;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qc(n)||!n.output||!n.input&&n.avail_in!==0)return Js;t=n.state,t.mode===Ul&&(t.mode=f1),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,g=t.bits,w=c,A=f,U=Fc;e:for(;;)switch(t.mode){case Ng:if(t.wrap===0){t.mode=f1;break}for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,k[0]=d&255,k[1]=d>>>8&255,t.check=Zo(t.check,k,2,0),d=0,g=0,t.mode=lw;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Rr;break}if((d&15)!==ow){n.msg="unknown compression method",t.mode=Rr;break}if(d>>>=4,g-=4,z=(d&15)+8,t.wbits===0&&(t.wbits=z),z>15||z>t.wbits){n.msg="invalid window size",t.mode=Rr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?gw:Ul,d=0,g=0;break;case lw:for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.flags=d,(t.flags&255)!==ow){n.msg="unknown compression method",t.mode=Rr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Rr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(k[0]=d&255,k[1]=d>>>8&255,t.check=Zo(t.check,k,2,0)),d=0,g=0,t.mode=uw;case uw:for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(k[0]=d&255,k[1]=d>>>8&255,k[2]=d>>>16&255,k[3]=d>>>24&255,t.check=Zo(t.check,k,4,0)),d=0,g=0,t.mode=cw;case cw:for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(k[0]=d&255,k[1]=d>>>8&255,t.check=Zo(t.check,k,2,0)),d=0,g=0,t.mode=hw;case hw:if(t.flags&1024){for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(k[0]=d&255,k[1]=d>>>8&255,t.check=Zo(t.check,k,2,0)),d=0,g=0}else t.head&&(t.head.extra=null);t.mode=fw;case fw:if(t.flags&1024&&(_=t.length,_>c&&(_=c),_&&(t.head&&(z=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+_),z)),t.flags&512&&t.wrap&4&&(t.check=Zo(t.check,r,_,o)),c-=_,o+=_,t.length-=_),t.length))break e;t.length=0,t.mode=dw;case dw:if(t.flags&2048){if(c===0)break e;_=0;do z=r[o+_++],t.head&&z&&t.length<65536&&(t.head.name+=String.fromCharCode(z));while(z&&_<c);if(t.flags&512&&t.wrap&4&&(t.check=Zo(t.check,r,_,o)),c-=_,o+=_,z)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=pw;case pw:if(t.flags&4096){if(c===0)break e;_=0;do z=r[o+_++],t.head&&z&&t.length<65536&&(t.head.comment+=String.fromCharCode(z));while(z&&_<c);if(t.flags&512&&t.wrap&4&&(t.check=Zo(t.check,r,_,o)),c-=_,o+=_,z)break e}else t.head&&(t.head.comment=null);t.mode=mw;case mw:if(t.flags&512){for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Rr;break}d=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Ul;break;case gw:for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}n.adler=t.check=Rw(d),d=0,g=0,t.mode=Km;case Km:if(t.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,QD;n.adler=t.check=1,t.mode=Ul;case Ul:if(e===YD||e===Jp)break e;case f1:if(t.last){d>>>=g&7,g-=g&7,t.mode=p1;break}for(;g<3;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}switch(t.last=d&1,d>>>=1,g-=1,d&3){case 0:t.mode=yw;break;case 1:if(iO(t),t.mode=Zp,e===Jp){d>>>=2,g-=2;break e}break;case 2:t.mode=bw;break;case 3:n.msg="invalid block type",t.mode=Rr}d>>>=2,g-=2;break;case yw:for(d>>>=g&7,g-=g&7;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Rr;break}if(t.length=d&65535,d=0,g=0,t.mode=d1,e===Jp)break e;case d1:t.mode=vw;case vw:if(_=t.length,_){if(_>c&&(_=c),_>f&&(_=f),_===0)break e;a.set(r.subarray(o,o+_),u),c-=_,o+=_,f-=_,u+=_,t.length-=_;break}t.mode=Ul;break;case bw:for(;g<14;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.nlen=(d&31)+257,d>>>=5,g-=5,t.ndist=(d&31)+1,d>>>=5,g-=5,t.ncode=(d&15)+4,d>>>=4,g-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Rr;break}t.have=0,t.mode=_w;case _w:for(;t.have<t.ncode;){for(;g<3;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.lens[M[t.have++]]=d&7,d>>>=3,g-=3}for(;t.have<19;)t.lens[M[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,H={bits:t.lenbits},U=yd($D,t.lens,0,19,t.lencode,0,t.work,H),t.lenbits=H.bits,U){n.msg="invalid code lengths set",t.mode=Rr;break}t.have=0,t.mode=ww;case ww:for(;t.have<t.nlen+t.ndist;){for(;L=t.lencode[d&(1<<t.lenbits)-1],j=L>>>24,$=L>>>16&255,X=L&65535,!(j<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(X<16)d>>>=j,g-=j,t.lens[t.have++]=X;else{if(X===16){for(C=j+2;g<C;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(d>>>=j,g-=j,t.have===0){n.msg="invalid bit length repeat",t.mode=Rr;break}z=t.lens[t.have-1],_=3+(d&3),d>>>=2,g-=2}else if(X===17){for(C=j+3;g<C;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=j,g-=j,z=0,_=3+(d&7),d>>>=3,g-=3}else{for(C=j+7;g<C;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=j,g-=j,z=0,_=11+(d&127),d>>>=7,g-=7}if(t.have+_>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Rr;break}for(;_--;)t.lens[t.have++]=z}}if(t.mode===Rr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Rr;break}if(t.lenbits=9,H={bits:t.lenbits},U=yd(TS,t.lens,0,t.nlen,t.lencode,0,t.work,H),t.lenbits=H.bits,U){n.msg="invalid literal/lengths set",t.mode=Rr;break}if(t.distbits=6,t.distcode=t.distdyn,H={bits:t.distbits},U=yd(CS,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,H),t.distbits=H.bits,U){n.msg="invalid distances set",t.mode=Rr;break}if(t.mode=Zp,e===Jp)break e;case Zp:t.mode=em;case em:if(c>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,VD(n,A),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,g=t.bits,t.mode===Ul&&(t.back=-1);break}for(t.back=0;L=t.lencode[d&(1<<t.lenbits)-1],j=L>>>24,$=L>>>16&255,X=L&65535,!(j<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if($&&($&240)===0){for(Z=j,se=$,_e=X;L=t.lencode[_e+((d&(1<<Z+se)-1)>>Z)],j=L>>>24,$=L>>>16&255,X=L&65535,!(Z+j<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=Z,g-=Z,t.back+=Z}if(d>>>=j,g-=j,t.back+=j,t.length=X,$===0){t.mode=Nw;break}if($&32){t.back=-1,t.mode=Ul;break}if($&64){n.msg="invalid literal/length code",t.mode=Rr;break}t.extra=$&15,t.mode=xw;case xw:if(t.extra){for(C=t.extra;g<C;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Sw;case Sw:for(;L=t.distcode[d&(1<<t.distbits)-1],j=L>>>24,$=L>>>16&255,X=L&65535,!(j<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(($&240)===0){for(Z=j,se=$,_e=X;L=t.distcode[_e+((d&(1<<Z+se)-1)>>Z)],j=L>>>24,$=L>>>16&255,X=L&65535,!(Z+j<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=Z,g-=Z,t.back+=Z}if(d>>>=j,g-=j,t.back+=j,$&64){n.msg="invalid distance code",t.mode=Rr;break}t.offset=X,t.extra=$&15,t.mode=Aw;case Aw:if(t.extra){for(C=t.extra;g<C;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Rr;break}t.mode=Ew;case Ew:if(f===0)break e;if(_=A-f,t.offset>_){if(_=t.offset-_,_>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Rr;break}_>t.wnext?(_-=t.wnext,P=t.wsize-_):P=t.wnext-_,_>t.length&&(_=t.length),I=t.window}else I=a,P=u-t.offset,_=t.length;_>f&&(_=f),f-=_,t.length-=_;do a[u++]=I[P++];while(--_);t.length===0&&(t.mode=em);break;case Nw:if(f===0)break e;a[u++]=t.length,f--,t.mode=em;break;case p1:if(t.wrap){for(;g<32;){if(c===0)break e;c--,d|=r[o++]<<g,g+=8}if(A-=f,n.total_out+=A,t.total+=A,t.wrap&4&&A&&(n.adler=t.check=t.flags?Zo(t.check,a,A,u-A):p2(t.check,a,A,u-A)),A=f,t.wrap&4&&(t.flags?d:Rw(d))!==t.check){n.msg="incorrect data check",t.mode=Rr;break}d=0,g=0}t.mode=Tw;case Tw:if(t.wrap&&t.flags){for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Rr;break}d=0,g=0}t.mode=Cw;case Cw:U=KD;break e;case Rr:U=RS;break e;case LS:return IS;case kS:default:return Js}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,(t.wsize||A!==n.avail_out&&t.mode<Rr&&(t.mode<p1||e!==sw))&&MS(n,n.output,n.next_out,A-n.avail_out),w-=n.avail_in,A-=n.avail_out,n.total_in+=w,n.total_out+=A,t.total+=A,t.wrap&4&&A&&(n.adler=t.check=t.flags?Zo(t.check,a,A,n.next_out-A):p2(t.check,a,A,n.next_out-A)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Ul?128:0)+(t.mode===Zp||t.mode===d1?256:0),(w===0&&A===0||e===sw)&&U===Fc&&(U=XD),U},sO=n=>{if(qc(n))return Js;let e=n.state;return e.window&&(e.window=null),n.state=null,Fc},oO=(n,e)=>{if(qc(n))return Js;const t=n.state;return(t.wrap&2)===0?Js:(t.head=e,e.done=!1,Fc)},lO=(n,e)=>{const t=e.length;let r,a,o;return qc(n)||(r=n.state,r.wrap!==0&&r.mode!==Km)?Js:r.mode===Km&&(a=1,a=p2(a,e,t,0),a!==r.check)?RS:(o=MS(n,e,t,t),o?(r.mode=LS,IS):(r.havedict=1,Fc))};var uO=OS,cO=PS,hO=DS,fO=rO,dO=jS,pO=aO,mO=sO,gO=oO,yO=lO,vO="pako inflate (from Nodeca project)",Fl={inflateReset:uO,inflateReset2:cO,inflateResetKeep:hO,inflateInit:fO,inflateInit2:dO,inflate:pO,inflateEnd:mO,inflateGetHeader:gO,inflateSetDictionary:yO,inflateInfo:vO};function bO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var _O=bO;const US=Object.prototype.toString,{Z_NO_FLUSH:wO,Z_FINISH:xO,Z_OK:kd,Z_STREAM_END:y1,Z_NEED_DICT:v1,Z_STREAM_ERROR:SO,Z_DATA_ERROR:Lw,Z_MEM_ERROR:AO}=AS;function Xd(n){this.options=ES.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new FD,this.strm.avail_out=0;let t=Fl.inflateInit2(this.strm,e.windowBits);if(t!==kd)throw new Error(m2[t]);if(this.header=new _O,Fl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=g2.string2buf(e.dictionary):US.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Fl.inflateSetDictionary(this.strm,e.dictionary),t!==kd)))throw new Error(m2[t])}Xd.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?xO:wO,US.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Fl.inflate(t,u),o===v1&&a&&(o=Fl.inflateSetDictionary(t,a),o===kd?o=Fl.inflate(t,u):o===Lw&&(o=v1));t.avail_in>0&&o===y1&&t.state.wrap>0&&n[t.next_in]!==0;)Fl.inflateReset(t),o=Fl.inflate(t,u);switch(o){case SO:case Lw:case v1:case AO:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===y1))if(this.options.to==="string"){let f=g2.utf8border(t.output,t.next_out),d=t.next_out-f,g=g2.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===kd&&c===0)){if(o===y1)return o=Fl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Xd.prototype.onData=function(n){this.chunks.push(n)};Xd.prototype.onEnd=function(n){n===kd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ES.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function EO(n,e){const t=new Xd(e);if(t.push(n),t.err)throw t.msg||m2[t.err];return t.result}var NO=Xd,TO=EO,CO={Inflate:NO,inflate:TO};const{Inflate:RO,inflate:IO}=CO;var kw=RO,LO=IO;const FS=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;FS[n]=e}const Dw=4294967295;function kO(n,e,t){let r=n;for(let a=0;a<t;a++)r=FS[(r^e[a])&255]^r>>>8;return r}function DO(n,e){return(kO(Dw,n,e)^Dw)>>>0}function Ow(n,e,t){const r=n.readUint32(),a=DO(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${a}`)}function BS(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function VS(n,e,t,r){let a=0;for(;a<r;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-r]&255}function zS(n,e,t,r){let a=0;if(t.length===0)for(;a<r;a++)e[a]=n[a];else for(;a<r;a++)e[a]=n[a]+t[a]&255}function qS(n,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-a]+t[o]>>1)&255}}function HS(n,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+OO(e[o-a],t[o],t[o-a])&255}}function OO(n,e,t){const r=n+e-t,a=Math.abs(r-n),o=Math.abs(r-e),u=Math.abs(r-t);return a<=o&&a<=u?n:o<=u?e:t}function PO(n,e,t,r,a,o){switch(n){case 0:BS(e,t,a);break;case 1:VS(e,t,a,o);break;case 2:zS(e,t,r,a);break;case 3:qS(e,t,r,a,o);break;case 4:HS(e,t,r,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const jO=new Uint16Array([255]),MO=new Uint8Array(jO.buffer),UO=MO[0]===255;function FO(n){const{data:e,width:t,height:r,channels:a,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(r*t*c);let d=0;for(let g=0;g<7;g++){const w=u[g],A=Math.ceil((t-w.x)/w.xStep),_=Math.ceil((r-w.y)/w.yStep);if(A<=0||_<=0)continue;const P=A*c,I=new Uint8Array(P);for(let L=0;L<_;L++){const j=e[d++],$=e.subarray(d,d+P);d+=P;const X=new Uint8Array(P);PO(j,$,X,I,P,c),I.set(X);for(let Z=0;Z<A;Z++){const se=w.x+Z*w.xStep,_e=w.y+L*w.yStep;if(!(se>=t||_e>=r))for(let z=0;z<c;z++)f[(_e*t+se)*c+z]=X[Z*c+z]}}}if(o===16){const g=new Uint16Array(f.buffer);if(UO)for(let w=0;w<g.length;w++)g[w]=BO(g[w]);return g}else return f}function BO(n){return(n&255)<<8|n>>8&255}const VO=new Uint16Array([255]),zO=new Uint8Array(VO.buffer),qO=zO[0]===255,HO=new Uint8Array(0);function Pw(n){const{data:e,width:t,height:r,channels:a,depth:o}=n,u=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*t),f=new Uint8Array(r*c);let d=HO,g=0,w,A;for(let _=0;_<r;_++){switch(w=e.subarray(g+1,g+1+c),A=f.subarray(_*c,(_+1)*c),e[g]){case 0:BS(w,A,c);break;case 1:VS(w,A,c,u);break;case 2:zS(w,A,d,c);break;case 3:qS(w,A,d,c,u);break;case 4:HS(w,A,d,c,u);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}d=A,g+=c+1}if(o===16){const _=new Uint16Array(f.buffer);if(qO)for(let P=0;P<_.length;P++)_[P]=GO(_[P]);return _}else return f}function GO(n){return(n&255)<<8|n>>8&255}const ym=Uint8Array.of(137,80,78,71,13,10,26,10);function jw(n){if(!WO(n.readBytes(ym.length)))throw new Error("wrong PNG signature")}function WO(n){if(n.length<ym.length)return!1;for(let e=0;e<ym.length;e++)if(n[e]!==ym[e])return!1;return!0}const $O="tEXt",YO=0,GS=new TextDecoder("latin1");function KO(n){if(XO(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const QO=/^[\u0000-\u00FF]*$/;function XO(n){if(!QO.test(n))throw new Error("invalid latin1 text")}function JO(n,e,t){const r=WS(e);n[r]=ZO(e,t-r.length-1)}function WS(n){for(n.mark();n.readByte()!==YO;);const e=n.offset;n.reset();const t=GS.decode(n.readBytes(e-n.offset-1));return n.skip(1),KO(t),t}function ZO(n,e){return GS.decode(n.readBytes(e))}const Ts={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},b1={UNKNOWN:-1,DEFLATE:0},Mw={UNKNOWN:-1,ADAPTIVE:0},_1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},tm={NONE:0,BACKGROUND:1,PREVIOUS:2},w1={SOURCE:0,OVER:1};class eP extends Oy{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new kw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=b1.UNKNOWN,this._filterMethod=Mw.UNKNOWN,this._interlaceMethod=_1.UNKNOWN,this._colorType=Ts.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(jw(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(jw(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case $O:JO(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Ow(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Ow(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=tP(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case Ts.GREYSCALE:r=1;break;case Ts.TRUECOLOUR:r=3;break;case Ts.INDEXED_COLOUR:r=1;break;case Ts.GREYSCALE_ALPHA:r=2;break;case Ts.TRUECOLOUR_ALPHA:r=4;break;case Ts.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==b1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<t;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Ts.GREYSCALE:case Ts.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Ts.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Ts.UNKNOWN:case Ts.GREYSCALE_ALPHA:case Ts.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=WS(this),r=this.readUint8();if(r!==b1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:LO(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=Pw({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(r,a,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case tm.NONE:break;case tm.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const u=(a*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[u+c]=0}break;case tm.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,a=(o,u)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+u)*this._png.channels,f=(o*t.width+u)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case w1.SOURCE:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case w1.OVER:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++){const g=t.data[f+this._png.channels-1]/r,w=d%(this._png.channels-1)===0?1:t.data[f+d],A=Math.floor(g*w+(1-g)*e.data[c+d]);e.data[c+d]+=A}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Mw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===_1.NO_INTERLACE)this._png.data=Pw({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===_1.ADAM7)this._png.data=FO({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:tm.NONE,blendOp:w1.SOURCE,data:e}),this._inflator=new kw,this._writingDataChunks=!1}}function tP(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Uw;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Uw||(Uw={}));function nP(n,e){return new eP(n,e).decode()}var $t=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function x1(){$t.console&&typeof $t.console.log=="function"&&$t.console.log.apply($t.console,arguments)}var fr={log:x1,warn:function(n){$t.console&&(typeof $t.console.warn=="function"?$t.console.warn.apply($t.console,arguments):x1.call(null,arguments))},error:function(n){$t.console&&(typeof $t.console.error=="function"?$t.console.error.apply($t.console,arguments):x1(n))}};function S1(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Ac(r.response,e,t)},r.onerror=function(){fr.error("could not download file")},r.send()}function Fw(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function nm(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Ac=$t.saveAs||((typeof window>"u"?"undefined":Zn(window))!=="object"||window!==$t?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=$t.URL||$t.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?Fw(a.href)?S1(n,e,t):nm(a,a.target="_blank"):nm(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){nm(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Fw(n))S1(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){nm(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Zn(o)!=="object"&&(fr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return S1(n,e,t);var a=n.type==="application/octet-stream",o=/constructor/i.test($t.HTMLElement)||$t.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&o)&&(typeof FileReader>"u"?"undefined":Zn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var g=c.result;g=u?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},c.readAsDataURL(n)}else{var f=$t.URL||$t.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function $S(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,o=t[r].process,u=a.exec(n);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var vm=$t.atob.bind($t),Bw=$t.btoa.bind($t);function A1(n,e){var t=n[0],r=n[1],a=n[2],o=n[3];t=xa(t,r,a,o,e[0],7,-680876936),o=xa(o,t,r,a,e[1],12,-389564586),a=xa(a,o,t,r,e[2],17,606105819),r=xa(r,a,o,t,e[3],22,-1044525330),t=xa(t,r,a,o,e[4],7,-176418897),o=xa(o,t,r,a,e[5],12,1200080426),a=xa(a,o,t,r,e[6],17,-1473231341),r=xa(r,a,o,t,e[7],22,-45705983),t=xa(t,r,a,o,e[8],7,1770035416),o=xa(o,t,r,a,e[9],12,-1958414417),a=xa(a,o,t,r,e[10],17,-42063),r=xa(r,a,o,t,e[11],22,-1990404162),t=xa(t,r,a,o,e[12],7,1804603682),o=xa(o,t,r,a,e[13],12,-40341101),a=xa(a,o,t,r,e[14],17,-1502002290),t=Sa(t,r=xa(r,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Sa(o,t,r,a,e[6],9,-1069501632),a=Sa(a,o,t,r,e[11],14,643717713),r=Sa(r,a,o,t,e[0],20,-373897302),t=Sa(t,r,a,o,e[5],5,-701558691),o=Sa(o,t,r,a,e[10],9,38016083),a=Sa(a,o,t,r,e[15],14,-660478335),r=Sa(r,a,o,t,e[4],20,-405537848),t=Sa(t,r,a,o,e[9],5,568446438),o=Sa(o,t,r,a,e[14],9,-1019803690),a=Sa(a,o,t,r,e[3],14,-187363961),r=Sa(r,a,o,t,e[8],20,1163531501),t=Sa(t,r,a,o,e[13],5,-1444681467),o=Sa(o,t,r,a,e[2],9,-51403784),a=Sa(a,o,t,r,e[7],14,1735328473),t=Aa(t,r=Sa(r,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Aa(o,t,r,a,e[8],11,-2022574463),a=Aa(a,o,t,r,e[11],16,1839030562),r=Aa(r,a,o,t,e[14],23,-35309556),t=Aa(t,r,a,o,e[1],4,-1530992060),o=Aa(o,t,r,a,e[4],11,1272893353),a=Aa(a,o,t,r,e[7],16,-155497632),r=Aa(r,a,o,t,e[10],23,-1094730640),t=Aa(t,r,a,o,e[13],4,681279174),o=Aa(o,t,r,a,e[0],11,-358537222),a=Aa(a,o,t,r,e[3],16,-722521979),r=Aa(r,a,o,t,e[6],23,76029189),t=Aa(t,r,a,o,e[9],4,-640364487),o=Aa(o,t,r,a,e[12],11,-421815835),a=Aa(a,o,t,r,e[15],16,530742520),t=Ea(t,r=Aa(r,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=Ea(o,t,r,a,e[7],10,1126891415),a=Ea(a,o,t,r,e[14],15,-1416354905),r=Ea(r,a,o,t,e[5],21,-57434055),t=Ea(t,r,a,o,e[12],6,1700485571),o=Ea(o,t,r,a,e[3],10,-1894986606),a=Ea(a,o,t,r,e[10],15,-1051523),r=Ea(r,a,o,t,e[1],21,-2054922799),t=Ea(t,r,a,o,e[8],6,1873313359),o=Ea(o,t,r,a,e[15],10,-30611744),a=Ea(a,o,t,r,e[6],15,-1560198380),r=Ea(r,a,o,t,e[13],21,1309151649),t=Ea(t,r,a,o,e[4],6,-145523070),o=Ea(o,t,r,a,e[11],10,-1120210379),a=Ea(a,o,t,r,e[2],15,718787259),r=Ea(r,a,o,t,e[9],21,-343485551),n[0]=Vu(t,n[0]),n[1]=Vu(r,n[1]),n[2]=Vu(a,n[2]),n[3]=Vu(o,n[3])}function Tg(n,e,t,r,a,o){return e=Vu(Vu(e,n),Vu(r,o)),Vu(e<<a|e>>>32-a,t)}function xa(n,e,t,r,a,o,u){return Tg(e&t|~e&r,n,e,a,o,u)}function Sa(n,e,t,r,a,o,u){return Tg(e&r|t&~r,n,e,a,o,u)}function Aa(n,e,t,r,a,o,u){return Tg(e^t^r,n,e,a,o,u)}function Ea(n,e,t,r,a,o,u){return Tg(t^(e|~r),n,e,a,o,u)}function YS(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)A1(r,rP(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(A1(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,A1(r,a),r}function rP(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Vw="0123456789abcdef".split("");function iP(n){for(var e="",t=0;t<4;t++)e+=Vw[n>>8*t+4&15]+Vw[n>>8*t&15];return e}function aP(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function y2(n){return YS(n).map(aP).join("")}var sP=(function(n){for(var e=0;e<n.length;e++)n[e]=iP(n[e]);return n.join("")})(YS("hello"))!="5d41402abc4b2a76b9719d911017c592";function Vu(n,e){if(sP){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function v2(n,e){var t,r,a,o;if(n!==t){for(var u=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var g=c[f];d=(d+g+u.charCodeAt(f))%256,c[f]=c[d],c[d]=g}t=n,r=c}else c=r;var w=e.length,A=0,_=0,P="";for(f=0;f<w;f++)_=(_+(g=c[A=(A+1)%256]))%256,c[A]=c[_],c[_]=g,u=c[(c[A]+c[_])%256],P+=String.fromCharCode(e.charCodeAt(f)^u);return P}var zw={print:4,modify:8,copy:16,"annot-forms":32};function kh(n,e,t,r){this.v=1,this.r=2;var a=192;n.forEach(function(c){if(zw.perm!==void 0)throw new Error("Invalid permission: "+c);a+=zw[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^a)),this.encryptionKey=y2(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=v2(this.encryptionKey,this.padding)}function Dh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var a=n.charCodeAt(r);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[r]}return e}function qw(n){if(Zn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!a],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(n,r)}catch(c){$t.console&&fr.error("jsPDF PubSub Error",c.message,c)}u[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Qm(n){if(!(this instanceof Qm))return new Qm(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function KS(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ec(n,e,t,r,a){if(!(this instanceof Ec))return new Ec(n,e,t,r,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,KS.call(this,r,a)}function Ph(n,e,t,r,a){if(!(this instanceof Ph))return new Ph(n,e,t,r,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,KS.call(this,r,a)}function Et(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],u=[],c=1,f=16,d="S",g=null;Zn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,a=n.format||a,o=n.compress||n.compressPdf||o,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),r=r||"mm",t=(""+(t||"P")).toLowerCase();var w=n.putOnlyUsedFonts||!1,A={},_={internal:{},__private__:{}};_.__private__.PubSub=qw;var P="1.3",I=_.__private__.getPdfVersion=function(){return P};_.__private__.setPdfVersion=function(S){P=S};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return L};var j=_.__private__.getPageFormat=function(S){return L[S]};a=a||"a4";var $="compat",X="advanced",Z=$;function se(){this.saveGraphicsState(),ne(new St(Gt,0,0,-Gt,0,Da()*Gt).toString()+" cm"),this.setFontSize(this.getFontSize()/Gt),d="n",Z=X}function _e(){this.restoreGraphicsState(),d="S",Z=$}var z=_.__private__.combineFontStyleAndFontWeight=function(S,B){if(S=="bold"&&B=="normal"||S=="bold"&&B==400||S=="normal"&&B=="italic"||S=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(S=B==400||B==="normal"?S==="italic"?"italic":"normal":B!=700&&B!=="bold"||S!=="normal"?(B==700?"bold":B)+""+S:"bold"),S};_.advancedAPI=function(S){var B=Z===$;return B&&se.call(this),typeof S!="function"||(S(this),B&&_e.call(this)),this},_.compatAPI=function(S){var B=Z===X;return B&&_e.call(this),typeof S!="function"||(S(this),B&&se.call(this)),this},_.isAdvancedAPI=function(){return Z===X};var U,k=function(S){if(Z!==X)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=_.roundToPrecision=_.__private__.roundToPrecision=function(S,B){var ie=e||B;if(isNaN(S)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ie).replace(/0+$/,"")};U=_.hpf=_.__private__.hpf=typeof f=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return H(S,f)}:f==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return H(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return H(S,16)};var C=_.f2=_.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return H(S,2)},M=_.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return H(S,3)},F=_.scale=_.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return Z===$?S*Gt:Z===X?S:void 0},ue=function(S){return F((function(B){return Z===$?Da()-B:Z===X?B:void 0})(S))};_.__private__.setPrecision=_.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var Ne,le="00000000000000000000000000000000",ge=_.__private__.getFileId=function(){return le},pe=_.__private__.setFileId=function(S){return le=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(lr=new kh(g.userPermissions,g.userPassword,g.ownerPassword,le)),le};_.setFileId=function(S){return pe(S),this},_.getFileId=function(){return ge()};var Ce=_.__private__.convertDateToPDFDate=function(S){var B=S.getTimezoneOffset(),ie=B<0?"+":"-",de=Math.floor(Math.abs(B/60)),we=Math.abs(B%60),Ue=[ie,ee(de),"'",ee(we),"'"].join("");return["D:",S.getFullYear(),ee(S.getMonth()+1),ee(S.getDate()),ee(S.getHours()),ee(S.getMinutes()),ee(S.getSeconds()),Ue].join("")},Ge=_.__private__.convertPDFDateToDate=function(S){var B=parseInt(S.substr(2,4),10),ie=parseInt(S.substr(6,2),10)-1,de=parseInt(S.substr(8,2),10),we=parseInt(S.substr(10,2),10),Ue=parseInt(S.substr(12,2),10),Ye=parseInt(S.substr(14,2),10);return new Date(B,ie,de,we,Ue,Ye,0)},W=_.__private__.setCreationDate=function(S){var B;if(S===void 0&&(S=new Date),S instanceof Date)B=Ce(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=S}return Ne=B},D=_.__private__.getCreationDate=function(S){var B=Ne;return S==="jsDate"&&(B=Ge(Ne)),B};_.setCreationDate=function(S){return W(S),this},_.getCreationDate=function(S){return D(S)};var K,ee=_.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},oe=_.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ce=0,ve=[],De=[],Le=0,Be=[],Xe=[],nt=!1,tt=De;_.__private__.setCustomOutputDestination=function(S){nt=!0,tt=S};var ct=function(S){nt||(tt=S)};_.__private__.resetCustomOutputDestination=function(){nt=!1,tt=De};var ne=_.__private__.out=function(S){return S=S.toString(),Le+=S.length+1,tt.push(S),tt},et=_.__private__.write=function(S){return ne(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Yt=_.__private__.getArrayBuffer=function(S){for(var B=S.length,ie=new ArrayBuffer(B),de=new Uint8Array(ie);B--;)de[B]=S.charCodeAt(B);return ie},Nt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return Nt};var ze=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(S){return ze=Z===X?S/Gt:S,this};var at,it=_.__private__.getFontSize=_.getFontSize=function(){return Z===$?ze:ze*Gt},Ct=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(S){return Ct=S,this},_.__private__.getR2L=_.getR2L=function(){return Ct};var _t,Kt=_.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))at=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');at=S}else at=parseInt(S,10)};_.__private__.getZoomMode=function(){return at};var en,Vt=_.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');_t=S};_.__private__.getPageMode=function(){return _t};var on=_.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');en=S};_.__private__.getLayoutMode=function(){return en},_.__private__.setDisplayMode=_.setDisplayMode=function(S,B,ie){return Kt(S),on(B),Vt(ie),this};var Xt={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(S){if(Object.keys(Xt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xt[S]},_.__private__.getDocumentProperties=function(){return Xt},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(S){for(var B in Xt)Xt.hasOwnProperty(B)&&S[B]&&(Xt[B]=S[B]);return this},_.__private__.setDocumentProperty=function(S,B){if(Object.keys(Xt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xt[S]=B};var gt,Gt,yt,dr,Jt,Tt={},Mt={},Qt=[],xt={},Dn={},Pt={},jt={},jn=null,wt=0,vt=[],ln=new qw(_),bi=n.hotfixes||[],oi={},qa={},Xr=[],St=function S(B,ie,de,we,Ue,Ye){if(!(this instanceof S))return new S(B,ie,de,we,Ue,Ye);isNaN(B)&&(B=1),isNaN(ie)&&(ie=0),isNaN(de)&&(de=0),isNaN(we)&&(we=1),isNaN(Ue)&&(Ue=0),isNaN(Ye)&&(Ye=0),this._matrix=[B,ie,de,we,Ue,Ye]};Object.defineProperty(St.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(St.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(St.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(St.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(St.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(St.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(St.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(St.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(St.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(St.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(St.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(St.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(St.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(St.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(St.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(St.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),St.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(S)},St.prototype.multiply=function(S){var B=S.sx*this.sx+S.shy*this.shx,ie=S.sx*this.shy+S.shy*this.sy,de=S.shx*this.sx+S.sy*this.shx,we=S.shx*this.shy+S.sy*this.sy,Ue=S.tx*this.sx+S.ty*this.shx+this.tx,Ye=S.tx*this.shy+S.ty*this.sy+this.ty;return new St(B,ie,de,we,Ue,Ye)},St.prototype.decompose=function(){var S=this.sx,B=this.shy,ie=this.shx,de=this.sy,we=this.tx,Ue=this.ty,Ye=Math.sqrt(S*S+B*B),lt=(S/=Ye)*ie+(B/=Ye)*de;ie-=S*lt,de-=B*lt;var dt=Math.sqrt(ie*ie+de*de);return lt/=dt,S*(de/=dt)<B*(ie/=dt)&&(S=-S,B=-B,lt=-lt,Ye=-Ye),{scale:new St(Ye,0,0,dt,0,0),translate:new St(1,0,0,1,we,Ue),rotate:new St(S,B,-B,S,0,0),skew:new St(1,0,lt,1,0,0)}},St.prototype.toString=function(S){return this.join(" ")},St.prototype.inversed=function(){var S=this.sx,B=this.shy,ie=this.shx,de=this.sy,we=this.tx,Ue=this.ty,Ye=1/(S*de-B*ie),lt=de*Ye,dt=-B*Ye,Lt=-ie*Ye,At=S*Ye;return new St(lt,dt,Lt,At,-lt*we-Lt*Ue,-dt*we-At*Ue)},St.prototype.applyToPoint=function(S){var B=S.x*this.sx+S.y*this.shx+this.tx,ie=S.x*this.shy+S.y*this.sy+this.ty;return new ci(B,ie)},St.prototype.applyToRectangle=function(S){var B=this.applyToPoint(S),ie=this.applyToPoint(new ci(S.x+S.w,S.y+S.h));return new Ga(B.x,B.y,ie.x-B.x,ie.y-B.y)},St.prototype.clone=function(){var S=this.sx,B=this.shy,ie=this.shx,de=this.sy,we=this.tx,Ue=this.ty;return new St(S,B,ie,de,we,Ue)},_.Matrix=St;var ds=_.matrixMult=function(S,B){return B.multiply(S)},Yi=new St(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Yi;var Di=function(S,B){if(!Dn[S]){var ie=(B instanceof Ec?"Sh":"P")+(Object.keys(xt).length+1).toString(10);B.id=ie,Dn[S]=ie,xt[ie]=B,ln.publish("addPattern",B)}};_.ShadingPattern=Ec,_.TilingPattern=Ph,_.addShadingPattern=function(S,B){return k("addShadingPattern()"),Di(S,B),this},_.beginTilingPattern=function(S){k("beginTilingPattern()"),Wa(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},_.endTilingPattern=function(S,B){k("endTilingPattern()"),B.stream=Xe[K].join(`
`),Di(S,B),ln.publish("endTilingPattern",B),Xr.pop().restore()};var Oi,Gn=_.__private__.newObject=function(){var S=er();return Ur(S,!0),S},er=_.__private__.newObjectDeferred=function(){return ce++,ve[ce]=function(){return Le},ce},Ur=function(S,B){return B=typeof B=="boolean"&&B,ve[S]=Le,B&&ne(S+" 0 obj"),S},_i=_.__private__.newAdditionalObject=function(){var S={objId:er(),content:""};return Be.push(S),S},li=er(),Mn=er(),Yn=_.__private__.decodeColorString=function(S){var B=S.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length!==5||B[4]!=="k"&&B[4]!=="K"||(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var ie=parseFloat(B[0]);B=[ie,ie,ie,"r"]}for(var de="#",we=0;we<3;we++)de+=("0"+Math.floor(255*parseFloat(B[we])).toString(16)).slice(-2);return de},Fr=_.__private__.encodeColorString=function(S){var B;typeof S=="string"&&(S={ch1:S});var ie=S.ch1,de=S.ch2,we=S.ch3,Ue=S.ch4,Ye=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var lt=new $S(ie);if(lt.ok)ie=lt.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var dt=parseInt(ie.substr(1),16);ie=dt>>16&255,de=dt>>8&255,we=255&dt}if(de===void 0||Ue===void 0&&ie===de&&de===we)B=typeof ie=="string"?ie+" "+Ye[0]:S.precision===2?C(ie/255)+" "+Ye[0]:M(ie/255)+" "+Ye[0];else if(Ue===void 0||Zn(Ue)==="object"){if(Ue&&!isNaN(Ue.a)&&Ue.a===0)return["1.","1.","1.",Ye[1]].join(" ");B=typeof ie=="string"?[ie,de,we,Ye[1]].join(" "):S.precision===2?[C(ie/255),C(de/255),C(we/255),Ye[1]].join(" "):[M(ie/255),M(de/255),M(we/255),Ye[1]].join(" ")}else B=typeof ie=="string"?[ie,de,we,Ue,Ye[2]].join(" "):S.precision===2?[C(ie),C(de),C(we),C(Ue),Ye[2]].join(" "):[M(ie),M(de),M(we),M(Ue),Ye[2]].join(" ");return B},Pi=_.__private__.getFilters=function(){return u},da=_.__private__.putStream=function(S){var B=(S=S||{}).data||"",ie=S.filters||Pi(),de=S.alreadyAppliedFilters||[],we=S.addLength1||!1,Ue=B.length,Ye=S.objectId,lt=function(N){return N};if(g!==null&&Ye===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(lt=lr.encryptor(Ye,0));var dt={};ie===!0&&(ie=["FlateEncode"]);var Lt=S.additionalKeyValues||[],At=(dt=Et.API.processDataByFilters!==void 0?Et.API.processDataByFilters(B,ie):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(dt.data.length!==0&&(Lt.push({key:"Length",value:dt.data.length}),we===!0&&Lt.push({key:"Length1",value:Ue})),At.length!=0)if(At.split("/").length-1==1)Lt.push({key:"Filter",value:At});else{Lt.push({key:"Filter",value:"["+At+"]"});for(var dn=0;dn<Lt.length;dn+=1)if(Lt[dn].key==="DecodeParms"){for(var tr=[],Wn=0;Wn<dt.reverseChain.split("/").length-1;Wn+=1)tr.push("null");tr.push(Lt[dn].value),Lt[dn].value="["+tr.join(" ")+"]"}}ne("<<");for(var m=0;m<Lt.length;m++)ne("/"+Lt[m].key+" "+Lt[m].value);ne(">>"),dt.data.length!==0&&(ne("stream"),ne(lt(dt.data)),ne("endstream"))},Ls=_.__private__.putPage=function(S){var B=S.number,ie=S.data,de=S.objId,we=S.contentsObjId;Ur(de,!0),ne("<</Type /Page"),ne("/Parent "+S.rootDictionaryObjId+" 0 R"),ne("/Resources "+S.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(U(S.mediaBox.bottomLeftX))+" "+parseFloat(U(S.mediaBox.bottomLeftY))+" "+U(S.mediaBox.topRightX)+" "+U(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ne("/CropBox ["+U(S.cropBox.bottomLeftX)+" "+U(S.cropBox.bottomLeftY)+" "+U(S.cropBox.topRightX)+" "+U(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ne("/BleedBox ["+U(S.bleedBox.bottomLeftX)+" "+U(S.bleedBox.bottomLeftY)+" "+U(S.bleedBox.topRightX)+" "+U(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ne("/TrimBox ["+U(S.trimBox.bottomLeftX)+" "+U(S.trimBox.bottomLeftY)+" "+U(S.trimBox.topRightX)+" "+U(S.trimBox.topRightY)+"]"),S.artBox!==null&&ne("/ArtBox ["+U(S.artBox.bottomLeftX)+" "+U(S.artBox.bottomLeftY)+" "+U(S.artBox.topRightX)+" "+U(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ne("/UserUnit "+S.userUnit),ln.publish("putPage",{objId:de,pageContext:vt[B],pageNumber:B,page:ie}),ne("/Contents "+we+" 0 R"),ne(">>"),ne("endobj");var Ue=ie.join(`
`);return Z===X&&(Ue+=`
Q`),Ur(we,!0),da({data:Ue,filters:Pi(),objectId:we}),ne("endobj"),de},Ra=_.__private__.putPages=function(){var S,B,ie=[];for(S=1;S<=wt;S++)vt[S].objId=er(),vt[S].contentsObjId=er();for(S=1;S<=wt;S++)ie.push(Ls({number:S,data:Xe[S],objId:vt[S].objId,contentsObjId:vt[S].contentsObjId,mediaBox:vt[S].mediaBox,cropBox:vt[S].cropBox,bleedBox:vt[S].bleedBox,trimBox:vt[S].trimBox,artBox:vt[S].artBox,userUnit:vt[S].userUnit,rootDictionaryObjId:li,resourceDictionaryObjId:Mn}));Ur(li,!0),ne("<</Type /Pages");var de="/Kids [";for(B=0;B<wt;B++)de+=ie[B]+" 0 R ";ne(de+"]"),ne("/Count "+wt),ne(">>"),ne("endobj"),ln.publish("postPutPages")},ji=function(S){ln.publish("putFont",{font:S,out:ne,newObject:Gn,putStream:da}),S.isAlreadyPutted!==!0&&(S.objectNumber=Gn(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Dh(S.postScriptName)),ne("/Subtype /Type1"),typeof S.encoding=="string"&&ne("/Encoding /"+S.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},ps=function(S){S.objectNumber=Gn();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[U(S.x),U(S.y),U(S.x+S.width),U(S.y+S.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ie=S.pages[1].join(`
`);da({data:ie,additionalKeyValues:B,objectId:S.objectNumber}),ne("endobj")},Ki=function(S,B){B||(B=21);var ie=Gn(),de=(function(Ye,lt){var dt,Lt=[],At=1/(lt-1);for(dt=0;dt<1;dt+=At)Lt.push(dt);if(Lt.push(1),Ye[0].offset!=0){var dn={offset:0,color:Ye[0].color};Ye.unshift(dn)}if(Ye[Ye.length-1].offset!=1){var tr={offset:1,color:Ye[Ye.length-1].color};Ye.push(tr)}for(var Wn="",m=0,N=0;N<Lt.length;N++){for(dt=Lt[N];dt>Ye[m+1].offset;)m++;var O=Ye[m].offset,J=(dt-O)/(Ye[m+1].offset-O),Se=Ye[m].color,ke=Ye[m+1].color;Wn+=oe(Math.round((1-J)*Se[0]+J*ke[0]).toString(16))+oe(Math.round((1-J)*Se[1]+J*ke[1]).toString(16))+oe(Math.round((1-J)*Se[2]+J*ke[2]).toString(16))}return Wn.trim()})(S.colors,B),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+B+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),da({data:de,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),ne("endobj"),S.objectNumber=Gn(),ne("<< /ShadingType "+S.type),ne("/ColorSpace /DeviceRGB");var Ue="/Coords ["+U(parseFloat(S.coords[0]))+" "+U(parseFloat(S.coords[1]))+" ";S.type===2?Ue+=U(parseFloat(S.coords[2]))+" "+U(parseFloat(S.coords[3])):Ue+=U(parseFloat(S.coords[2]))+" "+U(parseFloat(S.coords[3]))+" "+U(parseFloat(S.coords[4]))+" "+U(parseFloat(S.coords[5])),ne(Ue+="]"),S.matrix&&ne("/Matrix ["+S.matrix.toString()+"]"),ne("/Function "+ie+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},wi=function(S,B){var ie=er(),de=Gn();B.push({resourcesOid:ie,objectOid:de}),S.objectNumber=de;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+S.boundingBox.map(U).join(" ")+"]"}),we.push({key:"XStep",value:U(S.xStep)}),we.push({key:"YStep",value:U(S.yStep)}),we.push({key:"Resources",value:ie+" 0 R"}),S.matrix&&we.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),da({data:S.stream,additionalKeyValues:we,objectId:S.objectNumber}),ne("endobj")},Qi=function(S){for(var B in S.objectNumber=Gn(),ne("<<"),S)switch(B){case"opacity":ne("/ca "+C(S[B]));break;case"stroke-opacity":ne("/CA "+C(S[B]))}ne(">>"),ne("endobj")},pa=function(S){Ur(S.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var B in ne("/Font <<"),Tt)Tt.hasOwnProperty(B)&&(w===!1||w===!0&&A.hasOwnProperty(B))&&ne("/"+B+" "+Tt[B].objectNumber+" 0 R");ne(">>")})(),(function(){if(Object.keys(xt).length>0){for(var B in ne("/Shading <<"),xt)xt.hasOwnProperty(B)&&xt[B]instanceof Ec&&xt[B].objectNumber>=0&&ne("/"+B+" "+xt[B].objectNumber+" 0 R");ln.publish("putShadingPatternDict"),ne(">>")}})(),(function(B){if(Object.keys(xt).length>0){for(var ie in ne("/Pattern <<"),xt)xt.hasOwnProperty(ie)&&xt[ie]instanceof _.TilingPattern&&xt[ie].objectNumber>=0&&xt[ie].objectNumber<B&&ne("/"+ie+" "+xt[ie].objectNumber+" 0 R");ln.publish("putTilingPatternDict"),ne(">>")}})(S.objectOid),(function(){if(Object.keys(Pt).length>0){var B;for(B in ne("/ExtGState <<"),Pt)Pt.hasOwnProperty(B)&&Pt[B].objectNumber>=0&&ne("/"+B+" "+Pt[B].objectNumber+" 0 R");ln.publish("putGStateDict"),ne(">>")}})(),(function(){for(var B in ne("/XObject <<"),oi)oi.hasOwnProperty(B)&&oi[B].objectNumber>=0&&ne("/"+B+" "+oi[B].objectNumber+" 0 R");ln.publish("putXobjectDict"),ne(">>")})(),ne(">>"),ne("endobj")},gr=function(S){Mt[S.fontName]=Mt[S.fontName]||{},Mt[S.fontName][S.fontStyle]=S.id},Lo=function(S,B,ie,de,we){var Ue={id:"F"+(Object.keys(Tt).length+1).toString(10),postScriptName:S,fontName:B,fontStyle:ie,encoding:de,isStandardFont:we||!1,metadata:{}};return ln.publish("addFont",{font:Ue,instance:this}),Tt[Ue.id]=Ue,gr(Ue),Ue.id},Mi=_.__private__.pdfEscape=_.pdfEscape=function(S,B){return(function(ie,de){var we,Ue,Ye,lt,dt,Lt,At,dn,tr;if(Ye=(de=de||{}).sourceEncoding||"Unicode",dt=de.outputEncoding,(de.autoencode||dt)&&Tt[gt].metadata&&Tt[gt].metadata[Ye]&&Tt[gt].metadata[Ye].encoding&&(lt=Tt[gt].metadata[Ye].encoding,!dt&&Tt[gt].encoding&&(dt=Tt[gt].encoding),!dt&&lt.codePages&&(dt=lt.codePages[0]),typeof dt=="string"&&(dt=lt[dt]),dt)){for(At=!1,Lt=[],we=0,Ue=ie.length;we<Ue;we++)(dn=dt[ie.charCodeAt(we)])?Lt.push(String.fromCharCode(dn)):Lt.push(ie[we]),Lt[we].charCodeAt(0)>>8&&(At=!0);ie=Lt.join("")}for(we=ie.length;At===void 0&&we!==0;)ie.charCodeAt(we-1)>>8&&(At=!0),we--;if(!At)return ie;for(Lt=de.noBOM?[]:[254,255],we=0,Ue=ie.length;we<Ue;we++){if((tr=(dn=ie.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Lt.push(tr),Lt.push(dn-(tr<<8))}return String.fromCharCode.apply(void 0,Lt)})(S,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ma=_.__private__.beginPage=function(S){Xe[++wt]=[],vt[wt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},ko(wt),ct(Xe[K])},Ia=function(S,B){var ie,de,we;switch(t=B||t,typeof S=="string"&&(ie=j(S.toLowerCase()),Array.isArray(ie)&&(de=ie[0],we=ie[1])),Array.isArray(S)&&(de=S[0]*Gt,we=S[1]*Gt),isNaN(de)&&(de=a[0],we=a[1]),(de>14400||we>14400)&&(fr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),we=Math.min(14400,we)),a=[de,we],t.substr(0,1)){case"l":we>de&&(a=[we,de]);break;case"p":de>we&&(a=[we,de])}ma(a),Rt(Fi),ne(Ji),ea!==0&&ne(ea+" J"),kr!==0&&ne(kr+" j"),ln.publish("addPage",{pageNumber:wt})},Zs=function(S){S>0&&S<=wt&&(Xe.splice(S,1),vt.splice(S,1),wt--,K>wt&&(K=wt),this.setPage(K))},ko=function(S){S>0&&S<=wt&&(K=S)},Do=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return Xe.length-1},hl=function(S,B,ie){var de,we=void 0;return ie=ie||{},S=S!==void 0?S:Tt[gt].fontName,B=B!==void 0?B:Tt[gt].fontStyle,de=S.toLowerCase(),Mt[de]!==void 0&&Mt[de][B]!==void 0?we=Mt[de][B]:Mt[S]!==void 0&&Mt[S][B]!==void 0?we=Mt[S][B]:ie.disableWarning===!1&&fr.warn("Unable to look up font label for font '"+S+"', '"+B+"'. Refer to getFontList() for available fonts."),we||ie.noFallback||(we=Mt.times[B])==null&&(we=Mt.times.normal),we},Xi=_.__private__.putInfo=function(){var S=Gn(),B=function(de){return de};for(var ie in g!==null&&(B=lr.encryptor(S,0)),ne("<<"),ne("/Producer ("+Mi(B("jsPDF "+Et.version))+")"),Xt)Xt.hasOwnProperty(ie)&&Xt[ie]&&ne("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+Mi(B(Xt[ie]))+")");ne("/CreationDate ("+Mi(B(Ne))+")"),ne(">>"),ne("endobj")},ui=_.__private__.putCatalog=function(S){var B=(S=S||{}).rootDictionaryObjId||li;switch(Gn(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+B+" 0 R"),at||(at="fullwidth"),at){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+at;ie.substr(ie.length-1)==="%"&&(at=parseInt(at)/100),typeof at=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+C(at)+"]")}switch(en||(en="continuous"),en){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}_t&&ne("/PageMode /"+_t),ln.publish("putCatalog"),ne(">>"),ne("endobj")},Sr=_.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(ce+1)),ne("/Root "+ce+" 0 R"),ne("/Info "+(ce-1)+" 0 R"),g!==null&&ne("/Encrypt "+lr.oid+" 0 R"),ne("/ID [ <"+le+"> <"+le+"> ]"),ne(">>")},fn=_.__private__.putHeader=function(){ne("%PDF-"+P),ne("%")},ms=_.__private__.putXRef=function(){var S="0000000000";ne("xref"),ne("0 "+(ce+1)),ne("0000000000 65535 f ");for(var B=1;B<=ce;B++)typeof ve[B]=="function"?ne((S+ve[B]()).slice(-10)+" 00000 n "):ve[B]!==void 0?ne((S+ve[B]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},ga=_.__private__.buildDocument=function(){var S;ce=0,Le=0,De=[],ve=[],Be=[],li=er(),Mn=er(),ct(De),ln.publish("buildDocument"),fn(),Ra(),(function(){ln.publish("putAdditionalObjects");for(var ie=0;ie<Be.length;ie++){var de=Be[ie];Ur(de.objId,!0),ne(de.content),ne("endobj")}ln.publish("postPutAdditionalObjects")})(),S=[],(function(){for(var ie in Tt)Tt.hasOwnProperty(ie)&&(w===!1||w===!0&&A.hasOwnProperty(ie))&&ji(Tt[ie])})(),(function(){var ie;for(ie in Pt)Pt.hasOwnProperty(ie)&&Qi(Pt[ie])})(),(function(){for(var ie in oi)oi.hasOwnProperty(ie)&&ps(oi[ie])})(),(function(ie){var de;for(de in xt)xt.hasOwnProperty(de)&&(xt[de]instanceof Ec?Ki(xt[de]):xt[de]instanceof Ph&&wi(xt[de],ie))})(S),ln.publish("putResources"),S.forEach(pa),pa({resourcesOid:Mn,objectOid:Number.MAX_SAFE_INTEGER}),ln.publish("postPutResources"),g!==null&&(lr.oid=Gn(),ne("<<"),ne("/Filter /Standard"),ne("/V "+lr.v),ne("/R "+lr.r),ne("/U <"+lr.toHexString(lr.U)+">"),ne("/O <"+lr.toHexString(lr.O)+">"),ne("/P "+lr.P),ne(">>"),ne("endobj")),Xi(),ui();var B=Le;return ms(),Sr(),ne("startxref"),ne(""+B),ne("%%EOF"),ct(Xe[K]),De.join(`
`)},_n=_.__private__.getBlob=function(S){return new Blob([Yt(S)],{type:"application/pdf"})},ks=_.output=_.__private__.output=(Oi=function(S,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",S){case void 0:return ga();case"save":_.save(B.filename);break;case"arraybuffer":return Yt(ga());case"blob":return _n(ga());case"bloburi":case"bloburl":if($t.URL!==void 0&&typeof $t.URL.createObjectURL=="function")return $t.URL&&$t.URL.createObjectURL(_n(ga()))||void 0;fr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",de=ga();try{ie=Bw(de)}catch{ie=Bw(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+B.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(we=B.pdfObjectUrl,Ue="");var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",lt=$t.open();return lt!==null&&lt.document.write(Ye),lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',Lt=$t.open();if(Lt!==null){Lt.document.write(dt);var At=this;Lt.document.documentElement.querySelector("#pdfViewer").onload=function(){Lt.document.title=B.filename,Lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(At.output("bloburl"))}}return Lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call($t)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',tr=$t.open();if(tr!==null&&(tr.document.write(dn),tr.document.title=B.filename),tr||typeof safari>"u")return tr;break;case"datauri":case"dataurl":return $t.document.location.href=this.output("datauristring",B);default:return null}},Oi.foo=function(){try{return Oi.apply(this,arguments)}catch(ie){var S=ie.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var B="Error in function "+S.split(`
`)[0].split("<")[0]+": "+ie.message;if(!$t.console)throw new Error(B);$t.console.error(B,ie),$t.alert&&alert(B)}},Oi.foo.bar=Oi,Oi.foo),Lr=function(S){return Array.isArray(bi)===!0&&bi.indexOf(S)>-1};switch(r){case"pt":Gt=1;break;case"mm":Gt=72/25.4;break;case"cm":Gt=72/2.54;break;case"in":Gt=72;break;case"px":Gt=Lr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Gt=12;break;case"ex":Gt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Gt=r}var lr=null;W(),pe();var Ar=_.__private__.getPageInfo=_.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[S].objId,pageNumber:S,pageContext:vt[S]}},eo=_.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in vt)if(vt[B].objId===S)break;return Ar(B)},ru=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:vt[K].objId,pageNumber:K,pageContext:vt[K]}};_.addPage=function(){return Ia.apply(this,arguments),this},_.setPage=function(){return ko.apply(this,arguments),ct.call(this,Xe[K]),this},_.insertPage=function(S){return this.addPage(),this.movePage(K,S),this},_.movePage=function(S,B){var ie,de;if(S>B){ie=Xe[S],de=vt[S];for(var we=S;we>B;we--)Xe[we]=Xe[we-1],vt[we]=vt[we-1];Xe[B]=ie,vt[B]=de,this.setPage(B)}else if(S<B){ie=Xe[S],de=vt[S];for(var Ue=S;Ue<B;Ue++)Xe[Ue]=Xe[Ue+1],vt[Ue]=vt[Ue+1];Xe[B]=ie,vt[B]=de,this.setPage(B)}return this},_.deletePage=function(){return Zs.apply(this,arguments),this},_.__private__.text=_.text=function(S,B,ie,de,we){var Ue,Ye,lt,dt,Lt,At,dn,tr,Wn,m=(de=de||{}).scope||this;if(typeof S=="number"&&typeof B=="number"&&(typeof ie=="string"||Array.isArray(ie))){var N=ie;ie=B,B=S,S=N}if(arguments[3]instanceof St==0?(lt=arguments[4],dt=arguments[5],Zn(dn=arguments[3])==="object"&&dn!==null||(typeof lt=="string"&&(dt=lt,lt=null),typeof dn=="string"&&(dt=dn,dn=null),typeof dn=="number"&&(lt=dn,dn=null),de={flags:dn,angle:lt,align:dt})):(k("The transform parameter of text() with a Matrix value"),Wn=we),isNaN(B)||isNaN(ie)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return m;var O,J="",Se=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:vs,ke=m.internal.scaleFactor;function Je(On){return On=On.split("	").join(Array(de.TabLen||9).join(" ")),Mi(On,dn)}function Ht(On){for(var Tn,rr=On.concat(),Or=[],Hs=rr.length;Hs--;)typeof(Tn=rr.shift())=="string"?Or.push(Tn):Array.isArray(On)&&(Tn.length===1||Tn[1]===void 0&&Tn[2]===void 0)?Or.push(Tn[0]):Or.push([Tn[0],Tn[1],Tn[2]]);return Or}function nr(On,Tn){var rr;if(typeof On=="string")rr=Tn(On)[0];else if(Array.isArray(On)){for(var Or,Hs,xs=On.concat(),bl=[],oc=xs.length;oc--;)typeof(Or=xs.shift())=="string"?bl.push(Tn(Or)[0]):Array.isArray(Or)&&typeof Or[0]=="string"&&(Hs=Tn(Or[0],Or[1],Or[2]),bl.push([Hs[0],Hs[1],Hs[2]]));rr=bl}return rr}var cn=!1,Fn=!0;if(typeof S=="string")cn=!0;else if(Array.isArray(S)){var hi=S.concat();Ye=[];for(var Si,Kn=hi.length;Kn--;)(typeof(Si=hi.shift())!="string"||Array.isArray(Si)&&typeof Si[0]!="string")&&(Fn=!1);cn=Fn}if(cn===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Ai=ze/m.internal.scaleFactor,Oa=Ai*(Se-1);switch(de.baseline){case"bottom":ie-=Oa;break;case"top":ie+=Ai-Oa;break;case"hanging":ie+=Ai-2*Oa;break;case"middle":ie+=Ai/2-Oa}if((At=de.maxWidth||0)>0&&(typeof S=="string"?S=m.splitTextToSize(S,At):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(On,Tn){return On.concat(m.splitTextToSize(Tn,At))},[]))),Ue={text:S,x:B,y:ie,options:de,mutex:{pdfEscape:Mi,activeFontKey:gt,fonts:Tt,activeFontSize:ze}},ln.publish("preProcessText",Ue),S=Ue.text,lt=(de=Ue.options).angle,Wn instanceof St==0&&lt&&typeof lt=="number"){lt*=Math.PI/180,de.rotationDirection===0&&(lt=-lt),Z===X&&(lt=-lt);var Ms=Math.cos(lt),Us=Math.sin(lt);Wn=new St(Ms,Us,-Us,Ms,0,0)}else lt&&lt instanceof St&&(Wn=lt);Z!==X||Wn||(Wn=Yi),(Lt=de.charSpace||Zi)!==void 0&&(J+=U(F(Lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(tr=de.horizontalScale)!==void 0&&(J+=U(100*tr)+` Tz
`),de.lang;var na=-1,ao=de.renderingMode!==void 0?de.renderingMode:de.stroke,iu=m.internal.getCurrentPageInfo().pageContext;switch(ao){case 0:case!1:case"fill":na=0;break;case 1:case!0:case"stroke":na=1;break;case 2:case"fillThenStroke":na=2;break;case 3:case"invisible":na=3;break;case 4:case"fillAndAddForClipping":na=4;break;case 5:case"strokeAndAddPathForClipping":na=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":na=6;break;case 7:case"addToPathForClipping":na=7}var ac=iu.usedRenderingMode!==void 0?iu.usedRenderingMode:-1;na!==-1?J+=na+` Tr
`:ac!==-1&&(J+=`0 Tr
`),na!==-1&&(iu.usedRenderingMode=na),dt=de.align||"left";var Pa,_s=ze*Se,so=m.internal.pageSize.getWidth(),sc=Tt[gt];Lt=de.charSpace||Zi,At=de.maxWidth||0,dn=Object.assign({autoencode:!0,noBOM:!0},de.flags);var ws=[],Fo=function(On){return m.getStringUnitWidth(On,{font:sc,charSpace:Lt,fontSize:ze,doKerning:!1})*ze/ke};if(Object.prototype.toString.call(S)==="[object Array]"){var va;Ye=Ht(S),dt!=="left"&&(Pa=Ye.map(Fo));var ra,Fs=0;if(dt==="right"){B-=Pa[0],S=[],Kn=Ye.length;for(var Bs=0;Bs<Kn;Bs++)Bs===0?(ra=Zr(B),va=Br(ie)):(ra=F(Fs-Pa[Bs]),va=-_s),S.push([Ye[Bs],ra,va]),Fs=Pa[Bs]}else if(dt==="center"){B-=Pa[0]/2,S=[],Kn=Ye.length;for(var oo=0;oo<Kn;oo++)oo===0?(ra=Zr(B),va=Br(ie)):(ra=F((Fs-Pa[oo])/2),va=-_s),S.push([Ye[oo],ra,va]),Fs=Pa[oo]}else if(dt==="left"){S=[],Kn=Ye.length;for(var au=0;au<Kn;au++)S.push(Ye[au])}else if(dt==="justify"&&sc.encoding==="Identity-H"){S=[],Kn=Ye.length,At=At!==0?At:so;for(var su=0,Dr=0;Dr<Kn;Dr++)if(va=Dr===0?Br(ie):-_s,ra=Dr===0?Zr(B):su,Dr<Kn-1){var Gc=F((At-Pa[Dr])/(Ye[Dr].split(" ").length-1)),Vs=Ye[Dr].split(" ");S.push([Vs[0]+" ",ra,va]),su=0;for(var zs=1;zs<Vs.length;zs++){var Ei=(Fo(Vs[zs-1]+" "+Vs[zs])-Fo(Vs[zs]))*ke+Gc;zs==Vs.length-1?S.push([Vs[zs],Ei,0]):S.push([Vs[zs]+" ",Ei,0]),su-=Ei}}else S.push([Ye[Dr],ra,va]);S.push(["",su,0])}else{if(dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Kn=Ye.length,At=At!==0?At:so,Dr=0;Dr<Kn;Dr++){va=Dr===0?Br(ie):-_s,ra=Dr===0?Zr(B):0;var lo=Ye[Dr].split(" ").length-1,ou=lo>0?(At-Pa[Dr])/lo:0;Dr<Kn-1?ws.push(U(F(ou))):ws.push(0),S.push([Ye[Dr],ra,va])}}}(typeof de.R2L=="boolean"?de.R2L:Ct)===!0&&(S=nr(S,function(On,Tn,rr){return[On.split("").reverse().join(""),Tn,rr]})),Ue={text:S,x:B,y:ie,options:de,mutex:{pdfEscape:Mi,activeFontKey:gt,fonts:Tt,activeFontSize:ze}},ln.publish("postProcessText",Ue),S=Ue.text,O=Ue.mutex.isHex||!1;var lu=Tt[gt].encoding;lu!=="WinAnsiEncoding"&&lu!=="StandardEncoding"||(S=nr(S,function(On,Tn,rr){return[Je(On),Tn,rr]})),Ye=Ht(S),S=[];for(var uo,co,qs,vl=Array.isArray(Ye[0])?1:0,ja="",ho=function(On,Tn,rr){var Or="";return rr instanceof St?(rr=typeof de.angle=="number"?ds(rr,new St(1,0,0,1,On,Tn)):ds(new St(1,0,0,1,On,Tn),rr),Z===X&&(rr=ds(new St(1,0,0,-1,0,0),rr)),Or=rr.join(" ")+` Tm
`):Or=U(On)+" "+U(Tn)+` Td
`,Or},Bi=0;Bi<Ye.length;Bi++){switch(ja="",vl){case 1:qs=(O?"<":"(")+Ye[Bi][0]+(O?">":")"),uo=parseFloat(Ye[Bi][1]),co=parseFloat(Ye[Bi][2]);break;case 0:qs=(O?"<":"(")+Ye[Bi]+(O?">":")"),uo=Zr(B),co=Br(ie)}ws!==void 0&&ws[Bi]!==void 0&&(ja=ws[Bi]+` Tw
`),Bi===0?S.push(ja+ho(uo,co,Wn)+qs):vl===0?S.push(ja+qs):vl===1&&S.push(ja+ho(uo,co,Wn)+qs)}S=vl===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Ka=`BT
/`;return Ka+=gt+" "+ze+` Tf
`,Ka+=U(ze*Se)+` TL
`,Ka+=ka+`
`,Ka+=J,Ka+=S,ne(Ka+="ET"),A[gt]=!0,m};var fl=_.__private__.clip=_.clip=function(S){return ne(S==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return fl("evenodd")},_.__private__.discardPath=_.discardPath=function(){return ne("n"),this};var xi=_.__private__.isValidStyle=function(S){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(B=!0),B};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(S){return xi(S)&&(d=S),this};var dl=_.__private__.getStyle=_.getStyle=function(S){var B=d;switch(S){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=S}return B},gs=_.close=function(){return ne("h"),this};_.stroke=function(){return ne("S"),this},_.fill=function(S){return Jr("f",S),this},_.fillEvenOdd=function(S){return Jr("f*",S),this},_.fillStroke=function(S){return Jr("B",S),this},_.fillStrokeEvenOdd=function(S){return Jr("B*",S),this};var Jr=function(S,B){Zn(B)==="object"?ml(B,S):ne(S)},Ds=function(S){S===null||Z===X&&S===void 0||(S=dl(S),ne(S))};function pl(S,B,ie,de,we){var Ue=new Ph(B||this.boundingBox,ie||this.xStep,de||this.yStep,this.gState,we||this.matrix);Ue.stream=this.stream;var Ye=S+"$$"+this.cloneIndex+++"$$";return Di(Ye,Ue),Ue}var ml=function(S,B){var ie=Dn[S.key],de=xt[ie];if(de instanceof Ec)ne("q"),ne(Oo(B)),de.gState&&_.setGState(de.gState),ne(S.matrix.toString()+" cm"),ne("/"+ie+" sh"),ne("Q");else if(de instanceof Ph){var we=new St(1,0,0,-1,0,Da());S.matrix&&(we=we.multiply(S.matrix||Yi),ie=pl.call(de,S.key,S.boundingBox,S.xStep,S.yStep,we).id),ne("q"),ne("/Pattern cs"),ne("/"+ie+" scn"),de.gState&&_.setGState(de.gState),ne(B),ne("Q")}},Oo=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Po=_.moveTo=function(S,B){return ne(U(F(S))+" "+U(ue(B))+" m"),this},ys=_.lineTo=function(S,B){return ne(U(F(S))+" "+U(ue(B))+" l"),this},Ui=_.curveTo=function(S,B,ie,de,we,Ue){return ne([U(F(S)),U(ue(B)),U(F(ie)),U(ue(de)),U(F(we)),U(ue(Ue)),"c"].join(" ")),this};_.__private__.line=_.line=function(S,B,ie,de,we){if(isNaN(S)||isNaN(B)||isNaN(ie)||isNaN(de)||!xi(we))throw new Error("Invalid arguments passed to jsPDF.line");return Z===$?this.lines([[ie-S,de-B]],S,B,[1,1],we||"S"):this.lines([[ie-S,de-B]],S,B,[1,1]).stroke()},_.__private__.lines=_.lines=function(S,B,ie,de,we,Ue){var Ye,lt,dt,Lt,At,dn,tr,Wn,m,N,O,J;if(typeof S=="number"&&(J=ie,ie=B,B=S,S=J),de=de||[1,1],Ue=Ue||!1,isNaN(B)||isNaN(ie)||!Array.isArray(S)||!Array.isArray(de)||!xi(we)||typeof Ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Po(B,ie),Ye=de[0],lt=de[1],Lt=S.length,N=B,O=ie,dt=0;dt<Lt;dt++)(At=S[dt]).length===2?(N=At[0]*Ye+N,O=At[1]*lt+O,ys(N,O)):(dn=At[0]*Ye+N,tr=At[1]*lt+O,Wn=At[2]*Ye+N,m=At[3]*lt+O,N=At[4]*Ye+N,O=At[5]*lt+O,Ui(dn,tr,Wn,m,N,O));return Ue&&gs(),Ds(we),this},_.path=function(S){for(var B=0;B<S.length;B++){var ie=S[B],de=ie.c;switch(ie.op){case"m":Po(de[0],de[1]);break;case"l":ys(de[0],de[1]);break;case"c":Ui.apply(this,de);break;case"h":gs()}}return this},_.__private__.rect=_.rect=function(S,B,ie,de,we){if(isNaN(S)||isNaN(B)||isNaN(ie)||isNaN(de)||!xi(we))throw new Error("Invalid arguments passed to jsPDF.rect");return Z===$&&(de=-de),ne([U(F(S)),U(ue(B)),U(F(ie)),U(F(de)),"re"].join(" ")),Ds(we),this},_.__private__.triangle=_.triangle=function(S,B,ie,de,we,Ue,Ye){if(isNaN(S)||isNaN(B)||isNaN(ie)||isNaN(de)||isNaN(we)||isNaN(Ue)||!xi(Ye))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-S,de-B],[we-ie,Ue-de],[S-we,B-Ue]],S,B,[1,1],Ye,!0),this},_.__private__.roundedRect=_.roundedRect=function(S,B,ie,de,we,Ue,Ye){if(isNaN(S)||isNaN(B)||isNaN(ie)||isNaN(de)||isNaN(we)||isNaN(Ue)||!xi(Ye))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var lt=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*ie),Ue=Math.min(Ue,.5*de),this.lines([[ie-2*we,0],[we*lt,0,we,Ue-Ue*lt,we,Ue],[0,de-2*Ue],[0,Ue*lt,-we*lt,Ue,-we,Ue],[2*we-ie,0],[-we*lt,0,-we,-Ue*lt,-we,-Ue],[0,2*Ue-de],[0,-Ue*lt,we*lt,-Ue,we,-Ue]],S+we,B,[1,1],Ye,!0),this},_.__private__.ellipse=_.ellipse=function(S,B,ie,de,we){if(isNaN(S)||isNaN(B)||isNaN(ie)||isNaN(de)||!xi(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ue=4/3*(Math.SQRT2-1)*ie,Ye=4/3*(Math.SQRT2-1)*de;return Po(S+ie,B),Ui(S+ie,B-Ye,S+Ue,B-de,S,B-de),Ui(S-Ue,B-de,S-ie,B-Ye,S-ie,B),Ui(S-ie,B+Ye,S-Ue,B+de,S,B+de),Ui(S+Ue,B+de,S+ie,B+Ye,S+ie,B),Ds(we),this},_.__private__.circle=_.circle=function(S,B,ie,de){if(isNaN(S)||isNaN(B)||isNaN(ie)||!xi(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,B,ie,ie,de)},_.setFont=function(S,B,ie){return ie&&(B=z(B,ie)),gt=hl(S,B,{disableWarning:!1}),this};var La=_.__private__.getFont=_.getFont=function(){return Tt[hl.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var S,B,ie={};for(S in Mt)if(Mt.hasOwnProperty(S))for(B in ie[S]=[],Mt[S])Mt[S].hasOwnProperty(B)&&ie[S].push(B);return ie},_.addFont=function(S,B,ie,de,we){var Ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ue.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Ue.indexOf(arguments[3])==-1&&(ie=z(ie,de)),Lo.call(this,S,B,ie,we=we||"Identity-H")};var vs,Fi=n.lineWidth||.200025,Os=_.__private__.getLineWidth=_.getLineWidth=function(){return Fi},Rt=_.__private__.setLineWidth=_.setLineWidth=function(S){return Fi=S,ne(U(F(S))+" w"),this};_.__private__.setLineDash=Et.API.setLineDash=Et.API.setLineDashPattern=function(S,B){if(S=S||[],B=B||0,isNaN(B)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ie){return U(F(ie))}).join(" "),B=U(F(B)),ne("["+S+"] "+B+" d"),this};var to=_.__private__.getLineHeight=_.getLineHeight=function(){return ze*vs};_.__private__.getLineHeight=_.getLineHeight=function(){return ze*vs};var jo=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(vs=S),this},Ps=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return vs};jo(n.lineHeight);var Zr=_.__private__.getHorizontalCoordinate=function(S){return F(S)},Br=_.__private__.getVerticalCoordinate=function(S){return Z===X?S:vt[K].mediaBox.topRightY-vt[K].mediaBox.bottomLeftY-F(S)},no=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(S){return U(Zr(S))},Un=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(S){return U(Br(S))},Ji=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Yn(Ji)},_.__private__.setStrokeColor=_.setDrawColor=function(S,B,ie,de){return Ji=Fr({ch1:S,ch2:B,ch3:ie,ch4:de,pdfColorType:"draw",precision:2}),ne(Ji),this};var ro=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Yn(ro)},_.__private__.setFillColor=_.setFillColor=function(S,B,ie,de){return ro=Fr({ch1:S,ch2:B,ch3:ie,ch4:de,pdfColorType:"fill",precision:2}),ne(ro),this};var ka=n.textColor||"0 g",gl=_.__private__.getTextColor=_.getTextColor=function(){return Yn(ka)};_.__private__.setTextColor=_.setTextColor=function(S,B,ie,de){return ka=Fr({ch1:S,ch2:B,ch3:ie,ch4:de,pdfColorType:"text",precision:3}),this};var Zi=n.charSpace,bs=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(Zi||0)};_.__private__.setCharSpace=_.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Zi=S,this};var ea=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(S){var B=_.CapJoinStyles[S];if(B===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ea=B,ne(B+" J"),this};var kr=0;_.__private__.setLineJoin=_.setLineJoin=function(S){var B=_.CapJoinStyles[S];if(B===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return kr=B,ne(B+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(U(F(S))+" M"),this},_.GState=Qm,_.setGState=function(S){(S=typeof S=="string"?Pt[jt[S]]:Ha(null,S)).equals(jn)||(ne("/"+S.id+" gs"),jn=S)};var Ha=function(S,B){if(!S||!jt[S]){var ie=!1;for(var de in Pt)if(Pt.hasOwnProperty(de)&&Pt[de].equals(B)){ie=!0;break}if(ie)B=Pt[de];else{var we="GS"+(Object.keys(Pt).length+1).toString(10);Pt[we]=B,B.id=we}return S&&(jt[S]=B.id),ln.publish("addGState",B),B}};_.addGState=function(S,B){return Ha(S,B),this},_.saveGraphicsState=function(){return ne("q"),Qt.push({key:gt,size:ze,color:ka}),this},_.restoreGraphicsState=function(){ne("Q");var S=Qt.pop();return gt=S.key,ze=S.size,ka=S.color,jn=null,this},_.setCurrentTransformationMatrix=function(S){return ne(S.toString()+" cm"),this},_.comment=function(S){return ne("#"+S),this};var ci=function(S,B){var ie=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Ue){isNaN(Ue)||(ie=parseFloat(Ue))}});var de=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Ue){isNaN(Ue)||(de=parseFloat(Ue))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Ue){we=Ue.toString()}}),this},Ga=function(S,B,ie,de){ci.call(this,S,B),this.type="rect";var we=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(Ye){isNaN(Ye)||(we=parseFloat(Ye))}});var Ue=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ue},set:function(Ye){isNaN(Ye)||(Ue=parseFloat(Ye))}}),this},js=function(){this.page=wt,this.currentPage=K,this.pages=Xe.slice(0),this.pagesContext=vt.slice(0),this.x=yt,this.y=dr,this.matrix=Jt,this.width=ya(K),this.height=Mo(K),this.outputDestination=tt,this.id="",this.objectNumber=-1};js.prototype.restore=function(){wt=this.page,K=this.currentPage,vt=this.pagesContext,Xe=this.pages,yt=this.x,dr=this.y,Jt=this.matrix,io(K,this.width),ta(K,this.height),tt=this.outputDestination};var Wa=function(S,B,ie,de,we){Xr.push(new js),wt=K=0,Xe=[],yt=S,dr=B,Jt=we,ma([ie,de])};for(var $a in _.beginFormObject=function(S,B,ie,de,we){return Wa(S,B,ie,de,we),this},_.endFormObject=function(S){return(function(B){if(qa[B])Xr.pop().restore();else{var ie=new js,de="Xo"+(Object.keys(oi).length+1).toString(10);ie.id=de,qa[B]=de,oi[de]=ie,ln.publish("addFormObject",ie),Xr.pop().restore()}})(S),this},_.doFormObject=function(S,B){var ie=oi[qa[S]];return ne("q"),ne(B.toString()+" cm"),ne("/"+ie.id+" Do"),ne("Q"),this},_.getFormObject=function(S){var B=oi[qa[S]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},_.save=function(S,B){return S=S||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(Ac(_n(ga()),S),typeof Ac.unload=="function"&&$t.setTimeout&&setTimeout(Ac.unload,911),this):new Promise(function(ie,de){try{var we=Ac(_n(ga()),S);typeof Ac.unload=="function"&&$t.setTimeout&&setTimeout(Ac.unload,911),ie(we)}catch(Ue){de(Ue.message)}})},Et.API)Et.API.hasOwnProperty($a)&&($a==="events"&&Et.API.events.length?(function(S,B){var ie,de,we;for(we=B.length-1;we!==-1;we--)ie=B[we][0],de=B[we][1],S.subscribe.apply(S,[ie].concat(typeof de=="function"?[de]:de))})(ln,Et.API.events):_[$a]=Et.API[$a]);function ya(S){return vt[S].mediaBox.topRightX-vt[S].mediaBox.bottomLeftX}function io(S,B){vt[S].mediaBox.topRightX=B+vt[S].mediaBox.bottomLeftX}function Mo(S){return vt[S].mediaBox.topRightY-vt[S].mediaBox.bottomLeftY}function ta(S,B){vt[S].mediaBox.topRightY=B+vt[S].mediaBox.bottomLeftY}var Ya=_.getPageWidth=function(S){return ya(S=S||K)/Gt},yl=_.setPageWidth=function(S,B){io(S,B*Gt)},Da=_.getPageHeight=function(S){return Mo(S=S||K)/Gt},Uo=_.setPageHeight=function(S,B){ta(S,B*Gt)};return _.internal={pdfEscape:Mi,getStyle:dl,getFont:La,getFontSize:it,getCharSpace:bs,getTextColor:gl,getLineHeight:to,getLineHeightFactor:Ps,getLineWidth:Os,write:et,getHorizontalCoordinate:Zr,getVerticalCoordinate:Br,getCoordinateString:no,getVerticalCoordinateString:Un,collections:{},newObject:Gn,newAdditionalObject:_i,newObjectDeferred:er,newObjectDeferredBegin:Ur,getFilters:Pi,putStream:da,events:ln,scaleFactor:Gt,pageSize:{getWidth:function(){return Ya(K)},setWidth:function(S){yl(K,S)},getHeight:function(){return Da(K)},setHeight:function(S){Uo(K,S)}},encryptionOptions:g,encryption:lr,getEncryptor:function(S){return g!==null?lr.encryptor(S,0):function(B){return B}},output:ks,getNumberOfPages:Do,get pages(){return Xe},out:ne,f2:C,f3:M,getPageInfo:Ar,getPageInfoByObjId:eo,getCurrentPageInfo:ru,getPDFVersion:I,Point:ci,Rectangle:Ga,Matrix:St,hasHotfix:Lr},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return Ya(K)},set:function(S){yl(K,S)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return Da(K)},set:function(S){Uo(K,S)},enumerable:!0,configurable:!0}),(function(S){for(var B=0,ie=Nt.length;B<ie;B++){var de=Lo.call(this,S[B][0],S[B][1],S[B][2],Nt[B][3],!0);w===!1&&(A[de]=!0);var we=S[B][0].split("-");gr({id:de,fontName:we[0],fontStyle:we[1]||""})}ln.publish("addFonts",{fonts:Tt,dictionary:Mt})}).call(_,Nt),gt="F1",Ia(a,t),ln.publish("initialized"),_}kh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},kh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},kh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},kh.prototype.processOwnerPassword=function(n,e){return v2(y2(e).substr(0,5),n)},kh.prototype.encryptor=function(n,e){var t=y2(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return v2(t,r)}},Qm.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Zn(n)!==Zn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Et.API={events:[]},Et.version="4.1.0";var Yr=Et.API,Py=1,Hc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xm=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},rn=function(n){return n.toFixed(2)},Ou=function(n){return n.toFixed(5)};Yr.__acroform__={};var fs=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Hw=function(n){return n*Py},el=function(n){var e=new XS,t=mt.internal.getHeight(n)||0,r=mt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(rn(r)),Number(rn(t))],e},oP=Yr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},lP=Yr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},uP=Yr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},ri=Yr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return uP(n,e-1)},ii=Yr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return oP(n,e-1)},ai=Yr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return lP(n,e-1)},cP=Yr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=n[0],o=n[1],u=n[2],c=n[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=r(o+c)||0,f.upperRight_X=t(a+u)||0,f.upperRight_Y=r(o)||0,[Number(rn(f.lowerLeft_X)),Number(rn(f.lowerLeft_Y)),Number(rn(f.upperRight_X)),Number(rn(f.upperRight_Y))]},hP=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=b2(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+rn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=el(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},b2=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var o=t,u=mt.internal.getHeight(n)||0;u=u<0?-u:u;var c=mt.internal.getWidth(n)||0;c=c<0?-c:c;var f=function(C,M,F){if(C+1<a.length){var ue=M+" "+a[C+1][0];return rm(ue,n,F).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,g,w=rm("3",n,o).height,A=n.multiline?u-o:(u-w)/2,_=A+=2,P=0,I=0,L=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+rm(e,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var j="",$=0,X=0;X<a.length;X++)if(a.hasOwnProperty(X)){var Z=!1;if(a[X].length!==1&&L!==a[X].length-1){if((w+2)*($+2)+2>u)continue e;j+=a[X][L],Z=!0,I=X,X--}else{j=(j+=a[X][L]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var se=parseInt(X),_e=f(se,j,o),z=X>=a.length-1;if(_e&&!z){j+=" ",L=0;continue}if(_e||z){if(z)I=se;else if(n.multiline&&(w+2)*($+2)+2>u)continue e}else{if(!n.multiline||(w+2)*($+2)+2>u)continue e;I=se}}for(var U="",k=P;k<=I;k++){var H=a[k];if(n.multiline){if(k===I){U+=H[L]+" ",L=(L+1)%H.length;continue}if(k===P){U+=H[H.length-1]+" ";continue}}U+=H[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,g=rm(U,n,o).width,n.textAlign){case"right":d=c-g-2;break;case"center":d=(c-g)/2;break;default:d=2}e+=rn(d)+" "+rn(_)+` Td
`,e+="("+Hc(U)+`) Tj
`,e+=-rn(d)+` 0 Td
`,_=-(o+2),g=0,P=Z?I:I+1,$++,j=""}break}return r.text=e,r.fontSize=o,r},rm=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},fP={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},dP=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},pP=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Ro.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(fP)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Py=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new JS,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&dP(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,a){var o=!r;for(var u in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var c=r[u],f=[],d=c.Rect;if(c.Rect&&(c.Rect=cP(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=mt.createDefaultAppearanceStream(c),Zn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var g=hP(c);f.push({key:"AP",value:"<</N "+g+">>"}),a.internal.acroformPlugin.xForms.push(g)}if(c.appearanceStreamContent){var w="";for(var A in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(A)){var _=c.appearanceStreamContent[A];if(w+="/"+A+" ",w+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var u in _)if(_.hasOwnProperty(u)){var P=_[u];typeof P=="function"&&(P=P.call(a,c)),w+="/"+u+" "+P+" ",a.internal.acroformPlugin.xForms.indexOf(P)>=0||a.internal.acroformPlugin.xForms.push(P)}}else typeof(P=_)=="function"&&(P=P.call(a,c)),w+="/"+u+" "+P,a.internal.acroformPlugin.xForms.indexOf(P)>=0||a.internal.acroformPlugin.xForms.push(P);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(I,L){for(var j in I)if(I.hasOwnProperty(j)){var $=j,X=I[j];L.internal.newObjectDeferredBegin(X.objId,!0),Zn(X)==="object"&&typeof X.putStream=="function"&&X.putStream(),delete I[$]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},QS=Yr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(u){return u};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),Zn(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)==="/"?a+="/"+Xm(n[o].substr(1)):(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+Hc(r(n[o].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},E1=function(n,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Hc(r(n))+")"},nl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};nl.prototype.toString=function(){return this.objId+" 0 R"},nl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},nl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:QS(a,this.objId,this.scope)}):a instanceof nl?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var XS=function(){nl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};fs(XS,nl);var JS=function(){nl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Hc(t(n))+")"}},set:function(t){n=t}})};fs(JS,nl);var Ro=function n(){nl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');e=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ri(e,3)},set:function(j){j?this.F=ii(e,3):this.F=ai(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');t=j}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(j){r=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(j){r[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(j){r[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(j){r[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(j){r[3]=j}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Jm)return;o="FieldObject"+n.FieldNum++}var j=function($){return $};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+Hc(j(o))+")"},set:function(j){o=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(j){o=j}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(j){f=j}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Py:d},set:function(j){d=j}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(j){g=j}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof Jm||this instanceof Ic))return E1(w,this.objId,this.scope)},set:function(j){j=j.toString(),w=j}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof $i==0?E1(A,this.objId,this.scope):A},set:function(j){j=j.toString(),A=this instanceof $i==0?j.substr(0,1)==="("?Nh(j.substr(1,j.length-2)):Nh(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $i==1?Nh(A.substr(1,A.length-1)):A},set:function(j){j=j.toString(),A=this instanceof $i==1?"/"+Xm(j):j}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof $i==0?E1(_,this.objId,this.scope):_},set:function(j){j=j.toString(),_=this instanceof $i==0?j.substr(0,1)==="("?Nh(j.substr(1,j.length-2)):Nh(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $i==1?Nh(_.substr(1,_.length-1)):_},set:function(j){j=j.toString(),_=this instanceof $i==1?"/"+Xm(j):j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var P,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(j){j=!!j,I=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(P)return P},set:function(j){P=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,1)},set:function(j){j?this.Ff=ii(this.Ff,1):this.Ff=ai(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,2)},set:function(j){j?this.Ff=ii(this.Ff,2):this.Ff=ai(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,3)},set:function(j){j?this.Ff=ii(this.Ff,3):this.Ff=ai(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');L=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(L){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:L=2;break;case"center":case 1:L=1;break;default:L=0}}})};fs(Ro,nl);var zh=function(){Ro.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return QS(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=(function(o,u,c){c||(c=1);for(var f,d=[];f=u.exec(o);)d.push(f[c]);return d})(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,18)},set:function(t){t?this.Ff=ii(this.Ff,18):this.Ff=ai(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ii(this.Ff,19):this.Ff=ai(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,20)},set:function(t){t?(this.Ff=ii(this.Ff,20),e.sort()):this.Ff=ai(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,22)},set:function(t){t?this.Ff=ii(this.Ff,22):this.Ff=ai(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,23)},set:function(t){t?this.Ff=ii(this.Ff,23):this.Ff=ai(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,27)},set:function(t){t?this.Ff=ii(this.Ff,27):this.Ff=ai(this.Ff,27)}}),this.hasAppearanceStream=!1};fs(zh,Ro);var qh=function(){zh.call(this),this.fontName="helvetica",this.combo=!1};fs(qh,zh);var Hh=function(){qh.call(this),this.combo=!0};fs(Hh,qh);var bm=function(){Hh.call(this),this.edit=!0};fs(bm,Hh);var $i=function(){Ro.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,15)},set:function(t){t?this.Ff=ii(this.Ff,15):this.Ff=ai(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,16)},set:function(t){t?this.Ff=ii(this.Ff,16):this.Ff=ai(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,17)},set:function(t){t?this.Ff=ii(this.Ff,17):this.Ff=ai(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,26)},set:function(t){t?this.Ff=ii(this.Ff,26):this.Ff=ai(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+Hc(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Zn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+Xm(t)}})};fs($i,Ro);var _m=function(){$i.call(this),this.pushButton=!0};fs(_m,$i);var Gh=function(){$i.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};fs(Gh,$i);var Jm=function(){var n,e;Ro.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),r)u.push("/"+o+" ("+Hc(a(r[o]))+")");return u.push(">>"),u.join(`
`)},set:function(a){Zn(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fs(Jm,Ro),Gh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Gh.prototype.createOption=function(n){var e=new Jm;return e.Parent=this,e.optionName=n,this.Kids.push(e),mP.call(this.scope,e),e};var wm=function(){$i.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};fs(wm,$i);var Ic=function(){Ro.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,13)},set:function(e){e?this.Ff=ii(this.Ff,13):this.Ff=ai(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,21)},set:function(e){e?this.Ff=ii(this.Ff,21):this.Ff=ai(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,23)},set:function(e){e?this.Ff=ii(this.Ff,23):this.Ff=ai(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,24)},set:function(e){e?this.Ff=ii(this.Ff,24):this.Ff=ai(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,25)},set:function(e){e?this.Ff=ii(this.Ff,25):this.Ff=ai(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,26)},set:function(e){e?this.Ff=ii(this.Ff,26):this.Ff=ai(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fs(Ic,Ro);var xm=function(){Ic.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,14)},set:function(n){n?this.Ff=ii(this.Ff,14):this.Ff=ai(this.Ff,14)}}),this.password=!0};fs(xm,Ic);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=el(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=b2(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+rn(mt.internal.getWidth(n))+" "+rn(mt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+rn(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=el(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],o=mt.internal.getHeight(n),u=mt.internal.getWidth(n),c=b2(n,n.caption);return a.push("1 g"),a.push("0 0 "+rn(u)+" "+rn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+rn(u-1)+" "+rn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+rn(c.fontSize)+" Tf "+r),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=el(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+rn(mt.internal.getWidth(n))+" "+rn(mt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=mt.RadioButton.Circle.YesNormal,e.D[n]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=el(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=mt.internal.Bezier_C,o=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Ou(mt.internal.getWidth(n)/2)+" "+Ou(mt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=el(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*mt.internal.Bezier_C).toFixed(5)),u=Number((r*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ou(mt.internal.getWidth(n)/2)+" "+Ou(mt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Ou(mt.internal.getWidth(n)/2)+" "+Ou(mt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),t.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),t.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),t.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=el(n);e.scope=n.scope;var t=[],r=mt.internal.getWidth(n)<=mt.internal.getHeight(n)?mt.internal.getWidth(n)/4:mt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ou(mt.internal.getWidth(n)/2)+" "+Ou(mt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=mt.RadioButton.Cross.YesNormal,e.D[n]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=el(n);e.scope=n.scope;var t=[],r=mt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+rn(mt.internal.getWidth(n)-2)+" "+rn(mt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(rn(r.x1.x)+" "+rn(r.x1.y)+" m"),t.push(rn(r.x2.x)+" "+rn(r.x2.y)+" l"),t.push(rn(r.x4.x)+" "+rn(r.x4.y)+" m"),t.push(rn(r.x3.x)+" "+rn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=el(n);e.scope=n.scope;var t=mt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+rn(mt.internal.getWidth(n))+" "+rn(mt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+rn(mt.internal.getWidth(n)-2)+" "+rn(mt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(rn(t.x1.x)+" "+rn(t.x1.y)+" m"),r.push(rn(t.x2.x)+" "+rn(t.x2.y)+" l"),r.push(rn(t.x4.x)+" "+rn(t.x4.y)+" m"),r.push(rn(t.x3.x)+" "+rn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=el(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+rn(mt.internal.getWidth(n))+" "+rn(mt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};mt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=mt.internal.getWidth(n),t=mt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},mt.internal.getWidth=function(n){var e=0;return Zn(n)==="object"&&(e=Hw(n.Rect[2])),e},mt.internal.getHeight=function(n){var e=0;return Zn(n)==="object"&&(e=Hw(n.Rect[3])),e};var mP=Yr.addField=function(n){if(pP(this,n),!(n instanceof Ro))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Yr.AcroFormChoiceField=zh,Yr.AcroFormListBox=qh,Yr.AcroFormComboBox=Hh,Yr.AcroFormEditBox=bm,Yr.AcroFormButton=$i,Yr.AcroFormPushButton=_m,Yr.AcroFormRadioButton=Gh,Yr.AcroFormCheckBox=wm,Yr.AcroFormTextField=Ic,Yr.AcroFormPasswordField=xm,Yr.AcroFormAppearance=mt,Yr.AcroForm={ChoiceField:zh,ListBox:qh,ComboBox:Hh,EditBox:bm,Button:$i,PushButton:_m,RadioButton:Gh,CheckBox:wm,TextField:Ic,PasswordField:xm,Appearance:mt},Et.AcroForm={ChoiceField:zh,ListBox:qh,ComboBox:Hh,EditBox:bm,Button:$i,PushButton:_m,RadioButton:Gh,CheckBox:wm,TextField:Ic,PasswordField:xm,Appearance:mt};Et.AcroForm;function ZS(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(C,M){var F,ue,Ne,le,ge,pe=t;if((M=M||t)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(_e(C))for(ge in r)for(Ne=r[ge],F=0;F<Ne.length;F+=1){for(le=!0,ue=0;ue<Ne[F].length;ue+=1)if(Ne[F][ue]!==void 0&&Ne[F][ue]!==C[ue]){le=!1;break}if(le===!0){pe=ge;break}}else for(ge in r)for(Ne=r[ge],F=0;F<Ne.length;F+=1){for(le=!0,ue=0;ue<Ne[F].length;ue+=1)if(Ne[F][ue]!==void 0&&Ne[F][ue]!==C.charCodeAt(ue)){le=!1;break}if(le===!0){pe=ge;break}}return pe===t&&M!==t&&(pe=M),pe},o=function C(M){for(var F=this.internal.write,ue=this.internal.putStream,Ne=(0,this.internal.getFilters)();Ne.indexOf("FlateEncode")!==-1;)Ne.splice(Ne.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:M.width}),le.push({key:"Height",value:M.height}),M.colorSpace===j.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===j.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var ge="",pe=0,Ce=M.transparency.length;pe<Ce;pe++)ge+=M.transparency[pe]+" "+M.transparency[pe]+" ";le.push({key:"Mask",value:"["+ge+"]"})}M.sMask!==void 0&&le.push({key:"SMask",value:M.objectId+1+" 0 R"});var Ge=M.filter!==void 0?["/"+M.filter]:void 0;if(ue({data:M.data,additionalKeyValues:le,alreadyAppliedFilters:Ge,objectId:M.objectId}),F("endobj"),"sMask"in M&&M.sMask!==void 0){var W,D=(W=M.sMaskBitsPerComponent)!==null&&W!==void 0?W:M.bitsPerComponent,K={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:M.sMask};"filter"in M&&(K.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(M.width),K.filter=M.filter),C.call(this,K)}if(M.colorSpace===j.INDEXED){var ee=this.internal.newObject();ue({data:U(new Uint8Array(M.palette)),objectId:ee}),F("endobj")}},u=function(){var C=this.internal.collections[e+"images"];for(var M in C)o.call(this,C[M])},c=function(){var C,M=this.internal.collections[e+"images"],F=this.internal.write;for(var ue in M)F("/I"+(C=M[ue]).index,C.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var C=this.internal.collections[e+"images"];return f.call(this),C},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(C){return typeof n["process"+C.toUpperCase()]=="function"},A=function(C){return Zn(C)==="object"&&C.nodeType===1},_=function(C,M){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var F=""+C.getAttribute("src");if(F.indexOf("data:image/")===0)return vm(unescape(F).split("base64,").pop());var ue=n.loadFile(F,!0);if(ue!==void 0)return ue}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var Ne;switch(M){case"PNG":Ne="image/png";break;case"WEBP":Ne="image/webp";break;default:Ne="image/jpeg"}return vm(C.toDataURL(Ne,1).split("base64,").pop())}},P=function(C){var M=this.internal.collections[e+"images"];if(M){for(var F in M)if(C===M[F].alias)return M[F]}},I=function(C,M,F){return C||M||(C=-96,M=-96),C<0&&(C=-1*F.width*72/C/this.internal.scaleFactor),M<0&&(M=-1*F.height*72/M/this.internal.scaleFactor),C===0&&(C=M*F.width/F.height),M===0&&(M=C*F.height/F.width),[C,M]},L=function(C,M,F,ue,Ne,le){var ge=I.call(this,F,ue,Ne),pe=this.internal.getCoordinateString,Ce=this.internal.getVerticalCoordinateString,Ge=d.call(this);if(F=ge[0],ue=ge[1],Ge[Ne.index]=Ne,le){le*=Math.PI/180;var W=Math.cos(le),D=Math.sin(le),K=function(oe){return oe.toFixed(4)},ee=[K(W),K(D),K(-1*D),K(W),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,pe(C),Ce(M+ue),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([pe(F),"0","0",pe(ue),"0","0","cm"].join(" "))):this.internal.write([pe(F),"0","0",pe(ue),pe(C),Ce(M+ue),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ne.index+" Do"),this.internal.write("Q")},j=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var $=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},X=n.__addimage__.sHashCode=function(C){var M,F,ue=0;if(typeof C=="string")for(F=C.length,M=0;M<F;M++)ue=(ue<<5)-ue+C.charCodeAt(M),ue|=0;else if(_e(C))for(F=C.byteLength/2,M=0;M<F;M++)ue=(ue<<5)-ue+C[M],ue|=0;return ue},Z=n.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var M=!0;return C.length===0&&(M=!1),C.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(M=!1),M},se=n.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var M=C.indexOf(",");return M<0?null:C.substring(0,M).trim().endsWith("base64")?C.substring(M+1):null};n.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var _e=n.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},z=n.__addimage__.binaryStringToUint8Array=function(C){for(var M=C.length,F=new Uint8Array(M),ue=0;ue<M;ue++)F[ue]=C.charCodeAt(ue);return F},U=n.__addimage__.arrayBufferToBinaryString=function(C){for(var M="",F=_e(C)?C:new Uint8Array(C),ue=0;ue<F.length;ue+=8192)M+=String.fromCharCode.apply(null,F.subarray(ue,ue+8192));return M};n.addImage=function(){var C,M,F,ue,Ne,le,ge,pe,Ce;if(typeof arguments[1]=="number"?(M=t,F=arguments[1],ue=arguments[2],Ne=arguments[3],le=arguments[4],ge=arguments[5],pe=arguments[6],Ce=arguments[7]):(M=arguments[1],F=arguments[2],ue=arguments[3],Ne=arguments[4],le=arguments[5],ge=arguments[6],pe=arguments[7],Ce=arguments[8]),Zn(C=arguments[0])==="object"&&!A(C)&&"imageData"in C){var Ge=C;C=Ge.imageData,M=Ge.format||M||t,F=Ge.x||F||0,ue=Ge.y||ue||0,Ne=Ge.w||Ge.width||Ne,le=Ge.h||Ge.height||le,ge=Ge.alias||ge,pe=Ge.compression||pe,Ce=Ge.rotation||Ge.angle||Ce}var W=this.internal.getFilters();if(pe===void 0&&W.indexOf("FlateEncode")!==-1&&(pe="SLOW"),isNaN(F)||isNaN(ue))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var D=k.call(this,C,M,ge,pe);return L.call(this,F,ue,Ne,le,D,Ce),this};var k=function(C,M,F,ue){var Ne,le,ge;if(typeof C=="string"&&a(C)===t){C=unescape(C);var pe=H(C,!1);(pe!==""||(pe=n.loadFile(C,!0))!==void 0)&&(C=pe)}if(A(C)&&(C=_(C,M)),M=a(C,M),!w(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((ge=F)==null||ge.length===0)&&(F=(function(Ce){return typeof Ce=="string"||_e(Ce)?X(Ce):_e(Ce.data)?X(Ce.data):null})(C)),(Ne=P.call(this,F))||(C instanceof Uint8Array||M==="RGBA"||(le=C,C=z(C)),Ne=this["process"+M.toUpperCase()](C,g.call(this),F,(function(Ce){return Ce&&typeof Ce=="string"&&(Ce=Ce.toUpperCase()),Ce in n.image_compression?Ce:$.NONE})(ue),le)),!Ne)throw new Error("An unknown error occurred whilst processing the image.");return Ne},H=n.__addimage__.convertBase64ToBinaryString=function(C,M){M=typeof M!="boolean"||M;var F,ue="";if(typeof C=="string"){var Ne;F=(Ne=se(C))!==null&&Ne!==void 0?Ne:C;try{ue=vm(F)}catch(le){if(M)throw Z(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ue};n.getImageProperties=function(C){var M,F,ue="";if(A(C)&&(C=_(C)),typeof C=="string"&&a(C)===t&&((ue=H(C,!1))===""&&(ue=n.loadFile(C)||""),C=ue),F=a(C),!w(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(C instanceof Uint8Array||(C=z(C)),!(M=this["process"+F.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=F,M}})(Et.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Et.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,a,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,g=!1,w=0;w<d.length&&!g;w++)switch((r=d[w]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var A=0;A<d.length;A++){r=d[A];var _=this.internal.pdfEscape,P=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(I.objId),$=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+_(j(r.contents))+")",o+=" /Popup "+L.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+_(j($))+") >>",I.content=o;var X=I.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+u(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+X,r.open&&(o+=" /Open true"),o+=" >>",L.content=o,this.internal.write(I.objId,"0 R",L.objId,"0 R");break;case"freetext":a="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var Z=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+_(P(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Z+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var se=this.annotations._nameMap[r.options.name];r.options.pageNumber=se.page,r.options.top=se.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+_(P(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var _e=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+_e+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,a,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+a),h:d(r+o)},options:u,type:"link"})},n.textWithLink=function(t,r,a,o){var u,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var g=this.splitTextToSize(t,c).length;u=Math.ceil(d*g)}else c=f,u=d;return this.text(t,r,a,o),a+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,a-d,c,u,o),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Et.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(I){return e[I.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},c=n.__arabicParser__.isArabicEndLetter=function(I){return u(I)&&o(I)&&e[I.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(I){return u(I)&&a.indexOf(I.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return u(I)&&o(I)&&e[I.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(I){return u(I)&&o(I)&&e[I.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(I){return u(I)&&o(I)&&e[I.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(I){return u(I)&&o(I)&&e[I.charCodeAt(0)].length==4},w=n.__arabicParser__.resolveLigatures=function(I){var L=0,j=t,$="",X=0;for(L=0;L<I.length;L+=1)j[I.charCodeAt(L)]!==void 0?(X++,typeof(j=j[I.charCodeAt(L)])=="number"&&($+=String.fromCharCode(j),j=t,X=0),L===I.length-1&&(j=t,$+=I.charAt(L-(X-1)),L-=X-1,X=0)):(j=t,$+=I.charAt(L-X),L-=X,X=0);return $};n.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&r[I.charCodeAt(0)]!==void 0};var A=n.__arabicParser__.getCorrectForm=function(I,L,j){return u(I)?o(I)===!1?-1:!d(I)||!u(L)&&!u(j)||!u(j)&&c(L)||c(I)&&!u(L)||c(I)&&f(L)||c(I)&&c(L)?0:g(I)&&u(L)&&!c(L)&&u(j)&&d(j)?3:c(I)||!u(j)?1:2:-1},_=function(I){var L=0,j=0,$=0,X="",Z="",se="",_e=(I=I||"").split("\\s+"),z=[];for(L=0;L<_e.length;L+=1){for(z.push(""),j=0;j<_e[L].length;j+=1)X=_e[L][j],Z=_e[L][j-1],se=_e[L][j+1],u(X)?($=A(X,Z,se),z[L]+=$!==-1?String.fromCharCode(e[X.charCodeAt(0)][$]):X):z[L]+=X;z[L]=w(z[L])}return z.join(" ")},P=n.__arabicParser__.processArabic=n.processArabic=function(){var I,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(L)){var $=0;for(j=[],$=0;$<L.length;$+=1)Array.isArray(L[$])?j.push([_(L[$][0]),L[$][1],L[$][2]]):j.push([_(L[$])]);I=j}else I=_(L);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};n.events.push(["preProcessText",P])})(Et.API),Et.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Et.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(I){f=I}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(I){d=I}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(I){g=I}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(I){w=I}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(I){A=I}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(I){_=I}});var P=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return P},set:function(I){P=I}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var g=(d=d||{}).fontSize||this.getFontSize(),w=d.font||this.getFont(),A=d.scaleFactor||this.internal.scaleFactor,_=0,P=0,I=0,L=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var j=d.maxWidth;j>0?typeof f=="string"?f=this.splitTextToSize(f,j):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(X,Z){return X.concat(L.splitTextToSize(Z,j))},[])):f=Array.isArray(f)?f:[f];for(var $=0;$<f.length;$++)_<(I=this.getStringUnitWidth(f[$],{font:w})*g)&&(_=I);return _!==0&&(P=f.length),{w:_/=A,h:Math.max((P*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/A,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,A=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,_&&A&&(this.printHeaderRow(f.lineNumber,!0),f.y+=A[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-g,f.y+g,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+g,{align:"center",baseline:"top",maxWidth:f.width-g-g}):this.text(f.text,f.x+g,f.y+g,{align:"left",baseline:"top",maxWidth:f.width-g-g})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,g,w,A){if(r.call(this),!g)throw new Error("No data for PDF table.");var _,P,I,L,j=[],$=[],X=[],Z={},se={},_e=[],z=[],U=(A=A||{}).autoSize||!1,k=A.printHeaders!==!1,H=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,C=A.margins||Object.assign({width:this.getPageWidth()},e),M=typeof A.padding=="number"?A.padding:3,F=A.headerBackgroundColor||"#c8c8c8",ue=A.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=ue,this.setFontSize(H),w==null)$=j=Object.keys(g[0]),X=j.map(function(){return"left"});else if(Array.isArray(w)&&Zn(w[0])==="object")for(j=w.map(function(Ge){return Ge.name}),$=w.map(function(Ge){return Ge.prompt||Ge.name||""}),X=w.map(function(Ge){return Ge.align||"left"}),_=0;_<w.length;_+=1)se[w[_].name]=.7499990551181103*w[_].width;else Array.isArray(w)&&typeof w[0]=="string"&&($=j=w,X=j.map(function(){return"left"}));if(U||Array.isArray(w)&&typeof w[0]=="string")for(_=0;_<j.length;_+=1){for(Z[L=j[_]]=g.map(function(Ge){return Ge[L]}),this.setFont(void 0,"bold"),_e.push(this.getTextDimensions($[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),P=Z[L],this.setFont(void 0,"normal"),I=0;I<P.length;I+=1)_e.push(this.getTextDimensions(P[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);se[L]=Math.max.apply(null,_e)+M+M,_e=[]}if(k){var Ne={};for(_=0;_<j.length;_+=1)Ne[j[_]]={},Ne[j[_]].text=$[_],Ne[j[_]].align=X[_];var le=c.call(this,Ne,se);z=j.map(function(Ge){return new o(f,d,se[Ge],le,Ne[Ge].text,void 0,Ne[Ge].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var ge=w.reduce(function(Ge,W){return Ge[W.name]=W.align,Ge},{});for(_=0;_<g.length;_+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:_,data:g[_]},this);var pe=c.call(this,g[_],se);for(I=0;I<j.length;I+=1){var Ce=g[_][j[I]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:_,col:I,data:Ce},this),u.call(this,new o(f,d,se[j[I]],pe,Ce,_+2,ge[j[I]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var g=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(f).map(function(_){var P=f[_];return this.splitTextToSize(P.hasOwnProperty("text")?P.text:P,d[_]-g-g)},this).map(function(_){return this.getLineHeightFactor()*_.length*w/A+g+g},this).reduce(function(_,P){return Math.max(_,P)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){g=this.internal.__cell__.tableHeaderRow[_].clone(),d&&(g.y=this.internal.__cell__.margins.top||0,A.push(g)),g.lineNumber=f;var P=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,g),this.setTextColor(P)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),t=!1}})(Et.API);var eA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},tA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],_2=ZS(tA),nA=[100,200,300,400,500,600,700,800,900],gP=ZS(nA);function N1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return eA[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof _2[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,r].join(" ")}}}function Gw(n,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(n[e[a]])return n[e[a]]}var yP={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ww={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $w(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Yw(n){return n.trimLeft()}function vP(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function bP(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Th,im,Kw,Qw,Xw,T1=["times"];function Jw(n,e,t,r,a){var o=4,u=ex;switch(a){case Et.API.image_compression.FAST:o=1,u=Zw;break;case Et.API.image_compression.MEDIUM:o=6,u=tx;break;case Et.API.image_compression.SLOW:o=9,u=nx}n=(function(f,d,g,w){for(var A,_=f.length/d,P=new Uint8Array(f.length+_),I=[_P,Zw,ex,tx,nx],L=0;L<_;L+=1){var j=L*d,$=f.subarray(j,j+d);if(w)P.set(w($,g,A),j+L);else{for(var X=I.length,Z=[],se=0;se<X;se+=1)Z[se]=I[se]($,g,A);var _e=xP(Z.concat());P.set(Z[_e],j+L)}A=$}return P})(n,e,Math.ceil(t*r/8),u);var c=d2(n,{level:o});return Et.API.__addimage__.arrayBufferToBinaryString(c)}function _P(n){var e=Array.apply([],n);return e.unshift(0),e}function Zw(n,e){var t=n.length,r=[];r[0]=1;for(var a=0;a<t;a+=1){var o=n[a-e]||0;r[a+1]=n[a]-o+256&255}return r}function ex(n,e,t){var r=n.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var u=t&&t[o]||0;a[o+1]=n[o]-u+256&255}return a}function tx(n,e,t){var r=n.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var u=n[o-e]||0,c=t&&t[o]||0;a[o+1]=n[o]+256-(u+c>>>1)&255}return a}function nx(n,e,t){var r=n.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var u=wP(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=n[o]-u+256&255}return a}function wP(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),a=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=a&&r<=o?n:a<=o?e:t}function xP(n){var e=n.map(function(t){return t.reduce(function(r,a){return r+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function C1(n,e,t){var r=e*t,a=Math.floor(r/8),o=16-(r-8*a+t),u=(1<<t)-1;return rA(n,a)>>o&u}function rx(n,e,t,r){var a=t*r,o=Math.floor(a/8),u=16-(a-8*o+r),c=(1<<r)-1,f=(e&c)<<u;(function(d,g,w){if(g+1<d.byteLength)d.setUint16(g,w,!1);else{var A=w>>8&255;d.setUint8(g,A)}})(n,o,rA(n,o)&~(c<<u)&65535|f)}function rA(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function SP(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,u=1<<1+(7&a);n[e++],n[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var d=!0,g=[],w=0,A=null,_=0,P=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,P=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var I=n[e++];w=n[e++]|n[e++]<<8,A=n[e++],1&I||(A=null),_=I>>2&7,e++;break;case 254:for(;;){if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var L=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,$=n[e++]|n[e++]<<8,X=n[e++]|n[e++]<<8,Z=n[e++],se=Z>>6&1,_e=1<<1+(7&Z),z=c,U=f,k=!1;Z>>7&&(k=!0,z=e,U=_e,e+=3*_e);var H=e;for(e++;;){var C;if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}g.push({x:L,y:j,width:$,height:X,has_local_palette:k,palette_offset:z,palette_size:U,data_offset:H,data_length:e-H,transparent_index:A,interlaced:!!se,delay:w,disposal:_});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return P},this.frameInfo=function(M){if(M<0||M>=g.length)throw new Error("Frame index out of range.");return g[M]},this.decodeAndBlitFrameBGRA=function(M,F){var ue=this.frameInfo(M),Ne=ue.width*ue.height,le=new Uint8Array(Ne);ix(n,ue.data_offset,le,Ne);var ge=ue.palette_offset,pe=ue.transparent_index;pe===null&&(pe=256);var Ce=ue.width,Ge=t-Ce,W=Ce,D=4*(ue.y*t+ue.x),K=4*((ue.y+ue.height)*t+ue.x),ee=D,oe=4*Ge;ue.interlaced===!0&&(oe+=4*t*7);for(var ce=8,ve=0,De=le.length;ve<De;++ve){var Le=le[ve];if(W===0&&(W=Ce,(ee+=oe)>=K&&(oe=4*Ge+4*t*(ce-1),ee=D+(Ce+Ge)*(ce<<1),ce>>=1)),Le===pe)ee+=4;else{var Be=n[ge+3*Le],Xe=n[ge+3*Le+1],nt=n[ge+3*Le+2];F[ee++]=nt,F[ee++]=Xe,F[ee++]=Be,F[ee++]=255}--W}},this.decodeAndBlitFrameRGBA=function(M,F){var ue=this.frameInfo(M),Ne=ue.width*ue.height,le=new Uint8Array(Ne);ix(n,ue.data_offset,le,Ne);var ge=ue.palette_offset,pe=ue.transparent_index;pe===null&&(pe=256);var Ce=ue.width,Ge=t-Ce,W=Ce,D=4*(ue.y*t+ue.x),K=4*((ue.y+ue.height)*t+ue.x),ee=D,oe=4*Ge;ue.interlaced===!0&&(oe+=4*t*7);for(var ce=8,ve=0,De=le.length;ve<De;++ve){var Le=le[ve];if(W===0&&(W=Ce,(ee+=oe)>=K&&(oe=4*Ge+4*t*(ce-1),ee=D+(Ce+Ge)*(ce<<1),ce>>=1)),Le===pe)ee+=4;else{var Be=n[ge+3*Le],Xe=n[ge+3*Le+1],nt=n[ge+3*Le+2];F[ee++]=Be,F[ee++]=Xe,F[ee++]=nt,F[ee++]=255}--W}}}function ix(n,e,t,r){for(var a=n[e++],o=1<<a,u=o+1,c=u+1,f=a+1,d=(1<<f)-1,g=0,w=0,A=0,_=n[e++],P=new Int32Array(4096),I=null;;){for(;g<16&&_!==0;)w|=n[e++]<<g,g+=8,_===1?_=n[e++]:--_;if(g<f)break;var L=w&d;if(w>>=f,g-=f,L!==o){if(L===u)break;for(var j=L<c?L:I,$=0,X=j;X>o;)X=P[X]>>8,++$;var Z=X;if(A+$+(j!==L?1:0)>r)return void fr.log("Warning, gif stream longer than expected.");t[A++]=Z;var se=A+=$;for(j!==L&&(t[A++]=Z),X=j;$--;)X=P[X],t[--se]=255&X,X>>=8;I!==null&&c<4096&&(P[c++]=I<<8|Z,c>=d+1&&f<12&&(++f,d=d<<1|1)),I=L}else c=u+1,d=(1<<(f=a+1))-1,I=null}return A!==r&&fr.log("Warning, gif stream shorter than expected."),t}function R1(n){var e,t,r,a,o,u=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),g=new Array(64),w=new Array(65535),A=new Array(65535),_=new Array(64),P=new Array(64),I=[],L=0,j=7,$=new Array(64),X=new Array(64),Z=new Array(64),se=new Array(256),_e=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],ue=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(D,K){for(var ee=0,oe=0,ce=new Array,ve=1;ve<=16;ve++){for(var De=1;De<=D[ve];De++)ce[K[oe]]=[],ce[K[oe]][0]=ee,ce[K[oe]][1]=ve,oe++,ee++;ee*=2}return ce}function ge(D){for(var K=D[0],ee=D[1]-1;ee>=0;)K&1<<ee&&(L|=1<<j),ee--,--j<0&&(L==255?(pe(255),pe(0)):pe(L),j=7,L=0)}function pe(D){I.push(D)}function Ce(D){pe(D>>8&255),pe(255&D)}function Ge(D,K,ee,oe,ce){for(var ve,De=ce[0],Le=ce[240],Be=(function(ze,at){var it,Ct,_t,Kt,en,Vt,on,Xt,gt,Gt,yt=0;for(gt=0;gt<8;++gt){it=ze[yt],Ct=ze[yt+1],_t=ze[yt+2],Kt=ze[yt+3],en=ze[yt+4],Vt=ze[yt+5],on=ze[yt+6];var dr=it+(Xt=ze[yt+7]),Jt=it-Xt,Tt=Ct+on,Mt=Ct-on,Qt=_t+Vt,xt=_t-Vt,Dn=Kt+en,Pt=Kt-en,jt=dr+Dn,jn=dr-Dn,wt=Tt+Qt,vt=Tt-Qt;ze[yt]=jt+wt,ze[yt+4]=jt-wt;var ln=.707106781*(vt+jn);ze[yt+2]=jn+ln,ze[yt+6]=jn-ln;var bi=.382683433*((jt=Pt+xt)-(vt=Mt+Jt)),oi=.5411961*jt+bi,qa=1.306562965*vt+bi,Xr=.707106781*(wt=xt+Mt),St=Jt+Xr,ds=Jt-Xr;ze[yt+5]=ds+oi,ze[yt+3]=ds-oi,ze[yt+1]=St+qa,ze[yt+7]=St-qa,yt+=8}for(yt=0,gt=0;gt<8;++gt){it=ze[yt],Ct=ze[yt+8],_t=ze[yt+16],Kt=ze[yt+24],en=ze[yt+32],Vt=ze[yt+40],on=ze[yt+48];var Yi=it+(Xt=ze[yt+56]),Di=it-Xt,Oi=Ct+on,Gn=Ct-on,er=_t+Vt,Ur=_t-Vt,_i=Kt+en,li=Kt-en,Mn=Yi+_i,Yn=Yi-_i,Fr=Oi+er,Pi=Oi-er;ze[yt]=Mn+Fr,ze[yt+32]=Mn-Fr;var da=.707106781*(Pi+Yn);ze[yt+16]=Yn+da,ze[yt+48]=Yn-da;var Ls=.382683433*((Mn=li+Ur)-(Pi=Gn+Di)),Ra=.5411961*Mn+Ls,ji=1.306562965*Pi+Ls,ps=.707106781*(Fr=Ur+Gn),Ki=Di+ps,wi=Di-ps;ze[yt+40]=wi+Ra,ze[yt+24]=wi-Ra,ze[yt+8]=Ki+ji,ze[yt+56]=Ki-ji,yt++}for(gt=0;gt<64;++gt)Gt=ze[gt]*at[gt],_[gt]=Gt>0?Gt+.5|0:Gt-.5|0;return _})(D,K),Xe=0;Xe<64;++Xe)P[z[Xe]]=Be[Xe];var nt=P[0]-ee;ee=P[0],nt==0?ge(oe[0]):(ge(oe[A[ve=32767+nt]]),ge(w[ve]));for(var tt=63;tt>0&&P[tt]==0;)tt--;if(tt==0)return ge(De),ee;for(var ct,ne=1;ne<=tt;){for(var et=ne;P[ne]==0&&ne<=tt;)++ne;var Yt=ne-et;if(Yt>=16){ct=Yt>>4;for(var Nt=1;Nt<=ct;++Nt)ge(Le);Yt&=15}ve=32767+P[ne],ge(ce[(Yt<<4)+A[ve]]),ge(w[ve]),ne++}return tt!=63&&ge(De),ee}function W(D){D=Math.min(Math.max(D,1),100),o!=D&&((function(K){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var ce=u((ee[oe]*K+50)/100);ce=Math.min(Math.max(ce,1),255),c[z[oe]]=ce}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],De=0;De<64;De++){var Le=u((ve[De]*K+50)/100);Le=Math.min(Math.max(Le,1),255),f[z[De]]=Le}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xe=0,nt=0;nt<8;nt++)for(var tt=0;tt<8;tt++)d[Xe]=1/(c[z[Xe]]*Be[nt]*Be[tt]*8),g[Xe]=1/(f[z[Xe]]*Be[nt]*Be[tt]*8),Xe++})(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),o=D)}this.encode=function(D,K){K&&W(K),I=new Array,L=0,j=7,Ce(65496),Ce(65504),Ce(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),Ce(1),Ce(1),pe(0),pe(0),(function(){Ce(65499),Ce(132),pe(0);for(var Ct=0;Ct<64;Ct++)pe(c[Ct]);pe(1);for(var _t=0;_t<64;_t++)pe(f[_t])})(),(function(Ct,_t){Ce(65472),Ce(17),pe(8),Ce(_t),Ce(Ct),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1)})(D.width,D.height),(function(){Ce(65476),Ce(418),pe(0);for(var Ct=0;Ct<16;Ct++)pe(U[Ct+1]);for(var _t=0;_t<=11;_t++)pe(k[_t]);pe(16);for(var Kt=0;Kt<16;Kt++)pe(H[Kt+1]);for(var en=0;en<=161;en++)pe(C[en]);pe(1);for(var Vt=0;Vt<16;Vt++)pe(M[Vt+1]);for(var on=0;on<=11;on++)pe(F[on]);pe(17);for(var Xt=0;Xt<16;Xt++)pe(ue[Xt+1]);for(var gt=0;gt<=161;gt++)pe(Ne[gt])})(),Ce(65498),Ce(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var ee=0,oe=0,ce=0;L=0,j=7,this.encode.displayName="_encode_";for(var ve,De,Le,Be,Xe,nt,tt,ct,ne,et=D.data,Yt=D.width,Nt=D.height,ze=4*Yt,at=0;at<Nt;){for(ve=0;ve<ze;){for(Xe=ze*at+ve,tt=-1,ct=0,ne=0;ne<64;ne++)nt=Xe+(ct=ne>>3)*ze+(tt=4*(7&ne)),at+ct>=Nt&&(nt-=ze*(at+1+ct-Nt)),ve+tt>=ze&&(nt-=ve+tt-ze+4),De=et[nt++],Le=et[nt++],Be=et[nt++],$[ne]=(_e[De]+_e[Le+256|0]+_e[Be+512|0]>>16)-128,X[ne]=(_e[De+768|0]+_e[Le+1024|0]+_e[Be+1280|0]>>16)-128,Z[ne]=(_e[De+1280|0]+_e[Le+1536|0]+_e[Be+1792|0]>>16)-128;ee=Ge($,d,ee,e,r),oe=Ge(X,g,oe,t,a),ce=Ge(Z,g,ce,t,a),ve+=32}at+=8}if(j>=0){var it=[];it[1]=j+1,it[0]=(1<<j+1)-1,ge(it)}return Ce(65497),new Uint8Array(I)},n=n||50,(function(){for(var D=String.fromCharCode,K=0;K<256;K++)se[K]=D(K)})(),e=le(U,k),t=le(M,F),r=le(H,C),a=le(ue,Ne),(function(){for(var D=1,K=2,ee=1;ee<=15;ee++){for(var oe=D;oe<K;oe++)A[32767+oe]=ee,w[32767+oe]=[],w[32767+oe][1]=ee,w[32767+oe][0]=oe;for(var ce=-(K-1);ce<=-D;ce++)A[32767+ce]=ee,w[32767+ce]=[],w[32767+ce][1]=ee,w[32767+ce][0]=K-1+ce;D<<=1,K<<=1}})(),(function(){for(var D=0;D<256;D++)_e[D]=19595*D,_e[D+256|0]=38470*D,_e[D+512|0]=7471*D+32768,_e[D+768|0]=-11059*D,_e[D+1024|0]=-21709*D,_e[D+1280|0]=32768*D+8421375,_e[D+1536|0]=-27439*D,_e[D+1792|0]=-5329*D})(),W(n)}function wo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ax(n){function e(k){if(!k)throw Error("assert :P")}function t(k,H,C){for(var M=0;4>M;M++)if(k[H+M]!=C.charCodeAt(M))return!0;return!1}function r(k,H,C,M,F){for(var ue=0;ue<F;ue++)k[H+ue]=C[M+ue]}function a(k,H,C,M){for(var F=0;F<M;F++)k[H+F]=C}function o(k){return new Int32Array(k)}function u(k,H){for(var C=[],M=0;M<k;M++)C.push(new H);return C}function c(k,H){var C=[];return(function M(F,ue,Ne){for(var le=Ne[ue],ge=0;ge<le&&(F.push(Ne.length>ue+1?[]:new H),!(Ne.length<ue+1));ge++)M(F[ge],ue+1,Ne)})(C,0,k),C}var f=function(){var k=this;function H(p,v){for(var E=1<<v-1>>>0;p&E;)E>>>=1;return E?(p&E-1)+E:p}function C(p,v,E,T,V){e(!(T%E));do p[v+(T-=E)]=V;while(0<T)}function M(p,v,E,T,V){if(e(2328>=V),512>=V)var q=o(512);else if((q=o(V))==null)return 0;return(function(G,Q,te,ae,me,Te){var re,be,Ae=Q,Me=1<<te,Ee=o(16),je=o(16);for(e(me!=0),e(ae!=null),e(G!=null),e(0<te),be=0;be<me;++be){if(15<ae[be])return 0;++Ee[ae[be]]}if(Ee[0]==me)return 0;for(je[1]=0,re=1;15>re;++re){if(Ee[re]>1<<re)return 0;je[re+1]=je[re]+Ee[re]}for(be=0;be<me;++be)re=ae[be],0<ae[be]&&(Te[je[re]++]=be);if(je[15]==1)return(ae=new F).g=0,ae.value=Te[0],C(G,Ae,1,Me,ae),Me;var Ve,Qe=-1,$e=Me-1,pt=0,st=1,Wt=1,ht=1<<te;for(be=0,re=1,me=2;re<=te;++re,me<<=1){if(st+=Wt<<=1,0>(Wt-=Ee[re]))return 0;for(;0<Ee[re];--Ee[re])(ae=new F).g=re,ae.value=Te[be++],C(G,Ae+pt,me,ht,ae),pt=H(pt,re)}for(re=te+1,me=2;15>=re;++re,me<<=1){if(st+=Wt<<=1,0>(Wt-=Ee[re]))return 0;for(;0<Ee[re];--Ee[re]){if(ae=new F,(pt&$e)!=Qe){for(Ae+=ht,Ve=1<<(Qe=re)-te;15>Qe&&!(0>=(Ve-=Ee[Qe]));)++Qe,Ve<<=1;Me+=ht=1<<(Ve=Qe-te),G[Q+(Qe=pt&$e)].g=Ve+te,G[Q+Qe].value=Ae-Q-Qe}ae.g=re-te,ae.value=Te[be++],C(G,Ae+(pt>>te),me,ht,ae),pt=H(pt,re)}}return st!=2*je[15]-1?0:Me})(p,v,E,T,V,q)}function F(){this.value=this.g=0}function ue(){this.value=this.g=0}function Ne(){this.G=u(5,F),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Fo,ue)}function le(p,v,E,T){e(p!=null),e(v!=null),e(2147483648>T),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=E,p.Jd=v,p.Yc=E+T,p.Zc=4<=T?E+T-4+1:E,De(p)}function ge(p,v){for(var E=0;0<v--;)E|=Be(p,128)<<v;return E}function pe(p,v){var E=ge(p,v);return Le(p)?-E:E}function Ce(p,v,E,T){var V,q=0;for(e(p!=null),e(v!=null),e(4294967288>T),p.Sb=T,p.Ra=0,p.u=0,p.h=0,4<T&&(T=4),V=0;V<T;++V)q+=v[E+V]<<8*V;p.Ra=q,p.bb=T,p.oa=v,p.pa=E}function Ge(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Fs-8>>>0,++p.bb,p.u-=8;oe(p)&&(p.h=1,p.u=0)}function W(p,v){if(e(0<=v),!p.h&&v<=ra){var E=ee(p)&va[v];return p.u+=v,Ge(p),E}return p.h=1,p.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(p){return p.Ra>>>(p.u&Fs-1)>>>0}function oe(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Fs}function ce(p,v){p.u=v,p.h=oe(p)}function ve(p){p.u>=Bs&&(e(p.u>=Bs),Ge(p))}function De(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Le(p){return ge(p,1)}function Be(p,v){var E=p.Ca;0>p.b&&De(p);var T=p.b,V=E*v>>>8,q=(p.I>>>T>V)+0;for(q?(E-=V,p.I-=V+1<<T>>>0):E=V+1,T=E,V=0;256<=T;)V+=8,T>>=8;return T=7^V+oo[T],p.b-=T,p.Ca=(E<<T)-1,q}function Xe(p,v,E){p[v+0]=E>>24&255,p[v+1]=E>>16&255,p[v+2]=E>>8&255,p[v+3]=255&E}function nt(p,v){return p[v+0]|p[v+1]<<8}function tt(p,v){return nt(p,v)|p[v+2]<<16}function ct(p,v){return nt(p,v)|nt(p,v+2)<<16}function ne(p,v){var E=1<<v;return e(p!=null),e(0<v),p.X=o(E),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function et(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function Yt(){this.X=[],this.Xa=this.Mb=0}function Nt(p,v,E,T){e(E!=null),e(T!=null);var V=E[0],q=T[0];return V==0&&(V=(p*q+v/2)/v),q==0&&(q=(v*V+p/2)/p),0>=V||0>=q?0:(E[0]=V,T[0]=q,1)}function ze(p,v){return p+(1<<v)-1>>>v}function at(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function it(p,v){k[v]=function(E,T,V,q,G,Q,te){var ae;for(ae=0;ae<G;++ae){var me=k[p](Q[te+ae-1],V,q+ae);Q[te+ae]=at(E[T+ae],me)}}}function Ct(){this.ud=this.hd=this.jd=0}function _t(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function Kt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function en(p,v){return Kt(p+(p-v+.5>>1))}function Vt(p,v,E){return Math.abs(v-E)-Math.abs(p-E)}function on(p,v,E,T,V,q,G){for(T=q[G-1],E=0;E<V;++E)q[G+E]=T=at(p[v+E],T)}function Xt(p,v,E,T,V){var q;for(q=0;q<E;++q){var G=p[v+q],Q=G>>8&255,te=16711935&(te=(te=16711935&G)+((Q<<16)+Q));T[V+q]=(4278255360&G)+te>>>0}}function gt(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function Gt(p,v,E,T,V,q){var G;for(G=0;G<T;++G){var Q=v[E+G],te=Q>>>8,ae=Q,me=255&(me=(me=Q>>>16)+((p.jd<<24>>24)*(te<<24>>24)>>>5));ae=255&(ae=(ae+=(p.hd<<24>>24)*(te<<24>>24)>>>5)+((p.ud<<24>>24)*(me<<24>>24)>>>5)),V[q+G]=(4278255360&Q)+(me<<16)+ae}}function yt(p,v,E,T,V){k[v]=function(q,G,Q,te,ae,me,Te,re,be){for(te=Te;te<re;++te)for(Te=0;Te<be;++Te)ae[me++]=V(Q[T(q[G++])])},k[p]=function(q,G,Q,te,ae,me,Te){var re=8>>q.b,be=q.Ea,Ae=q.K[0],Me=q.w;if(8>re)for(q=(1<<q.b)-1,Me=(1<<re)-1;G<Q;++G){var Ee,je=0;for(Ee=0;Ee<be;++Ee)Ee&q||(je=T(te[ae++])),me[Te++]=V(Ae[je&Me]),je>>=re}else k["VP8LMapColor"+E](te,ae,Ae,Me,me,Te,G,Q,be)}}function dr(p,v,E,T,V){for(E=v+E;v<E;){var q=p[v++];T[V++]=q>>16&255,T[V++]=q>>8&255,T[V++]=255&q}}function Jt(p,v,E,T,V){for(E=v+E;v<E;){var q=p[v++];T[V++]=q>>16&255,T[V++]=q>>8&255,T[V++]=255&q,T[V++]=q>>24&255}}function Tt(p,v,E,T,V){for(E=v+E;v<E;){var q=(G=p[v++])>>16&240|G>>12&15,G=240&G|G>>28&15;T[V++]=q,T[V++]=G}}function Mt(p,v,E,T,V){for(E=v+E;v<E;){var q=(G=p[v++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;T[V++]=q,T[V++]=G}}function Qt(p,v,E,T,V){for(E=v+E;v<E;){var q=p[v++];T[V++]=255&q,T[V++]=q>>8&255,T[V++]=q>>16&255}}function xt(p,v,E,T,V,q){if(q==0)for(E=v+E;v<E;)Xe(T,((q=p[v++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),V+=32;else r(T,V,p,v,E)}function Dn(p,v){k[v][0]=k[p+"0"],k[v][1]=k[p+"1"],k[v][2]=k[p+"2"],k[v][3]=k[p+"3"],k[v][4]=k[p+"4"],k[v][5]=k[p+"5"],k[v][6]=k[p+"6"],k[v][7]=k[p+"7"],k[v][8]=k[p+"8"],k[v][9]=k[p+"9"],k[v][10]=k[p+"10"],k[v][11]=k[p+"11"],k[v][12]=k[p+"12"],k[v][13]=k[p+"13"],k[v][14]=k[p+"0"],k[v][15]=k[p+"0"]}function Pt(p){return p==dc||p==Qc||p==cu||p==Xc}function jt(){this.eb=[],this.size=this.A=this.fb=0}function jn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new jt,this.f.kb=new jn,this.sd=null}function vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function bi(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function oi(p,v){var E=p.T,T=v.ba.f.RGBA,V=T.eb,q=T.fb+p.ka*T.A,G=Ci[v.ba.S],Q=p.y,te=p.O,ae=p.f,me=p.N,Te=p.ea,re=p.W,be=v.cc,Ae=v.dc,Me=v.Mc,Ee=v.Nc,je=p.ka,Ve=p.ka+p.T,Qe=p.U,$e=Qe+1>>1;for(je==0?G(Q,te,null,null,ae,me,Te,re,ae,me,Te,re,V,q,null,null,Qe):(G(v.ec,v.fc,Q,te,be,Ae,Me,Ee,ae,me,Te,re,V,q-T.A,V,q,Qe),++E);je+2<Ve;je+=2)be=ae,Ae=me,Me=Te,Ee=re,me+=p.Rc,re+=p.Rc,q+=2*T.A,G(Q,(te+=2*p.fa)-p.fa,Q,te,be,Ae,Me,Ee,ae,me,Te,re,V,q-T.A,V,q,Qe);return te+=p.fa,p.j+Ve<p.o?(r(v.ec,v.fc,Q,te,Qe),r(v.cc,v.dc,ae,me,$e),r(v.Mc,v.Nc,Te,re,$e),E--):1&Ve||G(Q,te,null,null,ae,me,Te,re,ae,me,Te,re,V,q+T.A,null,null,Qe),E}function qa(p,v,E){var T=p.F,V=[p.J];if(T!=null){var q=p.U,G=v.ba.S,Q=G==fc||G==cu;v=v.ba.f.RGBA;var te=[0],ae=p.ka;te[0]=p.T,p.Kb&&(ae==0?--te[0]:(--ae,V[0]-=p.width),p.j+p.ka+p.T==p.o&&(te[0]=p.o-p.j-ae));var me=v.eb;ae=v.fb+ae*v.A,p=lc(T,V[0],p.width,q,te,me,ae+(Q?0:3),v.A),e(E==te),p&&Pt(G)&&_l(me,ae,Q,q,te,v.A)}return 0}function Xr(p){var v=p.ma,E=v.ba.S,T=11>E,V=E==zi||E==Xa||E==fc||E==uu||E==12||Pt(E);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!so(v.Oa,p,V?11:12))return 0;if(V&&Pt(E)&&Ht(),p.da)alert("todo:use_scaling");else{if(T){if(v.Ib=bi,p.Kb){if(E=p.U+1>>1,v.memory=o(p.U+2*E),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+E,v.Ib=oi,Ht()}}else alert("todo:EmitYUV");V&&(v.Jb=qa,T&&ke())}if(T&&!Wo){for(p=0;256>p;++p)Ri[p]=89858*(p-128)+du>>rs,Rg[p]=-22014*(p-128)+du,rp[p]=-45773*(p-128),nh[p]=113618*(p-128)+du>>rs;for(p=Al;p<Go;++p)v=76283*(p-16)+du>>rs,Ig[p-Al]=Xi(v,255),Lg[p-Al]=Xi(v+8>>4,15);Wo=1}return 1}function St(p){var v=p.ma,E=p.U,T=p.T;return e(!(1&p.ka)),0>=E||0>=T?0:(E=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,E),v.Dc+=E,1)}function ds(p){p.ma.memory=null}function Yi(p,v,E,T){return W(p,8)!=47?0:(v[0]=W(p,14)+1,E[0]=W(p,14)+1,T[0]=W(p,1),W(p,3)!=0?0:!p.h)}function Di(p,v){if(4>p)return p+1;var E=p-2>>1;return(2+(1&p)<<E)+W(v,E)+1}function Oi(p,v){return 120<v?v-120:1<=(E=((E=Za[v-1])>>4)*p+(8-(15&E)))?E:1;var E}function Gn(p,v,E){var T=ee(E),V=p[v+=255&T].g-8;return 0<V&&(ce(E,E.u+8),T=ee(E),v+=p[v].value,v+=T&(1<<V)-1),ce(E,E.u+p[v].g),p[v].value}function er(p,v,E){return E.g+=p.g,E.value+=p.value<<v>>>0,e(8>=E.g),p.g}function Ur(p,v,E){var T=p.xc;return e((v=T==0?0:p.vc[p.md*(E>>T)+(v>>T)])<p.Wb),p.Ya[v]}function _i(p,v,E,T){var V=p.ab,q=p.c*v,G=p.C;v=G+v;var Q=E,te=T;for(T=p.Ta,E=p.Ua;0<V--;){var ae=p.gc[V],me=G,Te=v,re=Q,be=te,Ae=(te=T,Q=E,ae.Ea);switch(e(me<Te),e(Te<=ae.nc),ae.hc){case 2:Dr(re,be,(Te-me)*Ae,te,Q);break;case 0:var Me=me,Ee=Te,je=te,Ve=Q,Qe=(ht=ae).Ea;Me==0&&(au(re,be,null,null,1,je,Ve),on(re,be+1,0,0,Qe-1,je,Ve+1),be+=Qe,Ve+=Qe,++Me);for(var $e=1<<ht.b,pt=$e-1,st=ze(Qe,ht.b),Wt=ht.K,ht=ht.w+(Me>>ht.b)*st;Me<Ee;){var pn=Wt,cr=ht,tn=1;for(su(re,be,je,Ve-Qe,1,je,Ve);tn<Qe;){var ot=(tn&~pt)+$e;ot>Qe&&(ot=Qe),(0,lo[pn[cr++]>>8&15])(re,be+ +tn,je,Ve+tn-Qe,ot-tn,je,Ve+tn),tn=ot}be+=Qe,Ve+=Qe,++Me&pt||(ht+=st)}Te!=ae.nc&&r(te,Q-Ae,te,Q+(Te-me-1)*Ae,Ae);break;case 1:for(Ae=re,Ee=be,Qe=(re=ae.Ea)-(Ve=re&~(je=(be=1<<ae.b)-1)),Me=ze(re,ae.b),$e=ae.K,ae=ae.w+(me>>ae.b)*Me;me<Te;){for(pt=$e,st=ae,Wt=new Ct,ht=Ee+Ve,pn=Ee+re;Ee<ht;)gt(pt[st++],Wt),ou(Wt,Ae,Ee,be,te,Q),Ee+=be,Q+=be;Ee<pn&&(gt(pt[st++],Wt),ou(Wt,Ae,Ee,Qe,te,Q),Ee+=Qe,Q+=Qe),++me&je||(ae+=Me)}break;case 3:if(re==te&&be==Q&&0<ae.b){for(Ee=te,re=Ae=Q+(Te-me)*Ae-(Ve=(Te-me)*ze(ae.Ea,ae.b)),be=te,je=Q,Me=[],Ve=(Qe=Ve)-1;0<=Ve;--Ve)Me[Ve]=be[je+Ve];for(Ve=Qe-1;0<=Ve;--Ve)Ee[re+Ve]=Me[Ve];Gc(ae,me,Te,te,Ae,te,Q)}else Gc(ae,me,Te,re,be,te,Q)}Q=T,te=E}te!=E&&r(T,E,Q,te,q)}function li(p,v){var E=p.V,T=p.Ba+p.c*p.C,V=v-p.C;if(e(v<=p.l.o),e(16>=V),0<V){var q=p.l,G=p.Ta,Q=p.Ua,te=q.width;if(_i(p,V,E,T),V=Q=[Q],e((E=p.C)<(T=v)),e(q.v<q.va),T>q.o&&(T=q.o),E<q.j){var ae=q.j-E;E=q.j,V[0]+=ae*te}if(E>=T?E=0:(V[0]+=4*q.v,q.ka=E-q.j,q.U=q.va-q.v,q.T=T-E,E=1),E){if(Q=Q[0],11>(E=p.ca).S){var me=E.f.RGBA,Te=(T=E.S,V=q.U,q=q.T,ae=me.eb,me.A),re=q;for(me=me.fb+p.Ma*me.A;0<re--;){var be=G,Ae=Q,Me=V,Ee=ae,je=me;switch(T){case Yc:lu(be,Ae,Me,Ee,je);break;case zi:uo(be,Ae,Me,Ee,je);break;case dc:uo(be,Ae,Me,Ee,je),_l(Ee,je,0,Me,1,0);break;case Kc:vl(be,Ae,Me,Ee,je);break;case Xa:xt(be,Ae,Me,Ee,je,1);break;case Qc:xt(be,Ae,Me,Ee,je,1),_l(Ee,je,0,Me,1,0);break;case fc:xt(be,Ae,Me,Ee,je,0);break;case cu:xt(be,Ae,Me,Ee,je,0),_l(Ee,je,1,Me,1,0);break;case uu:co(be,Ae,Me,Ee,je);break;case Xc:co(be,Ae,Me,Ee,je),Qa(Ee,je,Me,1,0);break;case Bo:qs(be,Ae,Me,Ee,je);break;default:e(0)}Q+=te,me+=Te}p.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=E.height)}}p.C=v,e(p.C<=p.i)}function Mn(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var E=p.Ya[v].G,T=p.Ya[v].H;if(0<E[1][T[1]+0].g||0<E[2][T[2]+0].g||0<E[3][T[3]+0].g)return 0}return 1}function Yn(p,v,E,T,V,q){if(p.Z!=0){var G=p.qd,Q=p.rd;for(e(po[p.Z]!=null);v<E;++v)po[p.Z](G,Q,T,V,T,V,q),G=T,Q=V,V+=q;p.qd=G,p.rd=Q}}function Fr(p,v){var E=p.l.ma,T=E.Z==0||E.Z==1?p.l.j:p.C;if(T=p.C<T?T:p.C,e(v<=p.l.o),v>T){var V=p.l.width,q=E.ca,G=E.tb+V*T,Q=p.V,te=p.Ba+p.c*T,ae=p.gc;e(p.ab==1),e(ae[0].hc==3),zs(ae[0],T,v,Q,te,q,G),Yn(E,T,v,q,G,V)}p.C=p.Ma=v}function Pi(p,v,E,T,V,q,G){var Q=p.$/T,te=p.$%T,ae=p.m,me=p.s,Te=E+p.$,re=Te;V=E+T*V;var be=E+T*q,Ae=280+me.ua,Me=p.Pb?Q:16777216,Ee=0<me.ua?me.Wa:null,je=me.wc,Ve=Te<be?Ur(me,te,Q):null;e(p.C<q),e(be<=V);var Qe=!1;e:for(;;){for(;Qe||Te<be;){var $e=0;if(Q>=Me){var pt=Te-E;e((Me=p).Pb),Me.wd=Me.m,Me.xd=pt,0<Me.s.ua&&et(Me.s.Wa,Me.s.vb),Me=Q+Vo}if(te&je||(Ve=Ur(me,te,Q)),e(Ve!=null),Ve.Qb&&(v[Te]=Ve.qb,Qe=!0),!Qe)if(ve(ae),Ve.jc){$e=ae,pt=v;var st=Te,Wt=Ve.pd[ee($e)&Fo-1];e(Ve.jc),256>Wt.g?(ce($e,$e.u+Wt.g),pt[st]=Wt.value,$e=0):(ce($e,$e.u+Wt.g-256),e(256<=Wt.value),$e=Wt.value),$e==0&&(Qe=!0)}else $e=Gn(Ve.G[0],Ve.H[0],ae);if(ae.h)break;if(Qe||256>$e){if(!Qe)if(Ve.nd)v[Te]=(Ve.qb|$e<<8)>>>0;else{if(ve(ae),Qe=Gn(Ve.G[1],Ve.H[1],ae),ve(ae),pt=Gn(Ve.G[2],Ve.H[2],ae),st=Gn(Ve.G[3],Ve.H[3],ae),ae.h)break;v[Te]=(st<<24|Qe<<16|$e<<8|pt)>>>0}if(Qe=!1,++Te,++te>=T&&(te=0,++Q,G!=null&&Q<=q&&!(Q%16)&&G(p,Q),Ee!=null))for(;re<Te;)$e=v[re++],Ee.X[(506832829*$e&4294967295)>>>Ee.Mb]=$e}else if(280>$e){if($e=Di($e-256,ae),pt=Gn(Ve.G[4],Ve.H[4],ae),ve(ae),pt=Oi(T,pt=Di(pt,ae)),ae.h)break;if(Te-E<pt||V-Te<$e)break e;for(st=0;st<$e;++st)v[Te+st]=v[Te+st-pt];for(Te+=$e,te+=$e;te>=T;)te-=T,++Q,G!=null&&Q<=q&&!(Q%16)&&G(p,Q);if(e(Te<=V),te&je&&(Ve=Ur(me,te,Q)),Ee!=null)for(;re<Te;)$e=v[re++],Ee.X[(506832829*$e&4294967295)>>>Ee.Mb]=$e}else{if(!($e<Ae))break e;for(Qe=$e-280,e(Ee!=null);re<Te;)$e=v[re++],Ee.X[(506832829*$e&4294967295)>>>Ee.Mb]=$e;$e=Te,e(!(Qe>>>(pt=Ee).Xa)),v[$e]=pt.X[Qe],Qe=!0}Qe||e(ae.h==oe(ae))}if(p.Pb&&ae.h&&Te<V)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&et(p.s.vb,p.s.Wa);else{if(ae.h)break e;G?.(p,Q>q?q:Q),p.a=0,p.$=Te-E}return 1}return p.a=3,0}function da(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function Ls(){var p=new Lt;return p==null?null:(p.a=0,p.xb=bf,Dn("Predictor","VP8LPredictors"),Dn("Predictor","VP8LPredictors_C"),Dn("PredictorAdd","VP8LPredictorsAdd"),Dn("PredictorAdd","VP8LPredictorsAdd_C"),Dr=Xt,ou=Gt,lu=dr,uo=Jt,co=Tt,qs=Mt,vl=Qt,k.VP8LMapColor32b=Vs,k.VP8LMapColor8b=Ei,p)}function Ra(p,v,E,T,V){var q=1,G=[p],Q=[v],te=T.m,ae=T.s,me=null,Te=0;e:for(;;){if(E)for(;q&&W(te,1);){var re=G,be=Q,Ae=T,Me=1,Ee=Ae.m,je=Ae.gc[Ae.ab],Ve=W(Ee,2);if(Ae.Oc&1<<Ve)q=0;else{switch(Ae.Oc|=1<<Ve,je.hc=Ve,je.Ea=re[0],je.nc=be[0],je.K=[null],++Ae.ab,e(4>=Ae.ab),Ve){case 0:case 1:je.b=W(Ee,3)+2,Me=Ra(ze(je.Ea,je.b),ze(je.nc,je.b),0,Ae,je.K),je.K=je.K[0];break;case 3:var Qe,$e=W(Ee,8)+1,pt=16<$e?0:4<$e?1:2<$e?2:3;if(re[0]=ze(je.Ea,pt),je.b=pt,Qe=Me=Ra($e,1,0,Ae,je.K)){var st,Wt=$e,ht=je,pn=1<<(8>>ht.b),cr=o(pn);if(cr==null)Qe=0;else{var tn=ht.K[0],ot=ht.w;for(cr[0]=ht.K[0][0],st=1;st<1*Wt;++st)cr[st]=at(tn[ot+st],cr[st-1]);for(;st<4*pn;++st)cr[st]=0;ht.K[0]=null,ht.K[0]=cr,Qe=1}}Me=Qe;break;case 2:break;default:e(0)}q=Me}}if(G=G[0],Q=Q[0],q&&W(te,1)&&!(q=1<=(Te=W(te,4))&&11>=Te)){T.a=3;break e}var Ze;if(Ze=q)t:{var yr,Ut,sn,zn=T,ei=G,Ii=Q,ir=Te,Vr=E,qi=zn.m,zr=zn.s,hn=[null],Rn=1,vr=0,Pn=es[ir];n:for(;;){if(Vr&&W(qi,1)){var ti=W(qi,3)+2,br=ze(ei,ti),In=ze(Ii,ti),jr=br*In;if(!Ra(br,In,0,zn,hn))break n;for(hn=hn[0],zr.xc=ti,yr=0;yr<jr;++yr){var qn=hn[yr]>>8&65535;hn[yr]=qn,qn>=Rn&&(Rn=qn+1)}}if(qi.h)break n;for(Ut=0;5>Ut;++Ut){var qr=xl[Ut];!Ut&&0<ir&&(qr+=1<<ir),vr<qr&&(vr=qr)}var Hr=u(Rn*Pn,F),Qn=Rn,Cn=u(Qn,Ne);if(Cn==null)var Hi=null;else e(65536>=Qn),Hi=Cn;var Nr=o(vr);if(Hi==null||Nr==null||Hr==null){zn.a=1;break n}var It=Hr;for(yr=sn=0;yr<Rn;++yr){var kt=Hi[yr],Ln=kt.G,ba=kt.H,is=0,aa=1,Gr=0;for(Ut=0;5>Ut;++Ut){qr=xl[Ut],Ln[Ut]=It,ba[Ut]=sn,!Ut&&0<ir&&(qr+=1<<ir);i:{var $o,Yo=qr,ih=zn,ar=Nr,wf=It,xf=sn,ah=0,mo=ih.m,kg=W(mo,1);if(a(ar,0,0,Yo),kg){var Sf=W(mo,1)+1,Af=W(mo,1),sh=W(mo,Af==0?1:8);ar[sh]=1,Sf==2&&(ar[sh=W(mo,8)]=1);var fi=1}else{var Tr=o(19),yc=W(mo,4)+4;if(19<yc){ih.a=3;var Ko=0;break i}for($o=0;$o<yc;++$o)Tr[pc[$o]]=W(mo,3);var mu=void 0,El=void 0,Ws=ih,oh=Tr,gu=Yo,lh=ar,uh=0,go=Ws.m,Ef=8,Nf=u(128,F);r:for(;M(Nf,0,7,oh,19);){if(W(go,1)){var ip=2+2*W(go,3);if((mu=2+W(go,ip))>gu)break r}else mu=gu;for(El=0;El<gu&&mu--;){ve(go);var Tf=Nf[0+(127&ee(go))];ce(go,go.u+Tf.g);var Qo=Tf.value;if(16>Qo)lh[El++]=Qo,Qo!=0&&(Ef=Qo);else{var ap=Qo==16,sp=Qo-16,op=hu[sp],Cf=W(go,Ja[sp])+op;if(El+Cf>gu)break r;for(var lp=ap?Ef:0;0<Cf--;)lh[El++]=lp}}uh=1;break r}uh||(Ws.a=3),fi=uh}(fi=fi&&!mo.h)&&(ah=M(wf,xf,8,ar,Yo)),fi&&ah!=0?Ko=ah:(ih.a=3,Ko=0)}if(Ko==0)break n;if(aa&&Jc[Ut]==1&&(aa=It[sn].g==0),is+=It[sn].g,sn+=Ko,3>=Ut){var Nl,ch=Nr[0];for(Nl=1;Nl<qr;++Nl)Nr[Nl]>ch&&(ch=Nr[Nl]);Gr+=ch}}if(kt.nd=aa,kt.Qb=0,aa&&(kt.qb=(Ln[3][ba[3]+0].value<<24|Ln[1][ba[1]+0].value<<16|Ln[2][ba[2]+0].value)>>>0,is==0&&256>Ln[0][ba[0]+0].value&&(kt.Qb=1,kt.qb+=Ln[0][ba[0]+0].value<<8)),kt.jc=!kt.Qb&&6>Gr,kt.jc){var vc,$s=kt;for(vc=0;vc<Fo;++vc){var yo=vc,vo=$s.pd[yo],hh=$s.G[0][$s.H[0]+yo];256<=hh.value?(vo.g=hh.g+256,vo.value=hh.value):(vo.g=0,vo.value=0,yo>>=er(hh,8,vo),yo>>=er($s.G[1][$s.H[1]+yo],16,vo),yo>>=er($s.G[2][$s.H[2]+yo],0,vo),er($s.G[3][$s.H[3]+yo],24,vo))}}}zr.vc=hn,zr.Wb=Rn,zr.Ya=Hi,zr.yc=Hr,Ze=1;break t}Ze=0}if(!(q=Ze)){T.a=3;break e}if(0<Te){if(ae.ua=1<<Te,!ne(ae.Wa,Te)){T.a=1,q=0;break e}}else ae.ua=0;var fh=T,Tl=G,up=Q,yu=fh.s,vu=yu.xc;if(fh.c=Tl,fh.i=up,yu.md=ze(Tl,vu),yu.wc=vu==0?-1:(1<<vu)-1,E){T.xb=zo;break e}if((me=o(G*Q))==null){T.a=1,q=0;break e}q=(q=Pi(T,me,0,G,Q,Q,null))&&!te.h;break e}return q?(V!=null?V[0]=me:(e(me==null),e(E)),T.$=0,E||da(ae)):da(ae),q}function ji(p,v){var E=p.c*p.i,T=E+v+16*v;return e(p.c<=v),p.V=o(T),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+E+v,1)}function ps(p,v){var E=p.C,T=v-E,V=p.V,q=p.Ba+p.c*E;for(e(v<=p.l.o);0<T;){var G=16<T?16:T,Q=p.l.ma,te=p.l.width,ae=te*G,me=Q.ca,Te=Q.tb+te*E,re=p.Ta,be=p.Ua;_i(p,G,V,q),Ma(re,be,me,Te,ae),Yn(Q,E,E+G,me,Te,te),T-=G,V+=G*p.c,E+=G}e(E==v),p.C=p.Ma=v}function Ki(){this.ub=this.yd=this.td=this.Rb=0}function wi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Qi(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function pa(){this.Yb=(function(){var p=[];return(function v(E,T,V){for(var q=V[T],G=0;G<q&&(E.push(V.length>T+1?[]:0),!(V.length<T+1));G++)v(E[G],T+1,V)})(p,0,[3,11]),p})()}function gr(){this.jb=o(3),this.Wc=c([4,8],pa),this.Xc=c([4,17],pa)}function Lo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Mi(){this.ld=this.La=this.dd=this.tc=0}function ma(){this.Na=this.la=0}function Ia(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zs(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ko(){this.uc=this.M=this.Nb=0,this.wa=Array(new Mi),this.Y=0,this.ya=Array(new Zs),this.aa=0,this.l=new ui}function Do(){this.y=o(16),this.f=o(8),this.ea=o(8)}function hl(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new Ki,this.Kc=new wi,this.ed=new Lo,this.Qa=new Qi,this.Ic=this.$c=this.Aa=0,this.D=new ko,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,D),this.ia=0,this.pb=u(4,Ia),this.Pa=new gr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Do),this.Hd=0,this.rb=Array(new ma),this.sb=0,this.wa=Array(new Mi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zs),this.L=this.aa=0,this.gd=c([4,2],Mi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xi(p,v){return 0>p?0:p>v?v:p}function ui(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Sr(){var p=new hl;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Ua||(Ua=_n)),p}function fn(p,v,E){return p.a==0&&(p.a=v,p.sc=E,p.cb=0),0}function ms(p,v,E){return 3<=E&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function ga(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return fn(p,2,"null VP8Io passed to VP8GetHeaders()");var E=v.data,T=v.w,V=v.ha;if(4>V)return fn(p,7,"Truncated header.");var q=E[T+0]|E[T+1]<<8|E[T+2]<<16,G=p.Od;if(G.Rb=!(1&q),G.td=q>>1&7,G.yd=q>>4&1,G.ub=q>>5,3<G.td)return fn(p,3,"Incorrect keyframe parameters.");if(!G.yd)return fn(p,4,"Frame not displayable.");T+=3,V-=3;var Q=p.Kc;if(G.Rb){if(7>V)return fn(p,7,"cannot parse picture header");if(!ms(E,T,V))return fn(p,3,"Bad code word");Q.c=16383&(E[T+4]<<8|E[T+3]),Q.Td=E[T+4]>>6,Q.i=16383&(E[T+6]<<8|E[T+5]),Q.Ud=E[T+6]>>6,T+=7,V-=7,p.za=Q.c+15>>4,p.Ub=Q.i+15>>4,v.width=Q.c,v.height=Q.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((q=p.Pa).jb,0,255,q.jb.length),e((q=p.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,a(q.Zb,0,0,q.Zb.length),a(q.Lb,0,0,q.Lb)}if(G.ub>V)return fn(p,7,"bad partition length");le(q=p.m,E,T,G.ub),T+=G.ub,V-=G.ub,G.Rb&&(Q.Ld=Le(q),Q.Kd=Le(q)),Q=p.Qa;var te,ae=p.Pa;if(e(q!=null),e(Q!=null),Q.Cb=Le(q),Q.Cb){if(Q.Bb=Le(q),Le(q)){for(Q.Fb=Le(q),te=0;4>te;++te)Q.Zb[te]=Le(q)?pe(q,7):0;for(te=0;4>te;++te)Q.Lb[te]=Le(q)?pe(q,6):0}if(Q.Bb)for(te=0;3>te;++te)ae.jb[te]=Le(q)?ge(q,8):255}else Q.Bb=0;if(q.Ka)return fn(p,3,"cannot parse segment header");if((Q=p.ed).zd=Le(q),Q.Tb=ge(q,6),Q.wb=ge(q,3),Q.Pc=Le(q),Q.Pc&&Le(q)){for(ae=0;4>ae;++ae)Le(q)&&(Q.vd[ae]=pe(q,6));for(ae=0;4>ae;++ae)Le(q)&&(Q.od[ae]=pe(q,6))}if(p.L=Q.Tb==0?0:Q.zd?1:2,q.Ka)return fn(p,3,"cannot parse filter header");var me=V;if(V=te=T,T=te+me,Q=me,p.Xb=(1<<ge(p.m,2))-1,me<3*(ae=p.Xb))E=7;else{for(te+=3*ae,Q-=3*ae,me=0;me<ae;++me){var Te=E[V+0]|E[V+1]<<8|E[V+2]<<16;Te>Q&&(Te=Q),le(p.Jc[+me],E,te,Te),te+=Te,Q-=Te,V+=3}le(p.Jc[+ae],E,te,Q),E=te<T?0:5}if(E!=0)return fn(p,E,"cannot parse partitions");for(E=ge(te=p.m,7),V=Le(te)?pe(te,4):0,T=Le(te)?pe(te,4):0,Q=Le(te)?pe(te,4):0,ae=Le(te)?pe(te,4):0,te=Le(te)?pe(te,4):0,me=p.Qa,Te=0;4>Te;++Te){if(me.Cb){var re=me.Zb[Te];me.Fb||(re+=E)}else{if(0<Te){p.pb[Te]=p.pb[0];continue}re=E}var be=p.pb[Te];be.Sc[0]=ts[Xi(re+V,127)],be.Sc[1]=ns[Xi(re+0,127)],be.Eb[0]=2*ts[Xi(re+T,127)],be.Eb[1]=101581*ns[Xi(re+Q,127)]>>16,8>be.Eb[1]&&(be.Eb[1]=8),be.Qc[0]=ts[Xi(re+ae,117)],be.Qc[1]=ns[Xi(re+te,127)],be.lc=re+te}if(!G.Rb)return fn(p,4,"Not a key frame.");for(Le(q),G=p.Pa,E=0;4>E;++E){for(V=0;8>V;++V)for(T=0;3>T;++T)for(Q=0;11>Q;++Q)ae=Be(q,ur[E][V][T][Q])?ge(q,8):np[E][V][T][Q],G.Wc[E][V].Yb[T][Q]=ae;for(V=0;17>V;++V)G.Xc[E][V]=G.Wc[E][yn[V]]}return p.kc=Le(q),p.kc&&(p.Bd=ge(q,8)),p.cb=1}function _n(p,v,E,T,V,q,G){var Q=v[V].Yb[E];for(E=0;16>V;++V){if(!Be(p,Q[E+0]))return V;for(;!Be(p,Q[E+1]);)if(Q=v[++V].Yb[0],E=0,V==16)return 16;var te=v[V+1].Yb;if(Be(p,Q[E+2])){var ae=p,me=0;if(Be(ae,(re=Q)[(Te=E)+3]))if(Be(ae,re[Te+6])){for(Q=0,Te=2*(me=Be(ae,re[Te+8]))+(re=Be(ae,re[Te+9+me])),me=0,re=tp[Te];re[Q];++Q)me+=me+Be(ae,re[Q]);me+=3+(8<<Te)}else Be(ae,re[Te+7])?(me=7+2*Be(ae,165),me+=Be(ae,145)):me=5+Be(ae,159);else me=Be(ae,re[Te+4])?3+Be(ae,re[Te+5]):2;Q=te[2]}else me=1,Q=te[1];te=G+vf[V],0>(ae=p).b&&De(ae);var Te,re=ae.b,be=(Te=ae.Ca>>1)-(ae.I>>re)>>31;--ae.b,ae.Ca+=be,ae.Ca|=1,ae.I-=(Te+1&be)<<re,q[te]=((me^be)-be)*T[(0<V)+0]}return 16}function ks(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function Lr(p,v,E,T,V){V=p[v+E+32*T]+(V>>3),p[v+E+32*T]=-256&V?0>V?0:255:V}function lr(p,v,E,T,V,q){Lr(p,v,0,E,T+V),Lr(p,v,1,E,T+q),Lr(p,v,2,E,T-q),Lr(p,v,3,E,T-V)}function Ar(p){return(20091*p>>16)+p}function eo(p,v,E,T){var V,q=0,G=o(16);for(V=0;4>V;++V){var Q=p[v+0]+p[v+8],te=p[v+0]-p[v+8],ae=(35468*p[v+4]>>16)-Ar(p[v+12]),me=Ar(p[v+4])+(35468*p[v+12]>>16);G[q+0]=Q+me,G[q+1]=te+ae,G[q+2]=te-ae,G[q+3]=Q-me,q+=4,v++}for(V=q=0;4>V;++V)Q=(p=G[q+0]+4)+G[q+8],te=p-G[q+8],ae=(35468*G[q+4]>>16)-Ar(G[q+12]),Lr(E,T,0,0,Q+(me=Ar(G[q+4])+(35468*G[q+12]>>16))),Lr(E,T,1,0,te+ae),Lr(E,T,2,0,te-ae),Lr(E,T,3,0,Q-me),q++,T+=32}function ru(p,v,E,T){var V=p[v+0]+4,q=35468*p[v+4]>>16,G=Ar(p[v+4]),Q=35468*p[v+1]>>16;lr(E,T,0,V+G,p=Ar(p[v+1]),Q),lr(E,T,1,V+q,p,Q),lr(E,T,2,V-q,p,Q),lr(E,T,3,V-G,p,Q)}function fl(p,v,E,T,V){eo(p,v,E,T),V&&eo(p,v+16,E,T+4)}function xi(p,v,E,T){ho(p,v+0,E,T,1),ho(p,v+32,E,T+128,1)}function dl(p,v,E,T){var V;for(p=p[v+0]+4,V=0;4>V;++V)for(v=0;4>v;++v)Lr(E,T,v,V,p)}function gs(p,v,E,T){p[v+0]&&On(p,v+0,E,T),p[v+16]&&On(p,v+16,E,T+4),p[v+32]&&On(p,v+32,E,T+128),p[v+48]&&On(p,v+48,E,T+128+4)}function Jr(p,v,E,T){var V,q=o(16);for(V=0;4>V;++V){var G=p[v+0+V]+p[v+12+V],Q=p[v+4+V]+p[v+8+V],te=p[v+4+V]-p[v+8+V],ae=p[v+0+V]-p[v+12+V];q[0+V]=G+Q,q[8+V]=G-Q,q[4+V]=ae+te,q[12+V]=ae-te}for(V=0;4>V;++V)G=(p=q[0+4*V]+3)+q[3+4*V],Q=q[1+4*V]+q[2+4*V],te=q[1+4*V]-q[2+4*V],ae=p-q[3+4*V],E[T+0]=G+Q>>3,E[T+16]=ae+te>>3,E[T+32]=G-Q>>3,E[T+48]=ae-te>>3,T+=64}function Ds(p,v,E){var T,V=v-32,q=Vi,G=255-p[V-1];for(T=0;T<E;++T){var Q,te=q,ae=G+p[v-1];for(Q=0;Q<E;++Q)p[v+Q]=te[ae+p[V+Q]];v+=32}}function pl(p,v){Ds(p,v,4)}function ml(p,v){Ds(p,v,8)}function Oo(p,v){Ds(p,v,16)}function Po(p,v){var E;for(E=0;16>E;++E)r(p,v+32*E,p,v-32,16)}function ys(p,v){var E;for(E=16;0<E;--E)a(p,v,p[v-1],16),v+=32}function Ui(p,v,E){var T;for(T=0;16>T;++T)a(v,E+32*T,p,16)}function La(p,v){var E,T=16;for(E=0;16>E;++E)T+=p[v-1+32*E]+p[v+E-32];Ui(T>>5,p,v)}function vs(p,v){var E,T=8;for(E=0;16>E;++E)T+=p[v-1+32*E];Ui(T>>4,p,v)}function Fi(p,v){var E,T=8;for(E=0;16>E;++E)T+=p[v+E-32];Ui(T>>4,p,v)}function Os(p,v){Ui(128,p,v)}function Rt(p,v,E){return p+2*v+E+2>>2}function to(p,v){var E,T=v-32;for(T=new Uint8Array([Rt(p[T-1],p[T+0],p[T+1]),Rt(p[T+0],p[T+1],p[T+2]),Rt(p[T+1],p[T+2],p[T+3]),Rt(p[T+2],p[T+3],p[T+4])]),E=0;4>E;++E)r(p,v+32*E,T,0,T.length)}function jo(p,v){var E=p[v-1],T=p[v-1+32],V=p[v-1+64],q=p[v-1+96];Xe(p,v+0,16843009*Rt(p[v-1-32],E,T)),Xe(p,v+32,16843009*Rt(E,T,V)),Xe(p,v+64,16843009*Rt(T,V,q)),Xe(p,v+96,16843009*Rt(V,q,q))}function Ps(p,v){var E,T=4;for(E=0;4>E;++E)T+=p[v+E-32]+p[v-1+32*E];for(T>>=3,E=0;4>E;++E)a(p,v+32*E,T,4)}function Zr(p,v){var E=p[v-1+0],T=p[v-1+32],V=p[v-1+64],q=p[v-1-32],G=p[v+0-32],Q=p[v+1-32],te=p[v+2-32],ae=p[v+3-32];p[v+0+96]=Rt(T,V,p[v-1+96]),p[v+1+96]=p[v+0+64]=Rt(E,T,V),p[v+2+96]=p[v+1+64]=p[v+0+32]=Rt(q,E,T),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=Rt(G,q,E),p[v+3+64]=p[v+2+32]=p[v+1+0]=Rt(Q,G,q),p[v+3+32]=p[v+2+0]=Rt(te,Q,G),p[v+3+0]=Rt(ae,te,Q)}function Br(p,v){var E=p[v+1-32],T=p[v+2-32],V=p[v+3-32],q=p[v+4-32],G=p[v+5-32],Q=p[v+6-32],te=p[v+7-32];p[v+0+0]=Rt(p[v+0-32],E,T),p[v+1+0]=p[v+0+32]=Rt(E,T,V),p[v+2+0]=p[v+1+32]=p[v+0+64]=Rt(T,V,q),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=Rt(V,q,G),p[v+3+32]=p[v+2+64]=p[v+1+96]=Rt(q,G,Q),p[v+3+64]=p[v+2+96]=Rt(G,Q,te),p[v+3+96]=Rt(Q,te,te)}function no(p,v){var E=p[v-1+0],T=p[v-1+32],V=p[v-1+64],q=p[v-1-32],G=p[v+0-32],Q=p[v+1-32],te=p[v+2-32],ae=p[v+3-32];p[v+0+0]=p[v+1+64]=q+G+1>>1,p[v+1+0]=p[v+2+64]=G+Q+1>>1,p[v+2+0]=p[v+3+64]=Q+te+1>>1,p[v+3+0]=te+ae+1>>1,p[v+0+96]=Rt(V,T,E),p[v+0+64]=Rt(T,E,q),p[v+0+32]=p[v+1+96]=Rt(E,q,G),p[v+1+32]=p[v+2+96]=Rt(q,G,Q),p[v+2+32]=p[v+3+96]=Rt(G,Q,te),p[v+3+32]=Rt(Q,te,ae)}function Un(p,v){var E=p[v+0-32],T=p[v+1-32],V=p[v+2-32],q=p[v+3-32],G=p[v+4-32],Q=p[v+5-32],te=p[v+6-32],ae=p[v+7-32];p[v+0+0]=E+T+1>>1,p[v+1+0]=p[v+0+64]=T+V+1>>1,p[v+2+0]=p[v+1+64]=V+q+1>>1,p[v+3+0]=p[v+2+64]=q+G+1>>1,p[v+0+32]=Rt(E,T,V),p[v+1+32]=p[v+0+96]=Rt(T,V,q),p[v+2+32]=p[v+1+96]=Rt(V,q,G),p[v+3+32]=p[v+2+96]=Rt(q,G,Q),p[v+3+64]=Rt(G,Q,te),p[v+3+96]=Rt(Q,te,ae)}function Ji(p,v){var E=p[v-1+0],T=p[v-1+32],V=p[v-1+64],q=p[v-1+96];p[v+0+0]=E+T+1>>1,p[v+2+0]=p[v+0+32]=T+V+1>>1,p[v+2+32]=p[v+0+64]=V+q+1>>1,p[v+1+0]=Rt(E,T,V),p[v+3+0]=p[v+1+32]=Rt(T,V,q),p[v+3+32]=p[v+1+64]=Rt(V,q,q),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=q}function ro(p,v){var E=p[v-1+0],T=p[v-1+32],V=p[v-1+64],q=p[v-1+96],G=p[v-1-32],Q=p[v+0-32],te=p[v+1-32],ae=p[v+2-32];p[v+0+0]=p[v+2+32]=E+G+1>>1,p[v+0+32]=p[v+2+64]=T+E+1>>1,p[v+0+64]=p[v+2+96]=V+T+1>>1,p[v+0+96]=q+V+1>>1,p[v+3+0]=Rt(Q,te,ae),p[v+2+0]=Rt(G,Q,te),p[v+1+0]=p[v+3+32]=Rt(E,G,Q),p[v+1+32]=p[v+3+64]=Rt(T,E,G),p[v+1+64]=p[v+3+96]=Rt(V,T,E),p[v+1+96]=Rt(q,V,T)}function ka(p,v){var E;for(E=0;8>E;++E)r(p,v+32*E,p,v-32,8)}function gl(p,v){var E;for(E=0;8>E;++E)a(p,v,p[v-1],8),v+=32}function Zi(p,v,E){var T;for(T=0;8>T;++T)a(v,E+32*T,p,8)}function bs(p,v){var E,T=8;for(E=0;8>E;++E)T+=p[v+E-32]+p[v-1+32*E];Zi(T>>4,p,v)}function ea(p,v){var E,T=4;for(E=0;8>E;++E)T+=p[v+E-32];Zi(T>>3,p,v)}function kr(p,v){var E,T=4;for(E=0;8>E;++E)T+=p[v-1+32*E];Zi(T>>3,p,v)}function Ha(p,v){Zi(128,p,v)}function ci(p,v,E){var T=p[v-E],V=p[v+0],q=3*(V-T)+fo[1020+p[v-2*E]-p[v+E]],G=hc[112+(q+4>>3)];p[v-E]=Vi[255+T+hc[112+(q+3>>3)]],p[v+0]=Vi[255+V-G]}function Ga(p,v,E,T){var V=p[v+0],q=p[v+E];return Ni[255+p[v-2*E]-p[v-E]]>T||Ni[255+q-V]>T}function js(p,v,E,T){return 4*Ni[255+p[v-E]-p[v+0]]+Ni[255+p[v-2*E]-p[v+E]]<=T}function Wa(p,v,E,T,V){var q=p[v-3*E],G=p[v-2*E],Q=p[v-E],te=p[v+0],ae=p[v+E],me=p[v+2*E],Te=p[v+3*E];return 4*Ni[255+Q-te]+Ni[255+G-ae]>T?0:Ni[255+p[v-4*E]-q]<=V&&Ni[255+q-G]<=V&&Ni[255+G-Q]<=V&&Ni[255+Te-me]<=V&&Ni[255+me-ae]<=V&&Ni[255+ae-te]<=V}function $a(p,v,E,T){var V=2*T+1;for(T=0;16>T;++T)js(p,v+T,E,V)&&ci(p,v+T,E)}function ya(p,v,E,T){var V=2*T+1;for(T=0;16>T;++T)js(p,v+T*E,1,V)&&ci(p,v+T*E,1)}function io(p,v,E,T){var V;for(V=3;0<V;--V)$a(p,v+=4*E,E,T)}function Mo(p,v,E,T){var V;for(V=3;0<V;--V)ya(p,v+=4,E,T)}function ta(p,v,E,T,V,q,G,Q){for(q=2*q+1;0<V--;){if(Wa(p,v,E,q,G))if(Ga(p,v,E,Q))ci(p,v,E);else{var te=p,ae=v,me=E,Te=te[ae-2*me],re=te[ae-me],be=te[ae+0],Ae=te[ae+me],Me=te[ae+2*me],Ee=27*(Ve=fo[1020+3*(be-re)+fo[1020+Te-Ae]])+63>>7,je=18*Ve+63>>7,Ve=9*Ve+63>>7;te[ae-3*me]=Vi[255+te[ae-3*me]+Ve],te[ae-2*me]=Vi[255+Te+je],te[ae-me]=Vi[255+re+Ee],te[ae+0]=Vi[255+be-Ee],te[ae+me]=Vi[255+Ae-je],te[ae+2*me]=Vi[255+Me-Ve]}v+=T}}function Ya(p,v,E,T,V,q,G,Q){for(q=2*q+1;0<V--;){if(Wa(p,v,E,q,G))if(Ga(p,v,E,Q))ci(p,v,E);else{var te=p,ae=v,me=E,Te=te[ae-me],re=te[ae+0],be=te[ae+me],Ae=hc[112+(4+(Me=3*(re-Te))>>3)],Me=hc[112+(Me+3>>3)],Ee=Ae+1>>1;te[ae-2*me]=Vi[255+te[ae-2*me]+Ee],te[ae-me]=Vi[255+Te+Me],te[ae+0]=Vi[255+re-Ae],te[ae+me]=Vi[255+be-Ee]}v+=T}}function yl(p,v,E,T,V,q){ta(p,v,E,1,16,T,V,q)}function Da(p,v,E,T,V,q){ta(p,v,1,E,16,T,V,q)}function Uo(p,v,E,T,V,q){var G;for(G=3;0<G;--G)Ya(p,v+=4*E,E,1,16,T,V,q)}function S(p,v,E,T,V,q){var G;for(G=3;0<G;--G)Ya(p,v+=4,1,E,16,T,V,q)}function B(p,v,E,T,V,q,G,Q){ta(p,v,V,1,8,q,G,Q),ta(E,T,V,1,8,q,G,Q)}function ie(p,v,E,T,V,q,G,Q){ta(p,v,1,V,8,q,G,Q),ta(E,T,1,V,8,q,G,Q)}function de(p,v,E,T,V,q,G,Q){Ya(p,v+4*V,V,1,8,q,G,Q),Ya(E,T+4*V,V,1,8,q,G,Q)}function we(p,v,E,T,V,q,G,Q){Ya(p,v+4,1,V,8,q,G,Q),Ya(E,T+4,1,V,8,q,G,Q)}function Ue(){this.ba=new wt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ye(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function dt(){this.ua=0,this.Wa=new Yt,this.vb=new Yt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ne,this.yc=new F}function Lt(){this.xb=this.a=0,this.l=new ui,this.ca=new wt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new dt,this.ab=0,this.gc=u(4,lt),this.Oc=0}function At(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ui,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function dn(p,v,E,T,V,q,G){for(p=p==null?0:p[v+0],v=0;v<G;++v)V[q+v]=p+E[T+v]&255,p=V[q+v]}function tr(p,v,E,T,V,q,G){var Q;if(p==null)dn(null,null,E,T,V,q,G);else for(Q=0;Q<G;++Q)V[q+Q]=p[v+Q]+E[T+Q]&255}function Wn(p,v,E,T,V,q,G){if(p==null)dn(null,null,E,T,V,q,G);else{var Q,te=p[v+0],ae=te,me=te;for(Q=0;Q<G;++Q)ae=me+(te=p[v+Q])-ae,me=E[T+Q]+(-256&ae?0>ae?0:255:ae)&255,ae=te,V[q+Q]=me}}function m(p,v,E,T){var V=v.width,q=v.o;if(e(p!=null&&v!=null),0>E||0>=T||E+T>q)return null;if(!p.Cc){if(p.ga==null){var G;if(p.ga=new At,(G=p.ga==null)||(G=v.width*v.o,e(p.Gb.length==0),p.Gb=o(G),p.Uc=0,p.Gb==null?G=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,G=1),G=!G),!G){G=p.ga;var Q=p.Fa,te=p.P,ae=p.qc,me=p.mb,Te=p.nb,re=te+1,be=ae-1,Ae=G.l;if(e(Q!=null&&me!=null&&v!=null),po[0]=null,po[1]=dn,po[2]=tr,po[3]=Wn,G.ca=me,G.tb=Te,G.c=v.width,G.i=v.height,e(0<G.c&&0<G.i),1>=ae)v=0;else if(G.$a=3&Q[te+0],G.Z=Q[te+0]>>2&3,G.Lc=Q[te+0]>>4&3,te=Q[te+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||te)v=0;else if(Ae.put=St,Ae.ac=Xr,Ae.bc=ds,Ae.ma=G,Ae.width=v.width,Ae.height=v.height,Ae.Da=v.Da,Ae.v=v.v,Ae.va=v.va,Ae.j=v.j,Ae.o=v.o,G.$a)e:{e(G.$a==1),v=Ls();t:for(;;){if(v==null){v=0;break e}if(e(G!=null),G.mc=v,v.c=G.c,v.i=G.i,v.l=G.l,v.l.ma=G,v.l.width=G.c,v.l.height=G.i,v.a=0,Ce(v.m,Q,re,be),!Ra(G.c,G.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Mn(v.s)?(G.ic=1,Q=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(Q),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(G.ic=0,v=ji(v,G.c)),!v))break t;v=1;break e}G.mc=null,v=0}else v=be>=G.c*G.i;G=!v}if(G)return null;p.ga.Lc!=1?p.Ga=0:T=q-E}e(p.ga!=null),e(E+T<=q);e:{if(v=(Q=p.ga).c,q=Q.l.o,Q.$a==0){if(re=p.rc,be=p.Vc,Ae=p.Fa,te=p.P+1+E*v,ae=p.mb,me=p.nb+E*v,e(te<=p.P+p.qc),Q.Z!=0)for(e(po[Q.Z]!=null),G=0;G<T;++G)po[Q.Z](re,be,Ae,te,ae,me,v),re=ae,be=me,me+=v,te+=v;else for(G=0;G<T;++G)r(ae,me,Ae,te,v),re=ae,be=me,me+=v,te+=v;p.rc=re,p.Vc=be}else{if(e(Q.mc!=null),v=E+T,e((G=Q.mc)!=null),e(v<=G.i),G.C>=v)v=1;else if(Q.ic||ke(),Q.ic){Q=G.V,re=G.Ba,be=G.c;var Me=G.i,Ee=(Ae=1,te=G.$/be,ae=G.$%be,me=G.m,Te=G.s,G.$),je=be*Me,Ve=be*v,Qe=Te.wc,$e=Ee<Ve?Ur(Te,ae,te):null;e(Ee<=je),e(v<=Me),e(Mn(Te));t:for(;;){for(;!me.h&&Ee<Ve;){if(ae&Qe||($e=Ur(Te,ae,te)),e($e!=null),ve(me),256>(Me=Gn($e.G[0],$e.H[0],me)))Q[re+Ee]=Me,++Ee,++ae>=be&&(ae=0,++te<=v&&!(te%16)&&Fr(G,te));else{if(!(280>Me)){Ae=0;break t}Me=Di(Me-256,me);var pt,st=Gn($e.G[4],$e.H[4],me);if(ve(me),!(Ee>=(st=Oi(be,st=Di(st,me)))&&je-Ee>=Me)){Ae=0;break t}for(pt=0;pt<Me;++pt)Q[re+Ee+pt]=Q[re+Ee+pt-st];for(Ee+=Me,ae+=Me;ae>=be;)ae-=be,++te<=v&&!(te%16)&&Fr(G,te);Ee<Ve&&ae&Qe&&($e=Ur(Te,ae,te))}e(me.h==oe(me))}Fr(G,te>v?v:te);break t}!Ae||me.h&&Ee<je?(Ae=0,G.a=me.h?5:3):G.$=Ee,v=Ae}else v=Pi(G,G.V,G.Ba,G.c,G.i,v,ps);if(!v){T=0;break e}}E+T>=q&&(p.Cc=1),T=1}if(!T)return null;if(p.Cc&&((T=p.ga)!=null&&(T.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+E*V}function N(p,v,E,T,V,q){for(;0<V--;){var G,Q=p,te=v+(E?1:0),ae=p,me=v+(E?0:3);for(G=0;G<T;++G){var Te=ae[me+4*G];Te!=255&&(Te*=32897,Q[te+4*G+0]=Q[te+4*G+0]*Te>>23,Q[te+4*G+1]=Q[te+4*G+1]*Te>>23,Q[te+4*G+2]=Q[te+4*G+2]*Te>>23)}v+=q}}function O(p,v,E,T,V){for(;0<T--;){var q;for(q=0;q<E;++q){var G=p[v+2*q+0],Q=15&(ae=p[v+2*q+1]),te=4369*Q,ae=(240&ae|ae>>4)*te>>16;p[v+2*q+0]=(240&G|G>>4)*te>>16&240|(15&G|G<<4)*te>>16>>4&15,p[v+2*q+1]=240&ae|Q}v+=V}}function J(p,v,E,T,V,q,G,Q){var te,ae,me=255;for(ae=0;ae<V;++ae){for(te=0;te<T;++te){var Te=p[v+te];q[G+4*te]=Te,me&=Te}v+=E,G+=Q}return me!=255}function Se(p,v,E,T,V){var q;for(q=0;q<V;++q)E[T+q]=p[v+q]>>8}function ke(){_l=N,Qa=O,lc=J,Ma=Se}function Je(p,v,E){k[p]=function(T,V,q,G,Q,te,ae,me,Te,re,be,Ae,Me,Ee,je,Ve,Qe){var $e,pt=Qe-1>>1,st=Q[te+0]|ae[me+0]<<16,Wt=Te[re+0]|be[Ae+0]<<16;e(T!=null);var ht=3*st+Wt+131074>>2;for(v(T[V+0],255&ht,ht>>16,Me,Ee),q!=null&&(ht=3*Wt+st+131074>>2,v(q[G+0],255&ht,ht>>16,je,Ve)),$e=1;$e<=pt;++$e){var pn=Q[te+$e]|ae[me+$e]<<16,cr=Te[re+$e]|be[Ae+$e]<<16,tn=st+pn+Wt+cr+524296,ot=tn+2*(pn+Wt)>>3;ht=ot+st>>1,st=(tn=tn+2*(st+cr)>>3)+pn>>1,v(T[V+2*$e-1],255&ht,ht>>16,Me,Ee+(2*$e-1)*E),v(T[V+2*$e-0],255&st,st>>16,Me,Ee+(2*$e-0)*E),q!=null&&(ht=tn+Wt>>1,st=ot+cr>>1,v(q[G+2*$e-1],255&ht,ht>>16,je,Ve+(2*$e-1)*E),v(q[G+2*$e+0],255&st,st>>16,je,Ve+(2*$e+0)*E)),st=pn,Wt=cr}1&Qe||(ht=3*st+Wt+131074>>2,v(T[V+Qe-1],255&ht,ht>>16,Me,Ee+(Qe-1)*E),q!=null&&(ht=3*Wt+st+131074>>2,v(q[G+Qe-1],255&ht,ht>>16,je,Ve+(Qe-1)*E)))}}function Ht(){Ci[Yc]=Sl,Ci[zi]=fu,Ci[Kc]=_f,Ci[Xa]=eh,Ci[fc]=qo,Ci[uu]=Gs,Ci[Bo]=Ho,Ci[dc]=fu,Ci[Qc]=eh,Ci[cu]=qo,Ci[Xc]=Gs}function nr(p){return p&-16384?0>p?0:255:p>>th}function cn(p,v){return nr((19077*p>>8)+(26149*v>>8)-14234)}function Fn(p,v,E){return nr((19077*p>>8)-(6419*v>>8)-(13320*E>>8)+8708)}function hi(p,v){return nr((19077*p>>8)+(33050*v>>8)-17685)}function Si(p,v,E,T,V){T[V+0]=cn(p,E),T[V+1]=Fn(p,v,E),T[V+2]=hi(p,v)}function Kn(p,v,E,T,V){T[V+0]=hi(p,v),T[V+1]=Fn(p,v,E),T[V+2]=cn(p,E)}function Ai(p,v,E,T,V){var q=Fn(p,v,E);v=q<<3&224|hi(p,v)>>3,T[V+0]=248&cn(p,E)|q>>5,T[V+1]=v}function Oa(p,v,E,T,V){var q=240&hi(p,v)|15;T[V+0]=240&cn(p,E)|Fn(p,v,E)>>4,T[V+1]=q}function Ms(p,v,E,T,V){T[V+0]=255,Si(p,v,E,T,V+1)}function Us(p,v,E,T,V){Kn(p,v,E,T,V),T[V+3]=255}function na(p,v,E,T,V){Si(p,v,E,T,V),T[V+3]=255}function ao(p,v,E){k[p]=function(T,V,q,G,Q,te,ae,me,Te){for(var re=me+(-2&Te)*E;me!=re;)v(T[V+0],q[G+0],Q[te+0],ae,me),v(T[V+1],q[G+0],Q[te+0],ae,me+E),V+=2,++G,++te,me+=2*E;1&Te&&v(T[V+0],q[G+0],Q[te+0],ae,me)}}function iu(p,v,E){return E==0?p==0?v==0?6:5:v==0?4:0:E}function ac(p,v,E,T,V){switch(p>>>30){case 3:ho(v,E,T,V,0);break;case 2:Bi(v,E,T,V);break;case 1:On(v,E,T,V)}}function Pa(p,v){var E,T,V=v.M,q=v.Nb,G=p.oc,Q=p.pc+40,te=p.oc,ae=p.pc+584,me=p.oc,Te=p.pc+600;for(E=0;16>E;++E)G[Q+32*E-1]=129;for(E=0;8>E;++E)te[ae+32*E-1]=129,me[Te+32*E-1]=129;for(0<V?G[Q-1-32]=te[ae-1-32]=me[Te-1-32]=129:(a(G,Q-32-1,127,21),a(te,ae-32-1,127,9),a(me,Te-32-1,127,9)),T=0;T<p.za;++T){var re=v.ya[v.aa+T];if(0<T){for(E=-1;16>E;++E)r(G,Q+32*E-4,G,Q+32*E+12,4);for(E=-1;8>E;++E)r(te,ae+32*E-4,te,ae+32*E+4,4),r(me,Te+32*E-4,me,Te+32*E+4,4)}var be=p.Gd,Ae=p.Hd+T,Me=re.ad,Ee=re.Hc;if(0<V&&(r(G,Q-32,be[Ae].y,0,16),r(te,ae-32,be[Ae].f,0,8),r(me,Te-32,be[Ae].ea,0,8)),re.Za){var je=G,Ve=Q-32+16;for(0<V&&(T>=p.za-1?a(je,Ve,be[Ae].y[15],4):r(je,Ve,be[Ae+1].y,0,4)),E=0;4>E;E++)je[Ve+128+E]=je[Ve+256+E]=je[Ve+384+E]=je[Ve+0+E];for(E=0;16>E;++E,Ee<<=2)je=G,Ve=Q+Pr[E],Er[re.Ob[E]](je,Ve),ac(Ee,Me,16*+E,je,Ve)}else if(je=iu(T,V,re.Ob[0]),ia[je](G,Q),Ee!=0)for(E=0;16>E;++E,Ee<<=2)ac(Ee,Me,16*+E,G,Q+Pr[E]);for(E=re.Gc,je=iu(T,V,re.Dd),Ss[je](te,ae),Ss[je](me,Te),Ee=Me,je=te,Ve=ae,255&(re=0|E)&&(170&re?Ka(Ee,256,je,Ve):Tn(Ee,256,je,Ve)),re=me,Ee=Te,255&(E>>=8)&&(170&E?Ka(Me,320,re,Ee):Tn(Me,320,re,Ee)),V<p.Ub-1&&(r(be[Ae].y,0,G,Q+480,16),r(be[Ae].f,0,te,ae+224,8),r(be[Ae].ea,0,me,Te+224,8)),E=8*q*p.B,be=p.sa,Ae=p.ta+16*T+16*q*p.R,Me=p.qa,re=p.ra+8*T+E,Ee=p.Ha,je=p.Ia+8*T+E,E=0;16>E;++E)r(be,Ae+E*p.R,G,Q+32*E,16);for(E=0;8>E;++E)r(Me,re+E*p.B,te,ae+32*E,8),r(Ee,je+E*p.B,me,Te+32*E,8)}}function _s(p,v,E,T,V,q,G,Q,te){var ae=[0],me=[0],Te=0,re=te!=null?te.kd:0,be=te??new Ye;if(p==null||12>E)return 7;be.data=p,be.w=v,be.ha=E,v=[v],E=[E],be.gb=[be.gb];e:{var Ae=v,Me=E,Ee=be.gb;if(e(p!=null),e(Me!=null),e(Ee!=null),Ee[0]=0,12<=Me[0]&&!t(p,Ae[0],"RIFF")){if(t(p,Ae[0]+8,"WEBP")){Ee=3;break e}var je=ct(p,Ae[0]+4);if(12>je||4294967286<je){Ee=3;break e}if(re&&je>Me[0]-8){Ee=7;break e}Ee[0]=je,Ae[0]+=12,Me[0]-=12}Ee=0}if(Ee!=0)return Ee;for(je=0<be.gb[0],E=E[0];;){e:{var Ve=p;Me=v,Ee=E;var Qe=ae,$e=me,pt=Ae=[0];if((ht=Te=[Te])[0]=0,8>Ee[0])Ee=7;else{if(!t(Ve,Me[0],"VP8X")){if(ct(Ve,Me[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var st=ct(Ve,Me[0]+8),Wt=1+tt(Ve,Me[0]+12);if(2147483648<=Wt*(Ve=1+tt(Ve,Me[0]+15))){Ee=3;break e}pt!=null&&(pt[0]=st),Qe!=null&&(Qe[0]=Wt),$e!=null&&($e[0]=Ve),Me[0]+=18,Ee[0]-=18,ht[0]=1}Ee=0}}if(Te=Te[0],Ae=Ae[0],Ee!=0)return Ee;if(Me=!!(2&Ae),!je&&Te)return 3;if(q!=null&&(q[0]=!!(16&Ae)),G!=null&&(G[0]=Me),Q!=null&&(Q[0]=0),G=ae[0],Ae=me[0],Te&&Me&&te==null){Ee=0;break}if(4>E){Ee=7;break}if(je&&Te||!je&&!Te&&!t(p,v[0],"ALPH")){E=[E],be.na=[be.na],be.P=[be.P],be.Sa=[be.Sa];e:{st=p,Ee=v,je=E;var ht=be.gb;Qe=be.na,$e=be.P,pt=be.Sa,Wt=22,e(st!=null),e(je!=null),Ve=Ee[0];var pn=je[0];for(e(Qe!=null),e(pt!=null),Qe[0]=null,$e[0]=null,pt[0]=0;;){if(Ee[0]=Ve,je[0]=pn,8>pn){Ee=7;break e}var cr=ct(st,Ve+4);if(4294967286<cr){Ee=3;break e}var tn=8+cr+1&-2;if(Wt+=tn,0<ht&&Wt>ht){Ee=3;break e}if(!t(st,Ve,"VP8 ")||!t(st,Ve,"VP8L")){Ee=0;break e}if(pn[0]<tn){Ee=7;break e}t(st,Ve,"ALPH")||(Qe[0]=st,$e[0]=Ve+8,pt[0]=cr),Ve+=tn,pn-=tn}}if(E=E[0],be.na=be.na[0],be.P=be.P[0],be.Sa=be.Sa[0],Ee!=0)break}E=[E],be.Ja=[be.Ja],be.xa=[be.xa];e:if(ht=p,Ee=v,je=E,Qe=be.gb[0],$e=be.Ja,pt=be.xa,st=Ee[0],Ve=!t(ht,st,"VP8 "),Wt=!t(ht,st,"VP8L"),e(ht!=null),e(je!=null),e($e!=null),e(pt!=null),8>je[0])Ee=7;else{if(Ve||Wt){if(ht=ct(ht,st+4),12<=Qe&&ht>Qe-12){Ee=3;break e}if(re&&ht>je[0]-8){Ee=7;break e}$e[0]=ht,Ee[0]+=8,je[0]-=8,pt[0]=Wt}else pt[0]=5<=je[0]&&ht[st+0]==47&&!(ht[st+4]>>5),$e[0]=je[0];Ee=0}if(E=E[0],be.Ja=be.Ja[0],be.xa=be.xa[0],v=v[0],Ee!=0)break;if(4294967286<be.Ja)return 3;if(Q==null||Me||(Q[0]=be.xa?2:1),G=[G],Ae=[Ae],be.xa){if(5>E){Ee=7;break}Q=G,re=Ae,Me=q,p==null||5>E?p=0:5<=E&&p[v+0]==47&&!(p[v+4]>>5)?(je=[0],ht=[0],Qe=[0],Ce($e=new K,p,v,E),Yi($e,je,ht,Qe)?(Q!=null&&(Q[0]=je[0]),re!=null&&(re[0]=ht[0]),Me!=null&&(Me[0]=Qe[0]),p=1):p=0):p=0}else{if(10>E){Ee=7;break}Q=Ae,p==null||10>E||!ms(p,v+3,E-3)?p=0:(re=p[v+0]|p[v+1]<<8|p[v+2]<<16,Me=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=be.Ja||!Me||!p?p=0:(G&&(G[0]=Me),Q&&(Q[0]=p),p=1))}if(!p||(G=G[0],Ae=Ae[0],Te&&(ae[0]!=G||me[0]!=Ae)))return 3;te!=null&&(te[0]=be,te.offset=v-te.w,e(4294967286>v-te.w),e(te.offset==te.ha-E));break}return Ee==0||Ee==7&&Te&&te==null?(q!=null&&(q[0]|=be.na!=null&&0<be.na.length),T!=null&&(T[0]=G),V!=null&&(V[0]=Ae),0):Ee}function so(p,v,E){var T=v.width,V=v.height,q=0,G=0,Q=T,te=V;if(v.Da=p!=null&&0<p.Da,v.Da&&(Q=p.cd,te=p.bd,q=p.v,G=p.j,11>E||(q&=-2,G&=-2),0>q||0>G||0>=Q||0>=te||q+Q>T||G+te>V))return 0;if(v.v=q,v.j=G,v.va=q+Q,v.o=G+te,v.U=Q,v.T=te,v.da=p!=null&&0<p.da,v.da){if(!Nt(Q,te,E=[p.ib],q=[p.hb]))return 0;v.ib=E[0],v.hb=q[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*T/4&&v.hb<3*V/4,v.Kb=0),1}function sc(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function ws(p,v,E,T){if(T==null||0>=p||0>=v)return 2;if(E!=null){if(E.Da){var V=E.cd,q=E.bd,G=-2&E.v,Q=-2&E.j;if(0>G||0>Q||0>=V||0>=q||G+V>p||Q+q>v)return 2;p=V,v=q}if(E.da){if(!Nt(p,v,V=[E.ib],q=[E.hb]))return 2;p=V[0],v=q[0]}}T.width=p,T.height=v;e:{var te=T.width,ae=T.height;if(p=T.S,0>=te||0>=ae||!(p>=Yc&&13>p))p=2;else{if(0>=T.Rd&&T.sd==null){G=q=V=v=0;var me=(Q=te*rh[p])*ae;if(11>p||(q=(ae+1)/2*(v=(te+1)/2),p==12&&(G=(V=te)*ae)),(ae=o(me+2*q+G))==null){p=1;break e}T.sd=ae,11>p?((te=T.f.RGBA).eb=ae,te.fb=0,te.A=Q,te.size=me):((te=T.f.kb).y=ae,te.O=0,te.fa=Q,te.Fd=me,te.f=ae,te.N=0+me,te.Ab=v,te.Cd=q,te.ea=ae,te.W=0+me+q,te.Db=v,te.Ed=q,p==12&&(te.F=ae,te.J=0+me+2*q),te.Tc=G,te.lb=V)}if(v=1,V=T.S,q=T.width,G=T.height,V>=Yc&&13>V)if(11>V)p=T.f.RGBA,v&=(Q=Math.abs(p.A))*(G-1)+q<=p.size,v&=Q>=q*rh[V],v&=p.eb!=null;else{p=T.f.kb,Q=(q+1)/2,me=(G+1)/2,te=Math.abs(p.fa),ae=Math.abs(p.Ab);var Te=Math.abs(p.Db),re=Math.abs(p.lb),be=re*(G-1)+q;v&=te*(G-1)+q<=p.Fd,v&=ae*(me-1)+Q<=p.Cd,v=(v&=Te*(me-1)+Q<=p.Ed)&te>=q&ae>=Q&Te>=Q,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,V==12&&(v&=re>=q,v&=be<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||E!=null&&E.fd&&(p=sc(T)),p}var Fo=64,va=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ra=24,Fs=32,Bs=8,oo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(p){return p},k.Predictor2=function(p,v,E){return v[E+0]},k.Predictor3=function(p,v,E){return v[E+1]},k.Predictor4=function(p,v,E){return v[E-1]},k.Predictor5=function(p,v,E){return _t(_t(p,v[E+1]),v[E+0])},k.Predictor6=function(p,v,E){return _t(p,v[E-1])},k.Predictor7=function(p,v,E){return _t(p,v[E+0])},k.Predictor8=function(p,v,E){return _t(v[E-1],v[E+0])},k.Predictor9=function(p,v,E){return _t(v[E+0],v[E+1])},k.Predictor10=function(p,v,E){return _t(_t(p,v[E-1]),_t(v[E+0],v[E+1]))},k.Predictor11=function(p,v,E){var T=v[E+0];return 0>=Vt(T>>24&255,p>>24&255,(v=v[E-1])>>24&255)+Vt(T>>16&255,p>>16&255,v>>16&255)+Vt(T>>8&255,p>>8&255,v>>8&255)+Vt(255&T,255&p,255&v)?T:p},k.Predictor12=function(p,v,E){var T=v[E+0];return(Kt((p>>24&255)+(T>>24&255)-((v=v[E-1])>>24&255))<<24|Kt((p>>16&255)+(T>>16&255)-(v>>16&255))<<16|Kt((p>>8&255)+(T>>8&255)-(v>>8&255))<<8|Kt((255&p)+(255&T)-(255&v)))>>>0},k.Predictor13=function(p,v,E){var T=v[E-1];return(en((p=_t(p,v[E+0]))>>24&255,T>>24&255)<<24|en(p>>16&255,T>>16&255)<<16|en(p>>8&255,T>>8&255)<<8|en(255&p,255&T))>>>0};var au=k.PredictorAdd0;k.PredictorAdd1=on,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var su=k.PredictorAdd2;yt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Dr,Gc=k.ColorIndexInverseTransform,Vs=k.MapARGB,zs=k.VP8LColorIndexInverseTransformAlpha,Ei=k.MapAlpha,lo=k.VP8LPredictorsAdd=[];lo.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var ou,lu,uo,co,qs,vl,ja,ho,Bi,Ka,On,Tn,rr,Or,Hs,xs,bl,oc,mf,Jd,Zd,ep,gf,yf,_l,Qa,lc,Ma,wl=o(511),Wc=o(2041),uc=o(225),cc=o(767),$c=0,fo=Wc,hc=uc,Vi=cc,Ni=wl,Yc=0,zi=1,Kc=2,Xa=3,fc=4,uu=5,Bo=6,dc=7,Qc=8,cu=9,Xc=10,Ja=[2,3,7],hu=[3,3,11],xl=[280,256,256,256,40],Jc=[0,1,1,1,0],pc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Za=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],es=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Vo=8,ts=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ns=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ua=null,tp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],vf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Zc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],np=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ti=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ur=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ia=[],Er=[],Ss=[],zo=1,bf=2,po=[],Ci=[];Je("UpsampleRgbLinePair",Si,3),Je("UpsampleBgrLinePair",Kn,3),Je("UpsampleRgbaLinePair",na,4),Je("UpsampleBgraLinePair",Us,4),Je("UpsampleArgbLinePair",Ms,4),Je("UpsampleRgba4444LinePair",Oa,2),Je("UpsampleRgb565LinePair",Ai,2);var Sl=k.UpsampleRgbLinePair,_f=k.UpsampleBgrLinePair,fu=k.UpsampleRgbaLinePair,eh=k.UpsampleBgraLinePair,qo=k.UpsampleArgbLinePair,Gs=k.UpsampleRgba4444LinePair,Ho=k.UpsampleRgb565LinePair,rs=16,du=1<<rs-1,Al=-227,Go=482,th=6,Wo=0,Ri=o(256),nh=o(256),rp=o(256),Rg=o(256),Ig=o(Go-Al),Lg=o(Go-Al);ao("YuvToRgbRow",Si,3),ao("YuvToBgrRow",Kn,3),ao("YuvToRgbaRow",na,4),ao("YuvToBgraRow",Us,4),ao("YuvToArgbRow",Ms,4),ao("YuvToRgba4444Row",Oa,2),ao("YuvToRgb565Row",Ai,2);var Pr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],pu=[0,2,8],mc=[8,7,6,4,4,2,2,2,1,1,1,1],gc=1;this.WebPDecodeRGBA=function(p,v,E,T,V){var q=zi,G=new Ue,Q=new wt;G.ba=Q,Q.S=q,Q.width=[Q.width],Q.height=[Q.height];var te=Q.width,ae=Q.height,me=new vt;if(me==null||p==null)var Te=2;else e(me!=null),Te=_s(p,v,E,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Te!=0?te=0:(te!=null&&(te[0]=me.width[0]),ae!=null&&(ae[0]=me.height[0]),te=1),te){Q.width=Q.width[0],Q.height=Q.height[0],T!=null&&(T[0]=Q.width),V!=null&&(V[0]=Q.height);e:{if(T=new ui,(V=new Ye).data=p,V.w=v,V.ha=E,V.kd=1,v=[0],e(V!=null),((p=_s(V.data,V.w,V.ha,null,null,null,v,null,V))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(G!=null),T.data=V.data,T.w=V.w+V.offset,T.ha=V.ha-V.offset,T.put=St,T.ac=Xr,T.bc=ds,T.ma=G,V.xa){if((p=Ls())==null){G=1;break e}if((function(re,be){var Ae=[0],Me=[0],Ee=[0];t:for(;;){if(re==null)return 0;if(be==null)return re.a=2,0;if(re.l=be,re.a=0,Ce(re.m,be.data,be.w,be.ha),!Yi(re.m,Ae,Me,Ee)){re.a=3;break t}if(re.xb=bf,be.width=Ae[0],be.height=Me[0],!Ra(Ae[0],Me[0],1,re,null))break t;return 1}return e(re.a!=0),0})(p,T)){if(T=(v=ws(T.width,T.height,G.Oa,G.ba))==0){t:{T=p;n:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((E=T.l)!=null),e((V=E.ma)!=null),T.xb!=0){if(T.ca=V.ba,T.tb=V.tb,e(T.ca!=null),!so(V.Oa,E,Xa)){T.a=2;break n}if(!ji(T,E.width)||E.da)break n;if((E.da||Pt(T.ca.S))&&ke(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&ke()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!ne(T.s.vb,T.s.Wa.Xa)){T.a=1;break n}T.xb=0}if(!Pi(T,T.V,T.Ba,T.c,T.i,E.o,li))break n;V.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(v=p.a)}else v=p.a}else{if((p=new Sr)==null){G=1;break e}if(p.Fa=V.na,p.P=V.P,p.qc=V.Sa,ga(p,T)){if((v=ws(T.width,T.height,G.Oa,G.ba))==0){if(p.Aa=0,E=G.Oa,e((V=p)!=null),E!=null){if(0<(te=0>(te=E.Md)?0:100<te?255:255*te/100)){for(ae=me=0;4>ae;++ae)12>(Te=V.pb[ae]).lc&&(Te.ia=te*mc[0>Te.lc?0:Te.lc]>>3),me|=Te.ia;me&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=E.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(re,be){if(re==null)return 0;if(be==null)return fn(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!ga(re,be))return 0;if(e(re.cb),be.ac==null||be.ac(be)){be.ob&&(re.L=0);var Ae=pu[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=be.v-Ae>>4,re.zb=be.j-Ae>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=be.o+15+Ae>>4,re.Hb=be.va+15+Ae>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var Me=re.ed;for(Ae=0;4>Ae;++Ae){var Ee;if(re.Qa.Cb){var je=re.Qa.Lb[Ae];re.Qa.Fb||(je+=Me.Tb)}else je=Me.Tb;for(Ee=0;1>=Ee;++Ee){var Ve=re.gd[Ae][Ee],Qe=je;if(Me.Pc&&(Qe+=Me.vd[0],Ee&&(Qe+=Me.od[0])),0<(Qe=0>Qe?0:63<Qe?63:Qe)){var $e=Qe;0<Me.wb&&($e=4<Me.wb?$e>>2:$e>>1)>9-Me.wb&&($e=9-Me.wb),1>$e&&($e=1),Ve.dd=$e,Ve.tc=2*Qe+$e,Ve.ld=40<=Qe?2:15<=Qe?1:0}else Ve.tc=0;Ve.La=Ee}}}Ae=0}else fn(re,6,"Frame setup failed"),Ae=re.a;if(Ae=Ae==0){if(Ae){re.$c=0,0<re.Aa||(re.Ic=gc);t:{Ae=re.Ic,Me=4*($e=re.za);var pt=32*$e,st=$e+1,Wt=0<re.L?$e*(0<re.Aa?2:1):0,ht=(re.Aa==2?2:1)*$e;if((Ve=Me+832+(Ee=3*(16*Ae+pu[re.L])/2*pt)+(je=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=Ve)Ae=0;else{if(Ve>re.Vb){if(re.Vb=0,re.Ec=o(Ve),re.Fc=0,re.Ec==null){Ae=fn(re,1,"no memory during frame initialization.");break t}re.Vb=Ve}Ve=re.Ec,Qe=re.Fc,re.Ac=Ve,re.Bc=Qe,Qe+=Me,re.Gd=u(pt,Do),re.Hd=0,re.rb=u(st+1,ma),re.sb=1,re.wa=Wt?u(Wt,Mi):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=$e),e(!0),re.oc=Ve,re.pc=Qe,Qe+=832,re.ya=u(ht,Zs),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=$e),re.R=16*$e,re.B=8*$e,$e=(pt=pu[re.L])*re.R,pt=pt/2*re.B,re.sa=Ve,re.ta=Qe+$e,re.qa=re.sa,re.ra=re.ta+16*Ae*re.R+pt,re.Ha=re.qa,re.Ia=re.ra+8*Ae*re.B+pt,re.$c=0,Qe+=Ee,re.mb=je?Ve:null,re.nb=je?Qe:null,e(Qe+je<=re.Fc+re.Vb),ks(re),a(re.Ac,re.Bc,0,Me),Ae=1}}if(Ae){if(be.ka=0,be.y=re.sa,be.O=re.ta,be.f=re.qa,be.N=re.ra,be.ea=re.Ha,be.Vd=re.Ia,be.fa=re.R,be.Rc=re.B,be.F=null,be.J=0,!$c){for(Ae=-255;255>=Ae;++Ae)wl[255+Ae]=0>Ae?-Ae:Ae;for(Ae=-1020;1020>=Ae;++Ae)Wc[1020+Ae]=-128>Ae?-128:127<Ae?127:Ae;for(Ae=-112;112>=Ae;++Ae)uc[112+Ae]=-16>Ae?-16:15<Ae?15:Ae;for(Ae=-255;510>=Ae;++Ae)cc[255+Ae]=0>Ae?0:255<Ae?255:Ae;$c=1}ja=Jr,ho=fl,Ka=xi,On=dl,Tn=gs,Bi=ru,rr=yl,Or=Da,Hs=B,xs=ie,bl=Uo,oc=S,mf=de,Jd=we,Zd=$a,ep=ya,gf=io,yf=Mo,Er[0]=Ps,Er[1]=pl,Er[2]=to,Er[3]=jo,Er[4]=Zr,Er[5]=no,Er[6]=Br,Er[7]=Un,Er[8]=ro,Er[9]=Ji,ia[0]=La,ia[1]=Oo,ia[2]=Po,ia[3]=ys,ia[4]=vs,ia[5]=Fi,ia[6]=Os,Ss[0]=bs,Ss[1]=ml,Ss[2]=ka,Ss[3]=gl,Ss[4]=kr,Ss[5]=ea,Ss[6]=Ha,Ae=1}else Ae=0}Ae&&(Ae=(function(pn,cr){for(pn.M=0;pn.M<pn.Va;++pn.M){var tn,ot=pn.Jc[pn.M&pn.Xb],Ze=pn.m,yr=pn;for(tn=0;tn<yr.za;++tn){var Ut=Ze,sn=yr,zn=sn.Ac,ei=sn.Bc+4*tn,Ii=sn.zc,ir=sn.ya[sn.aa+tn];if(sn.Qa.Bb?ir.$b=Be(Ut,sn.Pa.jb[0])?2+Be(Ut,sn.Pa.jb[2]):Be(Ut,sn.Pa.jb[1]):ir.$b=0,sn.kc&&(ir.Ad=Be(Ut,sn.Bd)),ir.Za=!Be(Ut,145)+0,ir.Za){var Vr=ir.Ob,qi=0;for(sn=0;4>sn;++sn){var zr,hn=Ii[0+sn];for(zr=0;4>zr;++zr){hn=Ti[zn[ei+zr]][hn];for(var Rn=Zc[Be(Ut,hn[0])];0<Rn;)Rn=Zc[2*Rn+Be(Ut,hn[Rn])];hn=-Rn,zn[ei+zr]=hn}r(Vr,qi,zn,ei,4),qi+=4,Ii[0+sn]=hn}}else hn=Be(Ut,156)?Be(Ut,128)?1:3:Be(Ut,163)?2:0,ir.Ob[0]=hn,a(zn,ei,hn,4),a(Ii,0,hn,4);ir.Dd=Be(Ut,142)?Be(Ut,114)?Be(Ut,183)?1:3:2:0}if(yr.m.Ka)return fn(pn,7,"Premature end-of-partition0 encountered.");for(;pn.ja<pn.za;++pn.ja){if(yr=ot,Ut=(Ze=pn).rb[Ze.sb-1],zn=Ze.rb[Ze.sb+Ze.ja],tn=Ze.ya[Ze.aa+Ze.ja],ei=Ze.kc?tn.Ad:0)Ut.la=zn.la=0,tn.Za||(Ut.Na=zn.Na=0),tn.Hc=0,tn.Gc=0,tn.ia=0;else{var vr,Pn;if(Ut=zn,zn=yr,ei=Ze.Pa.Xc,Ii=Ze.ya[Ze.aa+Ze.ja],ir=Ze.pb[Ii.$b],sn=Ii.ad,Vr=0,qi=Ze.rb[Ze.sb-1],hn=zr=0,a(sn,Vr,0,384),Ii.Za)var ti=0,br=ei[3];else{Rn=o(16);var In=Ut.Na+qi.Na;if(In=Ua(zn,ei[1],In,ir.Eb,0,Rn,0),Ut.Na=qi.Na=(0<In)+0,1<In)ja(Rn,0,sn,Vr);else{var jr=Rn[0]+3>>3;for(Rn=0;256>Rn;Rn+=16)sn[Vr+Rn]=jr}ti=1,br=ei[0]}var qn=15&Ut.la,qr=15&qi.la;for(Rn=0;4>Rn;++Rn){var Hr=1&qr;for(jr=Pn=0;4>jr;++jr)qn=qn>>1|(Hr=(In=Ua(zn,br,In=Hr+(1&qn),ir.Sc,ti,sn,Vr))>ti)<<7,Pn=Pn<<2|(3<In?3:1<In?2:sn[Vr+0]!=0),Vr+=16;qn>>=4,qr=qr>>1|Hr<<7,zr=(zr<<8|Pn)>>>0}for(br=qn,ti=qr>>4,vr=0;4>vr;vr+=2){for(Pn=0,qn=Ut.la>>4+vr,qr=qi.la>>4+vr,Rn=0;2>Rn;++Rn){for(Hr=1&qr,jr=0;2>jr;++jr)In=Hr+(1&qn),qn=qn>>1|(Hr=0<(In=Ua(zn,ei[2],In,ir.Qc,0,sn,Vr)))<<3,Pn=Pn<<2|(3<In?3:1<In?2:sn[Vr+0]!=0),Vr+=16;qn>>=2,qr=qr>>1|Hr<<5}hn|=Pn<<4*vr,br|=qn<<4<<vr,ti|=(240&qr)<<vr}Ut.la=br,qi.la=ti,Ii.Hc=zr,Ii.Gc=hn,Ii.ia=43690&hn?0:ir.ia,ei=!(zr|hn)}if(0<Ze.L&&(Ze.wa[Ze.Y+Ze.ja]=Ze.gd[tn.$b][tn.Za],Ze.wa[Ze.Y+Ze.ja].La|=!ei),yr.Ka)return fn(pn,7,"Premature end-of-file encountered.")}if(ks(pn),Ze=cr,yr=1,tn=(ot=pn).D,Ut=0<ot.L&&ot.M>=ot.zb&&ot.M<=ot.Va,ot.Aa==0)t:{if(tn.M=ot.M,tn.uc=Ut,Pa(ot,tn),yr=1,tn=(Pn=ot.D).Nb,Ut=(hn=pu[ot.L])*ot.R,zn=hn/2*ot.B,Rn=16*tn*ot.R,jr=8*tn*ot.B,ei=ot.sa,Ii=ot.ta-Ut+Rn,ir=ot.qa,sn=ot.ra-zn+jr,Vr=ot.Ha,qi=ot.Ia-zn+jr,qr=(qn=Pn.M)==0,zr=qn>=ot.Va-1,ot.Aa==2&&Pa(ot,Pn),Pn.uc)for(Hr=(In=ot).D.M,e(In.D.uc),Pn=In.yb;Pn<In.Hb;++Pn){ti=Pn,br=Hr;var Qn=(Cn=(Gr=In).D).Nb;vr=Gr.R;var Cn=Cn.wa[Cn.Y+ti],Hi=Gr.sa,Nr=Gr.ta+16*Qn*vr+16*ti,It=Cn.dd,kt=Cn.tc;if(kt!=0)if(e(3<=kt),Gr.L==1)0<ti&&ep(Hi,Nr,vr,kt+4),Cn.La&&yf(Hi,Nr,vr,kt),0<br&&Zd(Hi,Nr,vr,kt+4),Cn.La&&gf(Hi,Nr,vr,kt);else{var Ln=Gr.B,ba=Gr.qa,is=Gr.ra+8*Qn*Ln+8*ti,aa=Gr.Ha,Gr=Gr.Ia+8*Qn*Ln+8*ti;Qn=Cn.ld,0<ti&&(Or(Hi,Nr,vr,kt+4,It,Qn),xs(ba,is,aa,Gr,Ln,kt+4,It,Qn)),Cn.La&&(oc(Hi,Nr,vr,kt,It,Qn),Jd(ba,is,aa,Gr,Ln,kt,It,Qn)),0<br&&(rr(Hi,Nr,vr,kt+4,It,Qn),Hs(ba,is,aa,Gr,Ln,kt+4,It,Qn)),Cn.La&&(bl(Hi,Nr,vr,kt,It,Qn),mf(ba,is,aa,Gr,Ln,kt,It,Qn))}}if(ot.ia&&alert("todo:DitherRow"),Ze.put!=null){if(Pn=16*qn,qn=16*(qn+1),qr?(Ze.y=ot.sa,Ze.O=ot.ta+Rn,Ze.f=ot.qa,Ze.N=ot.ra+jr,Ze.ea=ot.Ha,Ze.W=ot.Ia+jr):(Pn-=hn,Ze.y=ei,Ze.O=Ii,Ze.f=ir,Ze.N=sn,Ze.ea=Vr,Ze.W=qi),zr||(qn-=hn),qn>Ze.o&&(qn=Ze.o),Ze.F=null,Ze.J=null,ot.Fa!=null&&0<ot.Fa.length&&Pn<qn&&(Ze.J=m(ot,Ze,Pn,qn-Pn),Ze.F=ot.mb,Ze.F==null&&Ze.F.length==0)){yr=fn(ot,3,"Could not decode alpha data.");break t}Pn<Ze.j&&(hn=Ze.j-Pn,Pn=Ze.j,e(!(1&hn)),Ze.O+=ot.R*hn,Ze.N+=ot.B*(hn>>1),Ze.W+=ot.B*(hn>>1),Ze.F!=null&&(Ze.J+=Ze.width*hn)),Pn<qn&&(Ze.O+=Ze.v,Ze.N+=Ze.v>>1,Ze.W+=Ze.v>>1,Ze.F!=null&&(Ze.J+=Ze.v),Ze.ka=Pn-Ze.j,Ze.U=Ze.va-Ze.v,Ze.T=qn-Pn,yr=Ze.put(Ze))}tn+1!=ot.Ic||zr||(r(ot.sa,ot.ta-Ut,ei,Ii+16*ot.R,Ut),r(ot.qa,ot.ra-zn,ir,sn+8*ot.B,zn),r(ot.Ha,ot.Ia-zn,Vr,qi+8*ot.B,zn))}if(!yr)return fn(pn,6,"Output aborted.")}return 1})(re,be)),be.bc!=null&&be.bc(be),Ae&=1}return Ae?(re.cb=0,Ae):0})(p,T)||(v=p.a)}}else v=p.a}v==0&&G.Oa!=null&&G.Oa.fd&&(v=sc(G.ba))}G=v}q=G!=0?null:11>q?Q.f.RGBA.eb:Q.f.kb.y}else q=null;return q};var rh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(k,H){for(var C="",M=0;M<4;M++)C+=String.fromCharCode(k[H++]);return C}function g(k,H){return k[H+0]|k[H+1]<<8}function w(k,H){return(k[H+0]|k[H+1]<<8|k[H+2]<<16)>>>0}function A(k,H){return(k[H+0]|k[H+1]<<8|k[H+2]<<16|k[H+3]<<24)>>>0}new f;var _=[0],P=[0],I=[],L=new f,j=n,$=(function(k,H){var C={},M=0,F=!1,ue=0,Ne=0;if(C.frames=[],!(function(D,K){for(var ee=0;ee<4;ee++)if(D[K+ee]!="RIFF".charCodeAt(ee))return!0;return!1})(k,H)){for(A(k,H+=4),H+=8;H<k.length;){var le=d(k,H),ge=A(k,H+=4);H+=4;var pe=ge+(1&ge);switch(le){case"VP8 ":case"VP8L":C.frames[M]===void 0&&(C.frames[M]={}),(W=C.frames[M]).src_off=F?Ne:H-8,W.src_size=ue+ge+8,M++,F&&(F=!1,ue=0,Ne=0);break;case"VP8X":(W=C.header={}).feature_flags=k[H];var Ce=H+4;W.canvas_width=1+w(k,Ce),Ce+=3,W.canvas_height=1+w(k,Ce),Ce+=3;break;case"ALPH":F=!0,ue=pe+8,Ne=H-8;break;case"ANIM":(W=C.header).bgcolor=A(k,H),Ce=H+4,W.loop_count=g(k,Ce),Ce+=2;break;case"ANMF":var Ge,W;(W=C.frames[M]={}).offset_x=2*w(k,H),H+=3,W.offset_y=2*w(k,H),H+=3,W.width=1+w(k,H),H+=3,W.height=1+w(k,H),H+=3,W.duration=w(k,H),H+=3,Ge=k[H++],W.dispose=1&Ge,W.blend=Ge>>1&1}le!="ANMF"&&(H+=pe)}return C}})(j,0);$.response=j,$.rgbaoutput=!0,$.dataurl=!1;var X=$.header?$.header:null,Z=$.frames?$.frames:null;if(X){X.loop_counter=X.loop_count,_=[X.canvas_height],P=[X.canvas_width];for(var se=0;se<Z.length&&Z[se].blend!=0;se++);}var _e=Z[0],z=L.WebPDecodeRGBA(j,_e.src_off,_e.src_size,P,_);_e.rgba=z,_e.imgwidth=P[0],_e.imgheight=_[0];for(var U=0;U<P[0]*_[0]*4;U++)I[U]=z[U];return this.width=P,this.height=_,this.data=I,this}function AP(){var n,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));n=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function EP(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var e,t,r,a,o,u,c,f,d,g=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new f,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new u,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new u,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new g}]);var w=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=D;Object.defineProperty(this,"pdf",{get:function(){return K}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(ne){ee=!!ne}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(ne){oe=!!ne}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(ne){isNaN(ne)||(ce=ne)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(ne){isNaN(ne)||(ve=ne)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ne){var et;typeof ne=="number"?et=[ne,ne,ne,ne]:((et=new Array(4))[0]=ne[0],et[1]=ne.length>=2?ne[1]:et[0],et[2]=ne.length>=3?ne[2]:et[0],et[3]=ne.length>=4?ne[3]:et[1]),d.margin=et}});var De=!1;Object.defineProperty(this,"autoPaging",{get:function(){return De},set:function(ne){De=ne}});var Le=0;Object.defineProperty(this,"lastBreak",{get:function(){return Le},set:function(ne){Le=ne}});var Be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Be},set:function(ne){Be=ne}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ne){ne instanceof g&&(d=ne)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ne){d.path=ne}});var Xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xe},set:function(ne){Xe=ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ne){var et;et=A(ne),this.ctx.fillStyle=et.style,this.ctx.isFillTransparent=et.a===0,this.ctx.fillOpacity=et.a,this.pdf.setFillColor(et.r,et.g,et.b,{a:et.a}),this.pdf.setTextColor(et.r,et.g,et.b,{a:et.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ne){var et=A(ne);this.ctx.strokeStyle=et.style,this.ctx.isStrokeTransparent=et.a===0,this.ctx.strokeOpacity=et.a,et.a===0?this.pdf.setDrawColor(255,255,255):(et.a,this.pdf.setDrawColor(et.r,et.g,et.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ne){["butt","round","square"].indexOf(ne)!==-1&&(this.ctx.lineCap=ne,this.pdf.setLineCap(ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ne){isNaN(ne)||(this.ctx.lineWidth=ne,this.pdf.setLineWidth(ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ne){["bevel","round","miter"].indexOf(ne)!==-1&&(this.ctx.lineJoin=ne,this.pdf.setLineJoin(ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ne){isNaN(ne)||(this.ctx.miterLimit=ne,this.pdf.setMiterLimit(ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ne){this.ctx.textBaseline=ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ne){["right","end","center","left","start"].indexOf(ne)!==-1&&(this.ctx.textAlign=ne)}});var nt=null,tt=null,ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return ct},set:function(ne){nt=null,tt=null,ct=ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ne){var et;if(this.ctx.font=ne,(et=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ne))!==null){var Yt=et[1];et[2];var Nt=et[3],ze=et[4];et[5];var at=et[6],it=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(it==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:it==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var Ct=(function(yt){var dr,Jt,Tt=[],Mt=yt.trim();if(Mt==="")return T1;if(Mt in Ww)return[Ww[Mt]];for(;Mt!=="";){switch(Jt=null,dr=(Mt=Yw(Mt)).charAt(0)){case'"':case"'":Jt=vP(Mt.substring(1),dr);break;default:Jt=bP(Mt)}if(Jt===null||(Tt.push(Jt[0]),(Mt=Yw(Jt[1]))!==""&&Mt.charAt(0)!==","))return T1;Mt=Mt.replace(/^,/,"")}return Tt})(at);if(this.fontFaces){var _t=(function(yt,dr){var Jt=yt.getFontList(),Tt=JSON.stringify(Jt);if(nt===null||tt!==Tt){var Mt=(function(Qt){var xt=[];return Object.keys(Qt).forEach(function(Dn){Qt[Dn].forEach(function(Pt){var jt=null;switch(Pt){case"bold":jt={family:Dn,weight:"bold"};break;case"italic":jt={family:Dn,style:"italic"};break;case"bolditalic":jt={family:Dn,weight:"bold",style:"italic"};break;case"":case"normal":jt={family:Dn}}jt!==null&&(jt.ref={name:Dn,style:Pt},xt.push(jt))})}),xt})(Jt);nt=(function(Qt){for(var xt={},Dn=0;Dn<Qt.length;++Dn){var Pt=N1(Qt[Dn]),jt=Pt.family,jn=Pt.stretch,wt=Pt.style,vt=Pt.weight;xt[jt]=xt[jt]||{},xt[jt][jn]=xt[jt][jn]||{},xt[jt][jn][wt]=xt[jt][jn][wt]||{},xt[jt][jn][wt][vt]=Pt}return xt})(Mt.concat(dr)),tt=Tt}return nt})(this.pdf,this.fontFaces),Kt=Ct.map(function(yt){return{family:yt,stretch:"normal",weight:Nt,style:Yt}}),en=(function(yt,dr,Jt){for(var Tt=(Jt=Jt||{}).defaultFontFamily||"times",Mt=Object.assign({},yP,Jt.genericFontFamilies||{}),Qt=null,xt=null,Dn=0;Dn<dr.length;++Dn)if(Mt[(Qt=N1(dr[Dn])).family]&&(Qt.family=Mt[Qt.family]),yt.hasOwnProperty(Qt.family)){xt=yt[Qt.family];break}if(!(xt=xt||yt[Tt]))throw new Error("Could not find a font-family for the rule '"+$w(Qt)+"' and default family '"+Tt+"'.");if(xt=(function(Pt,jt){if(jt[Pt])return jt[Pt];var jn=_2[Pt],wt=jn<=_2.normal?-1:1,vt=Gw(jt,tA,jn,wt);if(!vt)throw new Error("Could not find a matching font-stretch value for "+Pt);return vt})(Qt.stretch,xt),xt=(function(Pt,jt){if(jt[Pt])return jt[Pt];for(var jn=eA[Pt],wt=0;wt<jn.length;++wt)if(jt[jn[wt]])return jt[jn[wt]];throw new Error("Could not find a matching font-style for "+Pt)})(Qt.style,xt),!(xt=(function(Pt,jt){if(jt[Pt])return jt[Pt];if(Pt===400&&jt[500])return jt[500];if(Pt===500&&jt[400])return jt[400];var jn=gP[Pt],wt=Gw(jt,nA,jn,Pt<400?-1:1);if(!wt)throw new Error("Could not find a matching font-weight for value "+Pt);return wt})(Qt.weight,xt)))throw new Error("Failed to resolve a font for the rule '"+$w(Qt)+"'.");return xt})(_t,Kt);this.pdf.setFont(en.ref.name,en.ref.style)}else{var Vt="";(Nt==="bold"||parseInt(Nt,10)>=700||Yt==="bold")&&(Vt="bold"),Yt==="italic"&&(Vt+="italic"),Vt.length===0&&(Vt="normal");for(var on="",Xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<Ct.length;gt++){if(this.pdf.internal.getFont(Ct[gt],Vt,{noFallback:!0,disableWarning:!0})!==void 0){on=Ct[gt];break}if(Vt==="bolditalic"&&this.pdf.internal.getFont(Ct[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)on=Ct[gt],Vt="bold";else if(this.pdf.internal.getFont(Ct[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){on=Ct[gt],Vt="normal";break}}if(on===""){for(var Gt=0;Gt<Ct.length;Gt++)if(Xt[Ct[Gt]]){on=Xt[Ct[Gt]];break}}on=on===""?"Times":on,this.pdf.setFont(on,Vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ne){this.ctx.globalCompositeOperation=ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ne){this.ctx.globalAlpha=ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ne){this.ctx.lineDashOffset=ne,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ne){this.ctx.lineDash=ne,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ne){this.ctx.ignoreClearRect=!!ne}})};w.prototype.setLineDash=function(D){this.lineDash=D},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){Z.call(this,"fill",!1)},w.prototype.stroke=function(){Z.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(D,K){if(isNaN(D)||isNaN(K))throw fr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new u(D,K));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new u(D,K)},w.prototype.closePath=function(){var D=new u(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Zn(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){D=new u(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(D.x,D.y)},w.prototype.lineTo=function(D,K){if(isNaN(D)||isNaN(K))throw fr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new u(D,K));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new u(ee.x,ee.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Z.call(this,null,!0)},w.prototype.quadraticCurveTo=function(D,K,ee,oe){if(isNaN(ee)||isNaN(oe)||isNaN(D)||isNaN(K))throw fr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new u(ee,oe)),ve=this.ctx.transform.applyToPoint(new u(D,K));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new u(ce.x,ce.y)},w.prototype.bezierCurveTo=function(D,K,ee,oe,ce,ve){if(isNaN(ce)||isNaN(ve)||isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(oe))throw fr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var De=this.ctx.transform.applyToPoint(new u(ce,ve)),Le=this.ctx.transform.applyToPoint(new u(D,K)),Be=this.ctx.transform.applyToPoint(new u(ee,oe));this.path.push({type:"bct",x1:Le.x,y1:Le.y,x2:Be.x,y2:Be.y,x:De.x,y:De.y}),this.ctx.lastPoint=new u(De.x,De.y)},w.prototype.arc=function(D,K,ee,oe,ce,ve){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(oe)||isNaN(ce))throw fr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var De=this.ctx.transform.applyToPoint(new u(D,K));D=De.x,K=De.y;var Le=this.ctx.transform.applyToPoint(new u(0,ee)),Be=this.ctx.transform.applyToPoint(new u(0,0));ee=Math.sqrt(Math.pow(Le.x-Be.x,2)+Math.pow(Le.y-Be.y,2))}Math.abs(ce-oe)>=2*Math.PI&&(oe=0,ce=2*Math.PI),this.path.push({type:"arc",x:D,y:K,radius:ee,startAngle:oe,endAngle:ce,counterclockwise:ve})},w.prototype.arcTo=function(D,K,ee,oe,ce){throw new Error("arcTo not implemented.")},w.prototype.rect=function(D,K,ee,oe){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(oe))throw fr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,K),this.lineTo(D+ee,K),this.lineTo(D+ee,K+oe),this.lineTo(D,K+oe),this.lineTo(D,K),this.lineTo(D+ee,K),this.lineTo(D,K)},w.prototype.fillRect=function(D,K,ee,oe){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(oe))throw fr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,K,ee,oe),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},w.prototype.strokeRect=function(D,K,ee,oe){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(oe))throw fr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");P.call(this)||(this.beginPath(),this.rect(D,K,ee,oe),this.stroke())},w.prototype.clearRect=function(D,K,ee,oe){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(oe))throw fr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,K,ee,oe))},w.prototype.save=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},w.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(K),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(D){var K,ee,oe,ce;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))K=0,ee=0,oe=0,ce=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ve!==null)K=parseInt(ve[1]),ee=parseInt(ve[2]),oe=parseInt(ve[3]),ce=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)K=parseInt(ve[1]),ee=parseInt(ve[2]),oe=parseInt(ve[3]),ce=parseFloat(ve[4]);else{if(ce=1,typeof D=="string"&&D.charAt(0)!=="#"){var De=new $S(D);D=De.ok?De.toHex():"#000000"}D.length===4?(K=D.substring(1,2),K+=K,ee=D.substring(2,3),ee+=ee,oe=D.substring(3,4),oe+=oe):(K=D.substring(1,3),ee=D.substring(3,5),oe=D.substring(5,7)),K=parseInt(K,16),ee=parseInt(ee,16),oe=parseInt(oe,16)}}return{r:K,g:ee,b:oe,a:ce,style:D}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},P=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(D,K,ee,oe){if(isNaN(K)||isNaN(ee)||typeof D!="string")throw fr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!_.call(this)){var ce=pe(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;M.call(this,{text:D,x:K,y:ee,scale:ve,angle:ce,align:this.textAlign,maxWidth:oe})}},w.prototype.strokeText=function(D,K,ee,oe){if(isNaN(K)||isNaN(ee)||typeof D!="string")throw fr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!P.call(this)){oe=isNaN(oe)?void 0:oe;var ce=pe(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;M.call(this,{text:D,x:K,y:ee,scale:ve,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:oe})}},w.prototype.measureText=function(D){if(typeof D!="string")throw fr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,ee=this.pdf.internal.scaleFactor,oe=K.internal.getFontSize(),ce=K.getStringUnitWidth(D)*oe/K.internal.scaleFactor;return new function(ve){var De=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return De}}),this}({width:ce*=Math.round(96*ee/72*1e4)/1e4})},w.prototype.scale=function(D,K){if(isNaN(D)||isNaN(K))throw fr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new f(D,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},w.prototype.rotate=function(D){if(isNaN(D))throw fr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new f(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},w.prototype.translate=function(D,K){if(isNaN(D)||isNaN(K))throw fr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new f(1,0,0,1,D,K);this.ctx.transform=this.ctx.transform.multiply(ee)},w.prototype.transform=function(D,K,ee,oe,ce,ve){if(isNaN(D)||isNaN(K)||isNaN(ee)||isNaN(oe)||isNaN(ce)||isNaN(ve))throw fr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var De=new f(D,K,ee,oe,ce,ve);this.ctx.transform=this.ctx.transform.multiply(De)},w.prototype.setTransform=function(D,K,ee,oe,ce,ve){D=isNaN(D)?1:D,K=isNaN(K)?0:K,ee=isNaN(ee)?0:ee,oe=isNaN(oe)?1:oe,ce=isNaN(ce)?0:ce,ve=isNaN(ve)?0:ve,this.ctx.transform=new f(D,K,ee,oe,ce,ve)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(D,K,ee,oe,ce,ve,De,Le,Be){var Xe=this.pdf.getImageProperties(D),nt=1,tt=1,ct=1,ne=1;oe!==void 0&&Le!==void 0&&(ct=Le/oe,ne=Be/ce,nt=Xe.width/oe*Le/oe,tt=Xe.height/ce*Be/ce),ve===void 0&&(ve=K,De=ee,K=0,ee=0),oe!==void 0&&Le===void 0&&(Le=oe,Be=ce),oe===void 0&&Le===void 0&&(Le=Xe.width,Be=Xe.height);var et=this.ctx.transform.decompose(),Yt=pe(et.rotate.shx),Nt=new f,ze=(Nt=(Nt=(Nt=Nt.multiply(et.translate)).multiply(et.skew)).multiply(et.scale)).applyToRectangle(new c(ve-K*ct,De-ee*ne,oe*nt,ce*tt));if(this.autoPaging){for(var at,it=L.call(this,ze),Ct=[],_t=0;_t<it.length;_t+=1)Ct.indexOf(it[_t])===-1&&Ct.push(it[_t]);X(Ct);for(var Kt=Ct[0],en=Ct[Ct.length-1],Vt=Kt;Vt<en+1;Vt++){this.pdf.setPage(Vt);var on=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xt=Vt===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=Vt===1?0:gt+(Vt-2)*Gt;if(this.ctx.clip_path.length!==0){var dr=this.path;at=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(at,this.posX+this.margin[3],-yt+Xt+this.ctx.prevPageLastElemOffset),se.call(this,"fill",!0),this.path=dr}var Jt=JSON.parse(JSON.stringify(ze));Jt=$([Jt],this.posX+this.margin[3],-yt+Xt+this.ctx.prevPageLastElemOffset)[0];var Tt=(Vt>Kt||Vt<en)&&I.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],on,Gt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Jt.x,Jt.y,Jt.w,Jt.h,null,null,Yt),Tt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(D,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,Yt)};var L=function(D,K,ee){var oe=[];K=K||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":oe.push(Math.floor((D.y+ce)/ee)+1);break;case"arc":oe.push(Math.floor((D.y+ce-D.radius)/ee)+1),oe.push(Math.floor((D.y+ce+D.radius)/ee)+1);break;case"qct":var ve=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);oe.push(Math.floor((ve.y+ce)/ee)+1),oe.push(Math.floor((ve.y+ve.h+ce)/ee)+1);break;case"bct":var De=Ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);oe.push(Math.floor((De.y+ce)/ee)+1),oe.push(Math.floor((De.y+De.h+ce)/ee)+1);break;case"rect":oe.push(Math.floor((D.y+ce)/ee)+1),oe.push(Math.floor((D.y+D.h+ce)/ee)+1)}for(var Le=0;Le<oe.length;Le+=1)for(;this.pdf.internal.getNumberOfPages()<oe[Le];)j.call(this);return oe},j=function(){var D=this.fillStyle,K=this.strokeStyle,ee=this.font,oe=this.lineCap,ce=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=K,this.font=ee,this.lineCap=oe,this.lineWidth=ce,this.lineJoin=ve},$=function(D,K,ee){for(var oe=0;oe<D.length;oe++)switch(D[oe].type){case"bct":D[oe].x2+=K,D[oe].y2+=ee;case"qct":D[oe].x1+=K,D[oe].y1+=ee;default:D[oe].x+=K,D[oe].y+=ee}return D},X=function(D){return D.sort(function(K,ee){return K-ee})},Z=function(D,K){var ee=this.fillStyle,oe=this.strokeStyle,ce=this.lineCap,ve=this.lineWidth,De=Math.abs(ve*this.ctx.transform.scaleX),Le=this.lineJoin;if(this.autoPaging){for(var Be,Xe,nt=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),ct=[],ne=0;ne<tt.length;ne++)if(tt[ne].x!==void 0)for(var et=L.call(this,tt[ne]),Yt=0;Yt<et.length;Yt+=1)ct.indexOf(et[Yt])===-1&&ct.push(et[Yt]);for(var Nt=0;Nt<ct.length;Nt++)for(;this.pdf.internal.getNumberOfPages()<ct[Nt];)j.call(this);X(ct);for(var ze=ct[0],at=ct[ct.length-1],it=ze;it<at+1;it++){this.pdf.setPage(it),this.fillStyle=ee,this.strokeStyle=oe,this.lineCap=ce,this.lineWidth=De,this.lineJoin=Le;var Ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=it===1?this.posY+this.margin[0]:this.margin[0],Kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],en=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Vt=it===1?0:Kt+(it-2)*en;if(this.ctx.clip_path.length!==0){var on=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(Be,this.posX+this.margin[3],-Vt+_t+this.ctx.prevPageLastElemOffset),se.call(this,D,!0),this.path=on}if(Xe=JSON.parse(JSON.stringify(nt)),this.path=$(Xe,this.posX+this.margin[3],-Vt+_t+this.ctx.prevPageLastElemOffset),K===!1||it===0){var Xt=(it>ze||it<at)&&I.call(this);Xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,en,null).clip().discardPath()),se.call(this,D,K),Xt&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}this.path=nt}else this.lineWidth=De,se.call(this,D,K),this.lineWidth=ve},se=function(D,K){if((D!=="stroke"||K||!P.call(this))&&(D==="stroke"||K||!_.call(this))){for(var ee,oe,ce=[],ve=this.path,De=0;De<ve.length;De++){var Le=ve[De];switch(Le.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Le,deltas:[],abs:[]});break;case"lt":var Be=ce.length;if(ve[De-1]&&!isNaN(ve[De-1].x)&&(ee=[Le.x-ve[De-1].x,Le.y-ve[De-1].y],Be>0)){for(;Be>=0;Be--)if(ce[Be-1].close!==!0&&ce[Be-1].begin!==!0){ce[Be-1].deltas.push(ee),ce[Be-1].abs.push(Le);break}}break;case"bct":ee=[Le.x1-ve[De-1].x,Le.y1-ve[De-1].y,Le.x2-ve[De-1].x,Le.y2-ve[De-1].y,Le.x-ve[De-1].x,Le.y-ve[De-1].y],ce[ce.length-1].deltas.push(ee);break;case"qct":var Xe=ve[De-1].x+2/3*(Le.x1-ve[De-1].x),nt=ve[De-1].y+2/3*(Le.y1-ve[De-1].y),tt=Le.x+2/3*(Le.x1-Le.x),ct=Le.y+2/3*(Le.y1-Le.y),ne=Le.x,et=Le.y;ee=[Xe-ve[De-1].x,nt-ve[De-1].y,tt-ve[De-1].x,ct-ve[De-1].y,ne-ve[De-1].x,et-ve[De-1].y],ce[ce.length-1].deltas.push(ee);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Le)}}oe=K?null:D==="stroke"?"stroke":"fill";for(var Yt=!1,Nt=0;Nt<ce.length;Nt++)if(ce[Nt].arc)for(var ze=ce[Nt].abs,at=0;at<ze.length;at++){var it=ze[at];it.type==="arc"?U.call(this,it.x,it.y,it.radius,it.startAngle,it.endAngle,it.counterclockwise,void 0,K,!Yt):F.call(this,it.x,it.y),Yt=!0}else if(ce[Nt].close===!0)this.pdf.internal.out("h"),Yt=!1;else if(ce[Nt].begin!==!0){var Ct=ce[Nt].start.x,_t=ce[Nt].start.y;ue.call(this,ce[Nt].deltas,Ct,_t),Yt=!0}oe&&k.call(this,oe),K&&H.call(this)}},_e=function(D){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-ee;case"top":return D+K-ee;case"hanging":return D+K-2*ee;case"middle":return D+K/2-ee;default:return D}},z=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(K,ee){this.colorStops.push([K,ee])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(D,K,ee,oe,ce,ve,De,Le,Be){for(var Xe=le.call(this,ee,oe,ce,ve),nt=0;nt<Xe.length;nt++){var tt=Xe[nt];nt===0&&(Be?C.call(this,tt.x1+D,tt.y1+K):F.call(this,tt.x1+D,tt.y1+K)),Ne.call(this,D,K,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}Le?H.call(this):k.call(this,De)},k=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(D,K){this.pdf.internal.out(t(D)+" "+r(K)+" m")},M=function(D){var K;switch(D.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var ee,oe,ce,ve=this.pdf.getTextDimensions(D.text),De=_e.call(this,D.y),Le=z.call(this,De)-ve.h,Be=this.ctx.transform.applyToPoint(new u(D.x,De));if(this.autoPaging){var Xe=this.ctx.transform.decompose(),nt=new f;nt=(nt=(nt=nt.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale);for(var tt=this.ctx.transform.applyToRectangle(new c(D.x,De,ve.w,ve.h)),ct=nt.applyToRectangle(new c(D.x,Le,ve.w,ve.h)),ne=L.call(this,ct),et=[],Yt=0;Yt<ne.length;Yt+=1)et.indexOf(ne[Yt])===-1&&et.push(ne[Yt]);X(et);for(var Nt=et[0],ze=et[et.length-1],at=Nt;at<ze+1;at++){this.pdf.setPage(at);var it=at===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],Kt=_t-this.margin[0],en=this.pdf.internal.pageSize.width-this.margin[1],Vt=en-this.margin[3],on=at===1?0:Ct+(at-2)*Kt;if(this.ctx.clip_path.length!==0){var Xt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(ee,this.posX+this.margin[3],-1*on+it),se.call(this,"fill",!0),this.path=Xt}var gt=$([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-on+it+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*D.scale),ce=this.lineWidth,this.lineWidth=ce*D.scale);var Gt=this.autoPaging!=="text";if(Gt||gt.y+gt.h<=_t){if(Gt||gt.y>=it&&gt.x<=en){var yt=Gt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||en-gt.x)[0],dr=$([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-on+it+this.ctx.prevPageLastElemOffset)[0],Jt=Gt&&(at>Nt||at<ze)&&I.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,Kt,null).clip().discardPath()),this.pdf.text(yt,dr.x,dr.y,{angle:D.angle,align:K,renderingMode:D.renderingMode}),Jt&&this.pdf.restoreGraphicsState()}}else gt.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-gt.y);D.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=ce)}}else D.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*D.scale),ce=this.lineWidth,this.lineWidth=ce*D.scale),this.pdf.text(D.text,Be.x+this.posX,Be.y+this.posY,{angle:D.angle,align:K,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=ce)},F=function(D,K,ee,oe){ee=ee||0,oe=oe||0,this.pdf.internal.out(t(D+ee)+" "+r(K+oe)+" l")},ue=function(D,K,ee){return this.pdf.lines(D,K,ee,null,null)},Ne=function(D,K,ee,oe,ce,ve,De,Le){this.pdf.internal.out([e(a(ee+D)),e(o(oe+K)),e(a(ce+D)),e(o(ve+K)),e(a(De+D)),e(o(Le+K)),"c"].join(" "))},le=function(D,K,ee,oe){for(var ce=2*Math.PI,ve=Math.PI/2;K>ee;)K-=ce;var De=Math.abs(ee-K);De<ce&&oe&&(De=ce-De);for(var Le=[],Be=oe?-1:1,Xe=K;De>1e-5;){var nt=Xe+Be*Math.min(De,ve);Le.push(ge.call(this,D,Xe,nt)),De-=Math.abs(nt-Xe),Xe=nt}return Le},ge=function(D,K,ee){var oe=(ee-K)/2,ce=D*Math.cos(oe),ve=D*Math.sin(oe),De=ce,Le=-ve,Be=De*De+Le*Le,Xe=Be+De*ce+Le*ve,nt=4/3*(Math.sqrt(2*Be*Xe)-Xe)/(De*ve-Le*ce),tt=De-nt*Le,ct=Le+nt*De,ne=tt,et=-ct,Yt=oe+K,Nt=Math.cos(Yt),ze=Math.sin(Yt);return{x1:D*Math.cos(K),y1:D*Math.sin(K),x2:tt*Nt-ct*ze,y2:tt*ze+ct*Nt,x3:ne*Nt-et*ze,y3:ne*ze+et*Nt,x4:D*Math.cos(ee),y4:D*Math.sin(ee)}},pe=function(D){return 180*D/Math.PI},Ce=function(D,K,ee,oe,ce,ve){var De=D+.5*(ee-D),Le=K+.5*(oe-K),Be=ce+.5*(ee-ce),Xe=ve+.5*(oe-ve),nt=Math.min(D,ce,De,Be),tt=Math.max(D,ce,De,Be),ct=Math.min(K,ve,Le,Xe),ne=Math.max(K,ve,Le,Xe);return new c(nt,ct,tt-nt,ne-ct)},Ge=function(D,K,ee,oe,ce,ve,De,Le){var Be,Xe,nt,tt,ct,ne,et,Yt,Nt,ze,at,it,Ct,_t,Kt=ee-D,en=oe-K,Vt=ce-ee,on=ve-oe,Xt=De-ce,gt=Le-ve;for(Xe=0;Xe<41;Xe++)Nt=(et=(nt=D+(Be=Xe/40)*Kt)+Be*((ct=ee+Be*Vt)-nt))+Be*(ct+Be*(ce+Be*Xt-ct)-et),ze=(Yt=(tt=K+Be*en)+Be*((ne=oe+Be*on)-tt))+Be*(ne+Be*(ve+Be*gt-ne)-Yt),Xe==0?(at=Nt,it=ze,Ct=Nt,_t=ze):(at=Math.min(at,Nt),it=Math.min(it,ze),Ct=Math.max(Ct,Nt),_t=Math.max(_t,ze));return new c(Math.round(at),Math.round(it),Math.round(Ct-at),Math.round(_t-it))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,K,ee=(D=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:K}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(Et.API),(function(n){var e=function(u){var c,f,d,g,w,A,_,P,I,L;for(f=[],d=0,g=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;g>d;d+=4)(w=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(A=(w=((w=((w=((w=(w-(L=w%85))/85)-(I=w%85))/85)-(P=w%85))/85)-(_=w%85))/85)%85,f.push(A+33,_+33,P+33,I+33,L+33)):f.push(122);return(function(j,$){for(var X=$;X>0;X--)j.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(u){var c,f,d,g,w,A=String,_="length",P=255,I="charCodeAt",L="slice",j="replace";for(u[L](-2),u=u[L](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),d=[],g=0,w=(u+=c="uuuuu"[L](u[_]%5||5))[_];w>g;g+=5)f=52200625*(u[I](g)-33)+614125*(u[I](g+1)-33)+7225*(u[I](g+2)-33)+85*(u[I](g+3)-33)+(u[I](g+4)-33),d.push(P&f>>24,P&f>>16,P&f>>8,P&f);return(function($,X){for(var Z=X;Z>0;Z--)$.pop()})(d,c[_]),A.fromCharCode.apply(A,d)},r=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=d2(c)).reduce(function(d,g){return d+String.fromCharCode(g)},"")};n.processDataByFilters=function(u,c){var f=0,d=u||"",g=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:g.reverse().join(" ")}}})(Et.API),(function(n){n.loadFile=function(e,t,r){return(function(a,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,d,g){var w=new XMLHttpRequest,A=0,_=function(P){var I=P.length,L=[],j=String.fromCharCode;for(A=0;A<I;A+=1)L.push(j(255&P.charCodeAt(A)));return L.join("")};if(w.open("GET",f,!d),w.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(w.onload=function(){w.status===200?g(_(this.responseText)):g(void 0)}),w.send(null),d&&w.status===200)return _(w.responseText)})(a,o,u)}catch{}return c})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(Et.API),(function(n){function e(){return($t.html2canvas?Promise.resolve($t.html2canvas):l1(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return($t.DOMPurify?Promise.resolve($t.DOMPurify):l1(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var f=Zn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var d=document.createElement(c);for(var g in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[g]=f.style[g];return d},o=function c(f,d){for(var g=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)d!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||g.appendChild(c(w,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(g.value=f.value),g.addEventListener("load",function(){g.scrollTop=f.scrollTop,g.scrollLeft=f.scrollLeft},!0)),g},u=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),g=c.convert(Promise.resolve(),d);return(g=g.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,g=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=g,g)for(var _=0;_<g.length;++_){var P=g[_],I=P.src.find(function(L){return L.format==="truetype"});I&&d.addFont(I.url,P.ref.name,P.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,d.context2d.save(!0),f(this.prop.container,A)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(r(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var d=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},u.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(d,g){return Math.floor(d*g/72*96)}return this.then(function(){(c=c||Et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,d,g){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,d,g){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,g?this.progress.stack.concat(g):null)},u.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(g,w){return d.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(A){return d.updateProgress(null,g),A}).then(g,w).then(function(A){return d.updateProgress(1),A})})},u.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var g=this;c&&(c=c.bind(g)),f&&(f=f.bind(g));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:u.convert(Object.assign({},g),Promise.prototype),A=d.call(w,c,f);return u.convert(A,g.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Et.getPageSize=function(c,f,d){if(Zn(c)==="object"){var g=c;c=g.orientation,f=g.unit||f,d=g.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var w,A=(""+d).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+f}var P,I=0,L=0;if(_.hasOwnProperty(A))I=_[A][1]/w,L=_[A][0]/w;else try{I=d[1],L=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",L>I&&(P=L,L=I,I=P);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",I>L&&(P=L,L=I,I=P)}return{width:L,height:I,unit:f,k:w,orientation:c}},n.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(N1):null;var d=new u(f);return f.worker?d:d.from(c).doCallback()}})(Et.API),Et.API.addJS=function(n){var e,t,r=n;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var u=a[o],c=r.exec(u);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,g=[];for(o=0;o<d;o++){var w=t.internal.newObject();g.push(w);var A=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var _=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<g.length;o++)t.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+_+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,o){var u={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var u=r.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(Et.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,a,o,u,c){var f,d=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(w){for(var A,_=256*w.charCodeAt(4)+w.charCodeAt(5),P=w.length,I={width:0,height:0,numcomponents:1},L=4;L<P;L+=2){if(L+=_,e.indexOf(w.charCodeAt(L+1))!==-1){A=256*w.charCodeAt(L+5)+w.charCodeAt(L+6),I={width:256*w.charCodeAt(L+7)+w.charCodeAt(L+8),height:A,numcomponents:w.charCodeAt(L+9)};break}_=256*w.charCodeAt(L+2)+w.charCodeAt(L+3)}return I})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}g={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:a}}return g}})(Et.API),Et.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=nP(n,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,d=o.palette,g=o.depth;a=d&&f===1?(function(U){for(var k=U.width,H=U.height,C=U.data,M=U.palette,F=U.depth,ue=!1,Ne=[],le=[],ge=void 0,pe=!1,Ce=0,Ge=0;Ge<M.length;Ge++){var W=ew(M[Ge],4),D=W[0],K=W[1],ee=W[2],oe=W[3];Ne.push(D,K,ee),oe!=null&&(oe===0?(Ce++,le.length<1&&le.push(Ge)):oe<255&&(pe=!0))}if(pe||Ce>1){ue=!0,le=void 0;var ce=k*H;ge=new Uint8Array(ce);for(var ve=new DataView(C.buffer),De=0;De<ce;De++){var Le=C1(ve,De,F),Be=ew(M[Le],4)[3];ge[De]=Be}}else Ce===0&&(le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ue?8:void 0,colorBytes:C,alphaBytes:ge,needSMask:ue,palette:Ne,mask:le}})(o):f===2||f===4?(function(U){for(var k=U.data,H=U.width,C=U.height,M=U.channels,F=U.depth,ue=M===2?"DeviceGray":"DeviceRGB",Ne=M-1,le=H*C,ge=Ne,pe=le*ge,Ce=1*le,Ge=Math.ceil(pe*F/8),W=Math.ceil(Ce*F/8),D=new Uint8Array(Ge),K=new Uint8Array(W),ee=new DataView(k.buffer),oe=new DataView(D.buffer),ce=new DataView(K.buffer),ve=!1,De=0;De<le;De++){for(var Le=De*M,Be=0;Be<ge;Be++)rx(oe,C1(ee,Le+Be,F),De*ge+Be,F);var Xe=C1(ee,Le+ge,F);Xe<(1<<F)-1&&(ve=!0),rx(ce,Xe,1*De,F)}return{colorSpace:ue,colorsPerPixel:Ne,sMaskBitsPerComponent:ve?F:void 0,colorBytes:D,alphaBytes:K,needSMask:ve}})(o):(function(U){var k=U.data,H=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?(function(C){for(var M=C.length,F=new Uint8Array(2*M),ue=new DataView(F.buffer,F.byteOffset,F.byteLength),Ne=0;Ne<M;Ne++)ue.setUint16(2*Ne,C[Ne],!1);return F})(k):k,needSMask:!1}})(o);var w,A,_,P=a,I=P.colorSpace,L=P.colorsPerPixel,j=P.sMaskBitsPerComponent,$=P.colorBytes,X=P.alphaBytes,Z=P.needSMask,se=P.palette,_e=P.mask,z=null;return r!==Et.API.image_compression.NONE&&typeof d2=="function"?(z=(function(U){var k;switch(U){case Et.API.image_compression.FAST:k=11;break;case Et.API.image_compression.MEDIUM:k=13;break;case Et.API.image_compression.SLOW:k=14;break;default:k=12}return k})(r),w=this.decode.FLATE_DECODE,A="/Predictor ".concat(z," /Colors ").concat(L," /BitsPerComponent ").concat(g," /Columns ").concat(u),n=Jw($,Math.ceil(u*L*g/8),L,g,r),Z&&(_=Jw(X,Math.ceil(u*j/8),1,j,r))):(w=void 0,A=void 0,n=$,Z&&(_=X)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:t,data:n,index:e,filter:w,decodeParameters:A,transparency:_e,palette:se,sMask:_,predictor:z,width:u,height:c,bitsPerComponent:g,sMaskBitsPerComponent:j,colorSpace:I}}},(function(n){n.processGIF89A=function(e,t,r,a){var o=new SP(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:c},g=new R1(100).encode(d,100);return n.processJPEG.call(this,g,t,r,a)},n.processGIF87A=n.processGIF89A})(Et.API),wo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},wo.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[n]()}catch(t){fr.log("bit decode error:"+t)}},wo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}t!==0&&(this.pos+=4-t)}},wo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},wo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(a<this.palette.length){var u=this.palette[a];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},wo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,g=r*this.width*4+4*a;this.data[g]=f,this.data[g+1]=c,this.data[g+2]=u,this.data[g+3]=d}this.pos+=n}},wo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,g=a*this.width*4+4*o;this.data[g]=d,this.data[g+1]=f,this.data[g+2]=c,this.data[g+3]=255}this.pos+=n}},wo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},wo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=u}},wo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,a){var o=new wo(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new R1(100).encode(f,100);return n.processJPEG.call(this,d,t,r,a)}})(Et.API),ax.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,a){var o=new ax(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new R1(100).encode(f,100);return n.processJPEG.call(this,d,t,r,a)}})(Et.API),Et.API.processRGBA=function(n,e,t){for(var r=n.data,a=r.length,o=new Uint8Array(a/4*3),u=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var g=r[d],w=r[d+1],A=r[d+2],_=r[d+3];o[c++]=g,o[c++]=w,o[c++]=A,u[f++]=_}var P=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:P,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Et.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Th=Et.API,im=Th.getCharWidthsArray=function(n,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,g=d.fof?d.fof:1,w=e.doKerning!==!1,A=0,_=n.length,P=0,I=c[0]||f,L=[];for(t=0;t<_;t++)r=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?L.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+u*(1e3/o)||0)/1e3):(A=w&&Zn(d[r])==="object"&&!isNaN(parseInt(d[r][P],10))?d[r][P]/g:0,L.push((c[r]||I)/f+A)),P=r;return L},Kw=Th.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Th.processArabic&&(n=Th.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,a)/t:im.apply(this,arguments).reduce(function(o,u){return o+u},0)},Qw=function(n,e,t,r){for(var a=[],o=0,u=n.length,c=0;o!==u&&c+e[o]<t;)c+=e[o],o++;a.push(n.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>r&&(a.push(n.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&a.push(n.slice(f,o)),a},Xw=function(n,e,t){t||(t={});var r,a,o,u,c,f,d,g=[],w=[g],A=t.textIndent||0,_=0,P=0,I=n.split(" "),L=im.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?I[0].length+2:t.lineIndent||0){var j=Array(f).join(" "),$=[];I.map(function(Z){(Z=Z.split(/\s*\n/)).length>1?$=$.concat(Z.map(function(se,_e){return(_e&&se.length?`
`:"")+se})):$.push(Z[0])}),I=$,f=Kw.apply(this,[j,t])}for(o=0,u=I.length;o<u;o++){var X=0;if(r=I[o],f&&r[0]==`
`&&(r=r.substr(1),X=1),A+_+(P=(a=im.apply(this,[r,t])).reduce(function(Z,se){return Z+se},0))>e||X){if(P>e){for(c=Qw.apply(this,[r,a,e-(A+_),e]),g.push(c.shift()),g=[c.pop()];c.length;)w.push([c.shift()]);P=a.slice(r.length-(g[0]?g[0].length:0)).reduce(function(Z,se){return Z+se},0)}else g=[r];w.push(g),A=P+f,_=L}else g.push(r),A+=_+P,_=L}return d=f?function(Z,se){return(se?j:"")+Z.join(" ")}:function(Z){return Z.join(" ")},w.map(d)},Th.splitTextToSize=function(n,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var w=this.internal.getFont(g.fontName,g.fontStyle),A="Unicode";return w.metadata[A]?{widths:w.metadata[A].widths||{0:1},kerning:w.metadata[A].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=r.length;c<f;c++)d=d.concat(Xw.apply(this,[r[c],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[t[o]]=e[o],a[e[o]]=t[o];var u=function(A){return"0x"+parseInt(A,10).toString(16)},c=n.__fontmetrics__.compress=function(A){var _,P,I,L,j=["{"];for(var $ in A){if(_=A[$],isNaN(parseInt($,10))?P="'"+$+"'":($=parseInt($,10),P=(P=u($).slice(2)).slice(0,-1)+a[P.slice(-1)]),typeof _=="number")_<0?(I=u(_).slice(3),L="-"):(I=u(_).slice(2),L=""),I=L+I.slice(0,-1)+a[I.slice(-1)];else{if(Zn(_)!=="object")throw new Error("Don't know what to do with value type "+Zn(_)+".");I=c(_)}j.push(P+I)}return j.push("}"),j.join("")},f=n.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,P,I,L,j={},$=1,X=j,Z=[],se="",_e="",z=A.length-1,U=1;U<z;U+=1)(L=A[U])=="'"?_?(I=_.join(""),_=void 0):_=[]:_?_.push(L):L=="{"?(Z.push([X,I]),X={},I=void 0):L=="}"?((P=Z.pop())[0][P[1]]=X,I=void 0,X=P[0]):L=="-"?$=-1:I===void 0?r.hasOwnProperty(L)?(se+=r[L],I=parseInt(se,16)*$,$=1,se=""):se+=L:r.hasOwnProperty(L)?(_e+=r[L],X[I]=parseInt(_e,16)*$,$=1,I=void 0,_e=""):_e+=L;return j},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},w={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(A){var _=A.font,P=w.Unicode[_.postScriptName];P&&(_.metadata.Unicode={},_.metadata.Unicode.widths=P.widths,_.metadata.Unicode.kerning=P.kerning);var I=g.Unicode[_.postScriptName];I&&(_.metadata.Unicode.encoding=I,_.encoding=I.codePages[0])}])})(Et.API),(function(n){var e=function(t){for(var r=t.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=t.charCodeAt(o);return a};n.API.events.push(["addFont",function(t){var r=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(vm(c)),u.metadata=n.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(a,r)}}])})(Et),Et.API.addSvgAsImage=function(n,e,t,r,a,o,u,c){if(isNaN(e)||isNaN(t))throw fr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw fr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return($t.canvg?Promise.resolve($t.canvg):l1(()=>import("./index.es-CQSzTt92.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A}).then(function(A){return A.fromString(d,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(g)}).then(function(){w.addImage(f.toDataURL("image/jpeg",1),e,t,r,a,u,c)})},Et.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},Et.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,a,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],d=0,g=0,w=0;function A(P,I){var L,j=!1;for(L=0;L<P.length;L+=1)P[L]===I&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var _=c.length;for(w=0;w<_;w+=1)t[c[w]].value=t[c[w]].defaultValue,t[c[w]].explicitSet=!1}if(Zn(n)==="object"){for(a in n)if(o=n[a],A(c,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&A(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(g=0;g<o[d].length;g+=1)typeof o[d][g]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var P,I=[];for(P in t)t[P].explicitSet===!0&&(t[P].type==="name"?I.push("/"+P+" /"+t[P].value):I.push("/"+P+" "+t[P].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},Et.API.addMetadata=function(n,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",EP),this.internal.events.subscribe("postPutResources",AP)),this},(function(n){var e=n.API,t=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],g=[""],w=0,A=o.length;w<A;++w){if(c=u.metadata.characterToGlyph(o.charCodeAt(w)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(w),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return g.join("");c=c.toString(16),g.push(d[4-c.length],c)}return g.join("")},r=function(o){var u,c,f,d,g,w,A;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,A=(c=Object.keys(o).sort(function(_,P){return _-P})).length;w<A;w++)u=c[w],f.length>=100&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,g=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,A=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),_="",P=0;P<A.length;P++)_+=String.fromCharCode(A[P]);var I=d();g({data:_,addLength1:!0,objectId:I}),f("endobj");var L=d();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:L}),f("endobj");var j=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Dh(c.fontName)),f("/FontFile2 "+I+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var $=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+Dh(c.fontName)),f("/FontDescriptor "+j+" 0 R"),f("/W "+n.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+L+" 0 R"),f("/BaseFont /"+Dh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+$+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,g=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,A="",_=0;_<w.length;_++)A+=String.fromCharCode(w[_]);var P=d();g({data:A,addLength1:!0,objectId:P}),f("endobj");var I=d();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:I}),f("endobj");var L=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+P+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+Dh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var j=0;j<c.metadata.hmtx.widths.length;j++)c.metadata.hmtx.widths[j]=parseInt(c.metadata.hmtx.widths[j]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+Dh(c.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var u,c=o.text||"",f=o.x,d=o.y,g=o.options||{},w=o.mutex||{},A=w.pdfEscape,_=w.activeFontKey,P=w.fonts,I=_,L="",j=0,$="",X=P[I].encoding;if(P[I].encoding!=="Identity-H")return{text:c,x:f,y:d,options:g,mutex:w};for($=c,I=_,Array.isArray(c)&&($=c[0]),j=0;j<$.length;j+=1)P[I].metadata.hasOwnProperty("cmap")&&(u=P[I].metadata.cmap.unicode.codeMap[$[j].charCodeAt(0)]),u||$[j].charCodeAt(0)<256&&P[I].metadata.hasOwnProperty("Unicode")?L+=$[j]:L+="";var Z="";return parseInt(I.slice(1))<14||X==="WinAnsiEncoding"?Z=A(L,I).split("").map(function(se){return se.charCodeAt(0).toString(16)}).join(""):X==="Identity-H"&&(Z=t(L,P[I])),w.isHex=!0,{text:Z,x:f,y:d,options:g,mutex:w}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([a(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(a(Object.assign({},f,{text:u[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:u})).text}])})(Et),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Et.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,o,u,c,f,d,g,w=e,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),$=!1,X=0;this.__bidiEngine__={};var Z=function(C){var M=C.charCodeAt(),F=M>>8,ue=I[F];return ue!==void 0?w[256*ue+(255&M)]:F===252||F===253?"AL":j.test(F)?"L":F===8?"R":"N"},se=function(C){for(var M,F=0;F<C.length;F++){if((M=Z(C.charAt(F)))==="L")return!1;if(M==="R")return!0}return!1},_e=function(C,M,F,ue){var Ne,le,ge,pe,Ce=M[ue];switch(Ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":$=!1;break;case"N":case"AN":break;case"EN":$&&(Ce="AN");break;case"AL":$=!0,Ce="R";break;case"WS":case"BN":Ce="N";break;case"CS":ue<1||ue+1>=M.length||(Ne=F[ue-1])!=="EN"&&Ne!=="AN"||(le=M[ue+1])!=="EN"&&le!=="AN"?Ce="N":$&&(le="AN"),Ce=le===Ne?le:"N";break;case"ES":Ce=(Ne=ue>0?F[ue-1]:"B")==="EN"&&ue+1<M.length&&M[ue+1]==="EN"?"EN":"N";break;case"ET":if(ue>0&&F[ue-1]==="EN"){Ce="EN";break}if($){Ce="N";break}for(ge=ue+1,pe=M.length;ge<pe&&M[ge]==="ET";)ge++;Ce=ge<pe&&M[ge]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(pe=M.length,ge=ue+1;ge<pe&&M[ge]==="NSM";)ge++;if(ge<pe){var Ge=C[ue],W=Ge>=1425&&Ge<=2303||Ge===64286;if(Ne=M[ge],W&&(Ne==="R"||Ne==="AL")){Ce="R";break}}}Ce=ue<1||(Ne=M[ue-1])==="B"?"N":F[ue-1];break;case"B":$=!1,a=!0,Ce=X;break;case"S":o=!0,Ce="N"}return Ce},z=function(C,M,F){var ue=C.split("");return F&&U(ue,F,{hiLevel:X}),ue.reverse(),M&&M.reverse(),ue.join("")},U=function(C,M,F){var ue,Ne,le,ge,pe,Ce=-1,Ge=C.length,W=0,D=[],K=X?_:A,ee=[];for($=!1,a=!1,o=!1,Ne=0;Ne<Ge;Ne++)ee[Ne]=Z(C[Ne]);for(le=0;le<Ge;le++){if(pe=W,D[le]=_e(C,ee,D,le),ue=240&(W=K[pe][P[D[le]]]),W&=15,M[le]=ge=K[W][5],ue>0)if(ue===16){for(Ne=Ce;Ne<le;Ne++)M[Ne]=1;Ce=-1}else Ce=-1;if(K[W][6])Ce===-1&&(Ce=le);else if(Ce>-1){for(Ne=Ce;Ne<le;Ne++)M[Ne]=ge;Ce=-1}ee[le]==="B"&&(M[le]=0),F.hiLevel|=ge}o&&(function(oe,ce,ve){for(var De=0;De<ve;De++)if(oe[De]==="S"){ce[De]=X;for(var Le=De-1;Le>=0&&oe[Le]==="WS";Le--)ce[Le]=X}})(ee,M,Ge)},k=function(C,M,F,ue,Ne){if(!(Ne.hiLevel<C)){if(C===1&&X===1&&!a)return M.reverse(),void(F&&F.reverse());for(var le,ge,pe,Ce,Ge=M.length,W=0;W<Ge;){if(ue[W]>=C){for(pe=W+1;pe<Ge&&ue[pe]>=C;)pe++;for(Ce=W,ge=pe-1;Ce<ge;Ce++,ge--)le=M[Ce],M[Ce]=M[ge],M[ge]=le,F&&(le=F[Ce],F[Ce]=F[ge],F[ge]=le);W=pe}W++}}},H=function(C,M,F){var ue=C.split(""),Ne={hiLevel:X};return F||(F=[]),U(ue,F,Ne),(function(le,ge,pe){if(pe.hiLevel!==0&&g)for(var Ce,Ge=0;Ge<le.length;Ge++)ge[Ge]===1&&(Ce=L.indexOf(le[Ge]))>=0&&(le[Ge]=L[Ce+1])})(ue,F,Ne),k(2,ue,M,F,Ne),k(1,ue,M,F,Ne),ue.join("")};return this.__bidiEngine__.doBidiReorder=function(C,M,F){if((function(Ne,le){if(le)for(var ge=0;ge<Ne.length;ge++)le[ge]=ge;c===void 0&&(c=se(Ne)),d===void 0&&(d=se(Ne))})(C,M),u||!f||d)if(u&&f&&c^d)X=c?1:0,C=z(C,M,F);else if(!u&&f&&d)X=c?1:0,C=H(C,M,F),C=z(C,M);else if(!u||c||f||d){if(u&&!f&&c^d)C=z(C,M),c?(X=0,C=H(C,M,F)):(X=1,C=H(C,M,F),C=z(C,M));else if(u&&c&&!f&&d)X=1,C=H(C,M,F),C=z(C,M);else if(!u&&!f&&c^d){var ue=g;c?(X=1,C=H(C,M,F),X=0,g=!1,C=H(C,M,F),g=ue):(X=0,C=H(C,M,F),C=z(C,M),X=1,g=!1,C=H(C,M,F),g=ue,C=z(C,M))}}else X=0,C=H(C,M,F);else X=c?1:0,C=H(C,M,F);return C},this.__bidiEngine__.setOptions=function(C){C&&(u=C.isInputVisual,f=C.isOutputVisual,c=C.isInputRtl,d=C.isOutputRtl,g=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(u=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?u.push([t.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):u.push([t.doBidiReorder(a[c])]);r.text=u}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Et),Et.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Zu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new BP(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new NP(this.contents),this.head=new CP(this),this.name=new DP(this),this.cmap=new iA(this),this.toUnicode={},this.hhea=new RP(this),this.maxp=new OP(this),this.hmtx=new PP(this),this.post=new LP(this),this.os2=new IP(this),this.loca=new FP(this),this.glyf=new jP(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var a,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var Io,Zu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,a,o,u,c,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*o+65536*u+256*c+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,a,o;for(o=[],r=0,a=e.length;r<a;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),NP=(function(){var n;function e(t){var r,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,o,u,c,f,d,g,w,A,_,P,I;for(I in _=Object.keys(t).length,f=Math.log(2),w=16*Math.floor(Math.log(_)/f),u=Math.floor(w/f),g=16*_-w,(a=new Zu).writeInt(this.scalarType),a.writeShort(_),a.writeShort(w),a.writeShort(u),a.writeShort(g),o=16*_,d=a.pos+o,c=null,P=[],t)for(A=t[I],a.writeString(I),a.writeInt(n(A)),a.writeInt(d),a.writeInt(A.length),P=P.concat(A),I==="head"&&(c=d),d+=A.length;d%4;)P.push(0),d++;return a.write(P),r=2981146554-n(a.data),a.pos=c+8,a.writeUInt32(r),a.data},n=function(t){var r,a,o,u;for(t=aA.call(t);t.length%4;)t.push(0);for(o=new Zu(t),a=0,r=0,u=t.length;r<u;r=r+=4)a+=o.readUInt32();return 4294967295&a},e})(),TP={}.hasOwnProperty,cl=function(n,e){for(var t in e)TP.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Io=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var CP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cl(n,Io),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Zu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),sx=(function(){function n(e,t){var r,a,o,u,c,f,d,g,w,A,_,P,I,L,j,$,X;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(_=e.readUInt16(),A=_/2,e.pos+=6,o=(function(){var Z,se;for(se=[],f=Z=0;0<=A?Z<A:Z>A;f=0<=A?++Z:--Z)se.push(e.readUInt16());return se})(),e.pos+=2,I=(function(){var Z,se;for(se=[],f=Z=0;0<=A?Z<A:Z>A;f=0<=A?++Z:--Z)se.push(e.readUInt16());return se})(),d=(function(){var Z,se;for(se=[],f=Z=0;0<=A?Z<A:Z>A;f=0<=A?++Z:--Z)se.push(e.readUInt16());return se})(),g=(function(){var Z,se;for(se=[],f=Z=0;0<=A?Z<A:Z>A;f=0<=A?++Z:--Z)se.push(e.readUInt16());return se})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var Z,se;for(se=[],f=Z=0;0<=a?Z<a:Z>a;f=0<=a?++Z:--Z)se.push(e.readUInt16());return se})(),f=j=0,X=o.length;j<X;f=++j)for(L=o[f],r=$=P=I[f];P<=L?$<=L:$>=L;r=P<=L?++$:--$)g[f]===0?u=r+d[f]:(u=c[g[f]/2+(r-P)-(A-f)]||0)!==0&&(u+=d[f]),this.codeMap[r]=65535&u}e.pos=w}return n.encode=function(e,t){var r,a,o,u,c,f,d,g,w,A,_,P,I,L,j,$,X,Z,se,_e,z,U,k,H,C,M,F,ue,Ne,le,ge,pe,Ce,Ge,W,D,K,ee,oe,ce,ve,De,Le,Be,Xe,nt;switch(ue=new Zu,u=Object.keys(e).sort(function(tt,ct){return tt-ct}),t){case"macroman":for(I=0,L=(function(){var tt=[];for(P=0;P<256;++P)tt.push(0);return tt})(),$={0:0},o={},Ne=0,Ce=u.length;Ne<Ce;Ne++)$[Le=e[a=u[Ne]]]==null&&($[Le]=++I),o[a]={old:e[a],new:$[e[a]]},L[a]=$[e[a]];return ue.writeUInt16(1),ue.writeUInt16(0),ue.writeUInt32(12),ue.writeUInt16(0),ue.writeUInt16(262),ue.writeUInt16(0),ue.write(L),{charMap:o,subtable:ue.data,maxGlyphID:I+1};case"unicode":for(M=[],w=[],X=0,$={},r={},j=d=null,le=0,Ge=u.length;le<Ge;le++)$[se=e[a=u[le]]]==null&&($[se]=++X),r[a]={old:se,new:$[se]},c=$[se]-a,j!=null&&c===d||(j&&w.push(j),M.push(a),d=c),j=a;for(j&&w.push(j),w.push(65535),M.push(65535),H=2*(k=M.length),U=2*Math.pow(Math.log(k)/Math.LN2,2),A=Math.log(U/2)/Math.LN2,z=2*k-U,f=[],_e=[],_=[],P=ge=0,W=M.length;ge<W;P=++ge){if(C=M[P],g=w[P],C===65535){f.push(0),_e.push(0);break}if(C-(F=r[C].new)>=32768)for(f.push(0),_e.push(2*(_.length+k-P)),a=pe=C;C<=g?pe<=g:pe>=g;a=C<=g?++pe:--pe)_.push(r[a].new);else f.push(F-C),_e.push(0)}for(ue.writeUInt16(3),ue.writeUInt16(1),ue.writeUInt32(12),ue.writeUInt16(4),ue.writeUInt16(16+8*k+2*_.length),ue.writeUInt16(0),ue.writeUInt16(H),ue.writeUInt16(U),ue.writeUInt16(A),ue.writeUInt16(z),ve=0,D=w.length;ve<D;ve++)a=w[ve],ue.writeUInt16(a);for(ue.writeUInt16(0),De=0,K=M.length;De<K;De++)a=M[De],ue.writeUInt16(a);for(Be=0,ee=f.length;Be<ee;Be++)c=f[Be],ue.writeUInt16(c);for(Xe=0,oe=_e.length;Xe<oe;Xe++)Z=_e[Xe],ue.writeUInt16(Z);for(nt=0,ce=_.length;nt<ce;nt++)I=_[nt],ue.writeUInt16(I);return{charMap:r,subtable:ue.data,maxGlyphID:X+1}}},n})(),iA=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cl(n,Io),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)t=new sx(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,a;return t==null&&(t="macroman"),r=sx.encode(e,t),(a=new Zu).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},n})(),RP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cl(n,Io),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),IP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cl(n,Io),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),LP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cl(n,Io),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},n})(),kP=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},DP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cl(n,Io),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,a,o,u,c,f,d,g,w,A;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=g=0,w=r.length;g<w;o=++g)a=r[o],e.pos=a.offset,d=e.readString(a.length),u=new kP(d,a),f[A=a.nameID]==null&&(f[A]=[]),f[a.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),OP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cl(n,Io),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),PP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cl(n,Io),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,a,o,u,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,g;for(g=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)g.push(e.readInt16());return g})(),this.widths=(function(){var d,g,w,A;for(A=[],d=0,g=(w=this.metrics).length;d<g;d++)o=w[d],A.push(o.advance);return A}).call(this),r=this.widths[this.widths.length-1],f=[],t=u=0;0<=a?u<a:u>a;t=0<=a?++u:--u)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),aA=[].slice,jP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cl(n,Io),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,a,o,u,c,f,d,g,w;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,u=(c=new Zu(t.read(a))).readShort(),d=c.readShort(),w=c.readShort(),f=c.readShort(),g=c.readShort(),this.cache[e]=u===-1?new UP(c,d,w,f,g):new MP(c,u,d,w,f,g),this.cache[e]))},n.prototype.encode=function(e,t,r){var a,o,u,c,f;for(u=[],o=[],c=0,f=t.length;c<f;c++)a=e[t[c]],o.push(u.length),a&&(u=u.concat(a.encode(r)));return o.push(u.length),{table:u,offsets:o}},n})(),MP=(function(){function n(e,t,r,a,o,u){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),UP=(function(){function n(e,t,r,a,o){var u,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Zu(aA.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),FP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return cl(n,Io),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,u=0;u<r.length;++u)if(r[u]=a,o<t.length&&t[o]==u){++o,r[u]=a;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(a+=f)}for(var d=new Array(4*r.length),g=0;g<r.length;++g)d[4*g+3]=255&r[g],d[4*g+2]=(65280&r[g])>>8,d[4*g+1]=(16711680&r[g])>>16,d[4*g]=(4278190080&r[g])>>24;return d},n})(),BP=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=a[r];return e},n.prototype.glyphsFor=function(e){var t,r,a,o,u,c,f;for(a={},u=0,c=e.length;u<c;u++)a[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(r=a[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],a[o]=r;return a},n.prototype.encode=function(e,t){var r,a,o,u,c,f,d,g,w,A,_,P,I,L,j;for(a in r=iA.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),_={0:0},j=r.charMap)_[(f=j[a]).old]=f.new;for(P in A=r.maxGlyphID,u)P in _||(_[P]=A++);return g=(function($){var X,Z;for(X in Z={},$)Z[$[X]]=X;return Z})(_),w=Object.keys(g).sort(function($,X){return $-X}),I=(function(){var $,X,Z;for(Z=[],$=0,X=w.length;$<X;$++)c=w[$],Z.push(g[c]);return Z})(),o=this.font.glyf.encode(u,I,_),d=this.font.loca.encode(o.offsets,I),L={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},n})();Et.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,o,u;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)r=t[c],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)u=t[a],o.push("/"+a+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e})();function sA(n,e,t,r,a){r=r||{};var o=1.15,u=a.internal.scaleFactor,c=a.internal.getFontSize()/u,f=a.getLineHeightFactor?a.getLineHeightFactor():o,d=c*f,g=/\r\n|\r|\n/g,w="",A=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(w=typeof n=="string"?n.split(g):n,A=w.length||1),t+=c*(2-o),r.valign==="middle"?t-=A/2*d:r.valign==="bottom"&&(t-=A*d),r.halign==="center"||r.halign==="right"){var _=c;if(r.halign==="center"&&(_*=.5),w&&A>=1){for(var P=0;P<w.length;P++)a.text(w[P],e-a.getStringUnitWidth(w[P])*_,t),t+=d;return a}e-=a.getStringUnitWidth(n)*_}return r.halign==="justify"?a.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):a.text(n,e,t),a}var ox={},Wh=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:ox=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,a,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var u=this.jsPDFDocument.internal.getFont(),c=u.fontStyle,f=u.fontName;if(e.font&&(f=e.font),e.fontStyle){c=e.fontStyle;var d=this.getFontList()[f];d&&d.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),c=d[0])}if(this.jsPDFDocument.setFont(f,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var g=n.unifyColor(e.fillColor);g&&(r=this.jsPDFDocument).setFillColor.apply(r,g),g=n.unifyColor(e.textColor),g&&(a=this.jsPDFDocument).setTextColor.apply(a,g),g=n.unifyColor(e.lineColor),g&&(o=this.jsPDFDocument).setDrawColor.apply(o,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,a,o){return this.jsPDFDocument.rect(e,t,r,a,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return ox||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),w2=function(n,e){return w2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])},w2(n,e)};function oA(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");w2(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var lA=(function(n){oA(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function VP(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function zP(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function Zm(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],a=r.map(function(o){return t.getTextWidth(o)}).reduce(function(o,u){return Math.max(o,u)},0);return a}function uA(n,e,t,r){var a=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:a,lineColor:o});var u=cA(a,!1);u&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,u)}function cA(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function Cg(n,e){var t,r,a,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(a=n.right)!==null&&a!==void 0?a:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function hA(n,e){var t=Cg(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function qP(n,e,t,r,a){var o={},u=1.3333333333333333,c=I1(e,function(X){return a.getComputedStyle(X).backgroundColor});c!=null&&(o.fillColor=c);var f=I1(e,function(X){return a.getComputedStyle(X).color});f!=null&&(o.textColor=f);var d=GP(r,t);d&&(o.cellPadding=d);var g="borderTopColor",w=u*t,A=r.borderTopWidth;if(r.borderBottomWidth===A&&r.borderRightWidth===A&&r.borderLeftWidth===A){var _=(parseFloat(A)||0)/w;_&&(o.lineWidth=_)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/w,right:(parseFloat(r.borderRightWidth)||0)/w,bottom:(parseFloat(r.borderBottomWidth)||0)/w,left:(parseFloat(r.borderLeftWidth)||0)/w},o.lineWidth.top||(o.lineWidth.right?g="borderRightColor":o.lineWidth.bottom?g="borderBottomColor":o.lineWidth.left&&(g="borderLeftColor"));var P=I1(e,function(X){return a.getComputedStyle(X)[g]});P!=null&&(o.lineColor=P);var I=["left","right","center","justify"];I.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),I=["middle","bottom","top"],I.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var L=parseInt(r.fontSize||"");isNaN(L)||(o.fontSize=L/u);var j=HP(r);j&&(o.fontStyle=j);var $=(r.fontFamily||"").toLowerCase();return n.indexOf($)!==-1&&(o.font=$),o}function HP(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function I1(n,e){var t=fA(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var a=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function fA(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:fA(n.parentElement,e):t}function GP(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),a=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(c){return parseInt(c||"0")/r}),u=Cg(o,0);return a>u.top&&(u.top=a),a>u.bottom&&(u.bottom=a),u}function dA(n,e,t,r,a){var o,u;r===void 0&&(r=!1),a===void 0&&(a=!1);var c;typeof e=="string"?c=t.document.querySelector(e):c=e;var f=Object.keys(n.getFontList()),d=n.scaleFactor(),g=[],w=[],A=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:g,body:w,foot:A};for(var _=0;_<c.rows.length;_++){var P=c.rows[_],I=(u=(o=P?.parentElement)===null||o===void 0?void 0:o.tagName)===null||u===void 0?void 0:u.toLowerCase(),L=WP(f,d,t,P,r,a);L&&(I==="thead"?g.push(L):I==="tfoot"?A.push(L):w.push(L))}return{head:g,body:w,foot:A}}function WP(n,e,t,r,a,o){for(var u=new lA(r),c=0;c<r.cells.length;c++){var f=r.cells[c],d=t.getComputedStyle(f);if(a||d.display!=="none"){var g=void 0;o&&(g=qP(n,f,e,d,t)),u.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:g,_element:f,content:$P(f)})}}var w=t.getComputedStyle(r);if(u.length>0&&(a||w.display!=="none"))return u}function $P(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function YP(n,e,t){for(var r=0,a=[n,e,t];r<a.length;r++){var o=a[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function zl(n,e,t,r,a){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),u=1;u<arguments.length;u++){var c=arguments[u];if(c!=null)for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f])}return o}function KP(n,e){var t=new Wh(n),r=t.getDocumentOptions(),a=t.getGlobalOptions();YP(a,r,e);var o=zl({},a,r,e),u;typeof window<"u"&&(u=window);var c=QP(a,r,e),f=XP(a,r,e),d=JP(t,o),g=e9(t,o,u);return{id:e.tableId,content:g,hooks:f,styles:c,settings:d}}function QP(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(f){if(f==="columnStyles"){var d=n[f],g=e[f],w=t[f];r.columnStyles=zl({},d,g,w)}else{var A=[n,e,t],_=A.map(function(P){return P[f]||{}});r[f]=zl({},_[0],_[1],_[2])}},o=0,u=Object.keys(r);o<u.length;o++){var c=u[o];a(c)}return r}function XP(n,e,t){for(var r=[n,e,t],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,u=r;o<u.length;o++){var c=u[o];c.didParseCell&&a.didParseCell.push(c.didParseCell),c.willDrawCell&&a.willDrawCell.push(c.willDrawCell),c.didDrawCell&&a.didDrawCell.push(c.didDrawCell),c.willDrawPage&&a.willDrawPage.push(c.willDrawPage),c.didDrawPage&&a.didDrawPage.push(c.didDrawPage)}return a}function JP(n,e){var t,r,a,o,u,c,f,d,g,w,A,_,P=Cg(e.margin,40/n.scaleFactor()),I=(t=ZP(n,e.startY))!==null&&t!==void 0?t:P.top,L;e.showFoot===!0?L="everyPage":e.showFoot===!1?L="never":L=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var j;e.showHead===!0?j="everyPage":e.showHead===!1?j="never":j=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var $=(o=e.useCss)!==null&&o!==void 0?o:!1,X=e.theme||($?"plain":"striped"),Z=!!e.horizontalPageBreak,se=(u=e.horizontalPageBreakRepeat)!==null&&u!==void 0?u:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:$,theme:X,startY:I,margin:P,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:j,showFoot:L,tableLineWidth:(w=e.tableLineWidth)!==null&&w!==void 0?w:0,tableLineColor:(A=e.tableLineColor)!==null&&A!==void 0?A:200,horizontalPageBreak:Z,horizontalPageBreakRepeat:se,horizontalPageBreakBehaviour:(_=e.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function ZP(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),a=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var u=t.startPageNumber+t.pageNumber-1;o=u===a}return typeof e=="number"?e:(e==null||e===!1)&&o&&t?.finalY!=null?t.finalY+20/r:null}function e9(n,e,t){var r=e.head||[],a=e.body||[],o=e.foot||[];if(e.html){var u=e.includeHiddenHtml;if(t){var c=dA(n,e.html,t,u,e.useCss)||{};r=c.head||r,a=c.body||r,o=c.foot||r}else console.error("Cannot parse html in non browser environment")}var f=e.columns||t9(r,a,o);return{columns:f,head:r,body:a,foot:o}}function t9(n,e,t){var r=n[0]||e[0]||t[0]||[],a=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var u=1,c;Array.isArray(r)?c=r[parseInt(o)]:c=r[o],typeof c=="object"&&!Array.isArray(c)&&(u=c?.colSpan||1);for(var f=0;f<u;f++){var d=void 0;Array.isArray(r)?d=a.length:d=o+(f>0?"_".concat(f):"");var g={dataKey:d};a.push(g)}}),a}var x2=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),n9=(function(n){oA(e,n);function e(t,r,a,o,u,c){var f=n.call(this,t,r,c)||this;return f.cell=a,f.row=o,f.column=u,f.section=o.section,f}return e})(x2),r9=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,a,o,u){for(var c=0,f=t;c<f.length;c++){var d=f[c],g=new n9(e,this,r,a,o,u),w=d(g)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],w)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,a=this.hooks.didDrawPage;r<a.length;r++){var o=a[r];o(new x2(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,a=this.hooks.willDrawPage;r<a.length;r++){var o=a[r];o(new x2(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(a,o){return a+o.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),pA=(function(){function n(e,t,r,a,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof lA&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=a,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,a){var o;return Math.max(r,((o=t.cells[a.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var a=t.cells[r.index];return a?a.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(a,o){var u=r.cells[o.index];if(!u)return 0;var c=t.getLineHeight(u.styles.fontSize),f=u.padding("vertical"),d=f+c;return d>a?d:a},0)},n})(),mA=(function(){function n(e,t,r){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var u=o!=null?""+o:"",c=/\r\n|\r|\n/g;this.text=u.split(c)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");r=this.x+a/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*t,o=r*a+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=Cg(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),i9=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,a=e.allRows();r<a.length;r++){var o=a[r],u=o.cells[this.index];u&&typeof u.styles.cellWidth=="number"&&(t=Math.max(t,u.styles.cellWidth))}return t},n})();function a9(n,e){s9(n,e);var t=[],r=0;e.columns.forEach(function(o){var u=o.getMaxCustomCellWidth(e);u?o.width=u:(o.width=o.wrappedWidth,t.push(o)),r+=o.width});var a=e.getWidth(n.pageSize().width)-r;a&&(a=S2(t,a,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),a&&(a=S2(t,a,function(o){return o.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/n.scaleFactor()&&(a=a<1?a:Math.round(a),console.log("Of the table content, ".concat(a," units width could not fit page"))),l9(e),u9(e,n),o9(e)}function s9(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,a=hA(n,e);e.allRows().forEach(function(o){for(var u=0,c=e.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d){var g=e.hooks.didParseCell;e.callCellHooks(n,g,d,o,f,null);var w=d.padding("horizontal");d.contentWidth=Zm(d.text,d.styles,n)+w;var A=Zm(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,n);if(d.minReadableWidth=A+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var _=10/t;d.minWidth=d.styles.minCellWidth||_,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(o){for(var u=0,c=e.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d&&d.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,d.wrappedWidth),f.minWidth=Math.max(f.minWidth,d.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,d.minReadableWidth);else{var g=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},w=g.cellWidth||g.minCellWidth;w&&typeof w=="number"&&(f.minWidth=w,f.wrappedWidth=w)}d&&(d.colSpan>1&&!f.minWidth&&(f.minWidth=d.minWidth),d.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=d.minWidth))}})}function S2(n,e,t){for(var r=e,a=n.reduce(function(_,P){return _+P.wrappedWidth},0),o=0;o<n.length;o++){var u=n[o],c=u.wrappedWidth/a,f=r*c,d=u.width+f,g=t(u),w=d<g?g:d;e-=w-u.width,u.width=w}if(e=Math.round(e*1e10)/1e10,e){var A=n.filter(function(_){return e<0?_.width>t(_):!0});A.length&&(e=S2(A,e,t))}return e}function o9(n){for(var e={},t=1,r=n.allRows(),a=0;a<r.length;a++)for(var o=r[a],u=0,c=n.columns;u<c.length;u++){var f=c[u],d=e[f.index];if(t>1)t--,delete o.cells[f.index];else if(d)d.cell.height+=o.height,t=d.cell.colSpan,delete o.cells[f.index],d.left--,d.left<=1&&delete e[f.index];else{var g=o.cells[f.index];if(!g)continue;if(g.height=o.height,g.rowSpan>1){var w=r.length-a,A=g.rowSpan>w?w:g.rowSpan;e[f.index]={cell:g,left:A,row:o}}}}}function l9(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],a=null,o=0,u=0,c=0;c<n.columns.length;c++){var f=n.columns[c];if(u-=1,u>1&&n.columns[c+1])o+=f.width,delete r.cells[f.index];else if(a){var d=a;delete r.cells[f.index],a=null,d.width=f.width+o}else{var d=r.cells[f.index];if(!d)continue;if(u=d.colSpan,o=0,d.colSpan>1){a=d,o+=f.width;continue}d.width=f.width+o}}}function u9(n,e){for(var t={count:0,height:0},r=0,a=n.allRows();r<a.length;r++){for(var o=a[r],u=0,c=n.columns;u<c.length;u++){var f=c[u],d=o.cells[f.index];if(d){e.applyStyles(d.styles,!0);var g=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,g+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=lx(d.text,g,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=lx(d.text,g,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var w=d.styles.overflow(d.text,g);typeof w=="string"?d.text=[w]:d.text=w}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var A=d.contentHeight/d.rowSpan;d.rowSpan>1&&t.count*t.height<A*d.rowSpan?t={height:A,count:d.rowSpan}:t&&t.count>0&&t.height>A&&(A=t.height),A>o.height&&(o.height=A)}}t.count--}}function lx(n,e,t,r,a){return n.map(function(o){return c9(o,e,t,r,a)})}function c9(n,e,t,r,a){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=Zm(n,t,r))return n;for(;e<Zm(n+a,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+a}function h9(n,e){var t=new Wh(n),r=f9(e,t.scaleFactor()),a=new r9(e,r);return a9(t,a),t.applyStyles(t.userStyles),a}function f9(n,e){var t=n.content,r=p9(t.columns);if(t.head.length===0){var a=ux(r,"head");a&&t.head.push(a)}if(t.foot.length===0){var a=ux(r,"foot");a&&t.foot.push(a)}var o=n.settings.theme,u=n.styles;return{columns:r,head:L1("head",t.head,r,u,o,e),body:L1("body",t.body,r,u,o,e),foot:L1("foot",t.foot,r,u,o,e)}}function L1(n,e,t,r,a,o){var u={},c=e.map(function(f,d){for(var g=0,w={},A=0,_=0,P=0,I=t;P<I.length;P++){var L=I[P];if(u[L.index]==null||u[L.index].left===0)if(_===0){var j=void 0;Array.isArray(f)?j=f[L.index-A-g]:j=f[L.dataKey];var $={};typeof j=="object"&&!Array.isArray(j)&&($=j?.styles||{});var X=m9(n,L,d,a,r,o,$),Z=new mA(j,X,n);w[L.dataKey]=Z,w[L.index]=Z,_=Z.colSpan-1,u[L.index]={left:Z.rowSpan-1,times:_}}else _--,A++;else u[L.index].left--,_=u[L.index].times,g++}return new pA(f,d,n,w)});return c}function ux(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var a=d9(e,r.raw);a!=null&&(t[r.dataKey]=a)}}),Object.keys(t).length>0?t:null}function d9(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function p9(n){return n.map(function(e,t){var r,a;return typeof e=="object"?a=(r=e.dataKey)!==null&&r!==void 0?r:t:a=t,new i9(a,e,t)})}function m9(n,e,t,r,a,o,u){var c=zP(r),f;n==="head"?f=a.headStyles:n==="body"?f=a.bodyStyles:n==="foot"&&(f=a.footStyles);var d=zl({},c.table,c[n],a.styles,f),g=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},w=n==="body"?g:{},A=n==="body"&&t%2===0?zl({},c.alternateRow,a.alternateRowStyles):{},_=VP(o),P=zl({},_,d,A,w);return zl(P,u)}function g9(n,e,t){var r;t===void 0&&(t={});var a=hA(n,e),o=new Map,u=[],c=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(A){var _=e.columns.find(function(P){return P.dataKey===A||P.index===A});_&&!o.has(_.index)&&(o.set(_.index,!0),u.push(_.index),c.push(e.columns[_.index]),a-=_.wrappedWidth)});for(var d=!0,g=(r=t?.start)!==null&&r!==void 0?r:0;g<e.columns.length;){if(o.has(g)){g++;continue}var w=e.columns[g].wrappedWidth;if(d||a>=w)d=!1,u.push(g),c.push(e.columns[g]),a-=w;else break;g++}return{colIndexes:u,columns:c,lastIndex:g-1}}function y9(n,e){for(var t=[],r=0;r<e.columns.length;r++){var a=g9(n,e,{start:r});a.columns.length&&(t.push(a),r=a.lastIndex)}return t}function v9(n,e){var t=e.settings,r=t.startY,a=t.margin,o={x:a.left,y:r},u=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=r+a.bottom+u;if(t.pageBreak==="avoid"){var f=e.body,d=f.reduce(function(A,_){return A+_.height},0);c+=d}var g=new Wh(n);(t.pageBreak==="always"||t.startY!=null&&c>g.pageSize().height)&&(yA(g),o.y=a.top),e.callWillDrawPageHooks(g,o);var w=zl({},o);e.startPageNumber=g.pageNumber(),t.horizontalPageBreak?b9(g,e,w,o):(g.applyStyles(g.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(A){return Jl(g,e,A,o,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(A,_){var P=_===e.body.length-1;eg(g,e,A,P,w,o,e.columns)}),g.applyStyles(g.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(A){return Jl(g,e,A,o,e.columns)})),uA(g,e,w,o),e.callEndPageHooks(g,o),e.finalY=o.y,n.lastAutoTable=e,g.applyStyles(g.userStyles)}function b9(n,e,t,r){var a=y9(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,g){n.applyStyles(n.userStyles),g>0?vd(n,e,t,r,d.columns,!0):cx(n,e,r,d.columns),_9(n,e,t,r,d.columns),k1(n,e,r,d.columns)});else for(var u=-1,c=a[0],f=function(){var d=u;if(c){n.applyStyles(n.userStyles);var g=c.columns;u>=0?vd(n,e,t,r,g,!0):cx(n,e,r,g),d=hx(n,e,u+1,r,g),k1(n,e,r,g)}var w=d-u;a.slice(1).forEach(function(A){n.applyStyles(n.userStyles),vd(n,e,t,r,A.columns,!0),hx(n,e,u+1,r,A.columns,w),k1(n,e,r,A.columns)}),u=d};u<e.body.length-1;)f()}function cx(n,e,t,r){var a=e.settings;n.applyStyles(n.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(o){return Jl(n,e,o,t,r)})}function _9(n,e,t,r,a){n.applyStyles(n.userStyles),e.body.forEach(function(o,u){var c=u===e.body.length-1;eg(n,e,o,c,t,r,a)})}function hx(n,e,t,r,a,o){n.applyStyles(n.userStyles),o=o??e.body.length;var u=Math.min(t+o,e.body.length),c=-1;return e.body.slice(t,u).forEach(function(f,d){var g=t+d===e.body.length-1,w=gA(n,e,g,r);f.canEntireRowFit(w,a)&&(Jl(n,e,f,r,a),c=t+d)}),c}function k1(n,e,t,r){var a=e.settings;n.applyStyles(n.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(o){return Jl(n,e,o,t,r)})}function w9(n,e,t){var r=t.getLineHeight(n.styles.fontSize),a=n.padding("vertical"),o=Math.floor((e-a)/r);return Math.max(0,o)}function x9(n,e,t,r){var a={};n.spansMultiplePages=!0,n.height=0;for(var o=0,u=0,c=t.columns;u<c.length;u++){var f=c[u],d=n.cells[f.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var g=new mA(d.raw,d.styles,d.section);g=zl(g,d),g.text=[];var w=w9(d,e,r);d.text.length>w&&(g.text=d.text.splice(w,d.text.length));var A=r.scaleFactor(),_=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(A,_),d.contentHeight>=e&&(d.contentHeight=e,g.styles.minCellHeight-=e),d.contentHeight>n.height&&(n.height=d.contentHeight),g.contentHeight=g.getContentHeight(A,_),g.contentHeight>o&&(o=g.contentHeight),a[f.index]=g}}var P=new pA(n.raw,-1,n.section,a,!0);P.height=o;for(var I=0,L=t.columns;I<L.length;I++){var f=L[I],g=P.cells[f.index];g&&(g.height=P.height);var d=n.cells[f.index];d&&(d.height=n.height)}return P}function S9(n,e,t,r){var a=n.pageSize().height,o=r.settings.margin,u=o.top+o.bottom,c=a-u;e.section==="body"&&(c-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var f=e.getMinimumRowHeight(r.columns,n),d=f<t;if(f>c)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var g=e.hasRowSpan(r.columns),w=e.getMaxCellHeight(r.columns)>c;return w?(g&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||r.settings.rowPageBreak==="avoid")}function eg(n,e,t,r,a,o,u){var c=gA(n,e,r,o);if(t.canEntireRowFit(c,u))Jl(n,e,t,o,u);else if(S9(n,t,c,e)){var f=x9(t,c,e,n);Jl(n,e,t,o,u),vd(n,e,a,o,u),eg(n,e,f,r,a,o,u)}else vd(n,e,a,o,u),eg(n,e,t,r,a,o,u)}function Jl(n,e,t,r,a){r.x=e.settings.margin.left;for(var o=0,u=a;o<u.length;o++){var c=u[o],f=t.cells[c.index];if(!f){r.x+=c.width;continue}n.applyStyles(f.styles),f.x=r.x,f.y=r.y;var d=e.callCellHooks(n,e.hooks.willDrawCell,f,t,c,r);if(d===!1){r.x+=c.width;continue}A9(n,f,r);var g=f.getTextPos();sA(f.text,g.x,g.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,f,t,c,r),r.x+=c.width}r.y+=t.height}function A9(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var a=cA(r.lineWidth,r.fillColor);a&&n.rect(e.x,t.y,e.width,e.height,a)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),E9(n,e,t,r.lineWidth))}function E9(n,e,t,r){var a,o,u,c;r.top&&(a=t.x,o=t.y,u=t.x+e.width,c=t.y,r.right&&(u+=.5*r.right),r.left&&(a-=.5*r.left),f(r.top,a,o,u,c)),r.bottom&&(a=t.x,o=t.y+e.height,u=t.x+e.width,c=t.y+e.height,r.right&&(u+=.5*r.right),r.left&&(a-=.5*r.left),f(r.bottom,a,o,u,c)),r.left&&(a=t.x,o=t.y,u=t.x,c=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(c+=.5*r.bottom),f(r.left,a,o,u,c)),r.right&&(a=t.x+e.width,o=t.y,u=t.x+e.width,c=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(c+=.5*r.bottom),f(r.right,a,o,u,c));function f(d,g,w,A,_){n.getDocument().setLineWidth(d),n.getDocument().line(g,w,A,_,"S")}}function gA(n,e,t,r){var a=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(a+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-a}function vd(n,e,t,r,a,o){a===void 0&&(a=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(c){return Jl(n,e,c,r,a)}),e.callEndPageHooks(n,r);var u=e.settings.margin;uA(n,e,t,r),yA(n),e.pageNumber++,r.x=u.left,r.y=u.top,t.y=u.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return Jl(n,e,c,r,a)}),n.applyStyles(n.userStyles))}function yA(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function N9(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],a=KP(this,r),o=h9(this,a);return v9(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,a){sA(e,t,r,a,this)},n.API.autoTableSetDefaults=function(e){return Wh.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Wh.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Wh(this),o=dA(a,e,window,t,!1),u=o.head,c=o.body,f=((r=u[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:f,rows:c,data:c}}}var D1;try{if(typeof window<"u"&&window){var fx=window,dx=fx.jsPDF||((D1=fx.jspdf)===null||D1===void 0?void 0:D1.jsPDF);dx&&N9(dx)}}catch(n){console.error("Could not apply autoTable plugin",n)}function T9(){const{currentUser:n}=nu(),e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1).toISOString().split("T")[0],r=e.toISOString().split("T")[0],[a,o]=he.useState(t),[u,c]=he.useState(r),[f,d]=he.useState([]),[g,w]=he.useState(!1),A=async()=>{if(n){w(!0);try{const L=mr(mn(Ft,"transactions"),si("userId","==",n.uid)),j=mr(mn(Ft,"bar_transactions"),si("userId","==",n.uid)),[$,X]=await Promise.all([Fa(L),Fa(j)]),Z=$.docs.map(z=>({id:z.id,...z.data(),category:"Messing"})),se=X.docs.map(z=>({id:z.id,...z.data(),category:"Bar"})),_e=[...Z,...se].filter(z=>z.date>=a&&z.date<=u);_e.sort((z,U)=>new Date(U.date)-new Date(z.date)),d(_e)}catch(L){console.error("Error fetching history:",L)}finally{w(!1)}}};he.useEffect(()=>{A()},[]);const _=f.reduce((L,j)=>L+(j.totalCost||0),0),P=()=>{if(f.length===0)return;const L=["Date","Description","Category","Cost"],j=f.map(_e=>{const z=_e.items?.map(U=>`${U.name||U.brand}${U.quantity>1?` (x${U.quantity})`:""}`).join("; ");return[_e.date,`"${z}"`,_e.category,_e.totalCost.toFixed(2)]}),$=[L.join(","),...j.map(_e=>_e.join(","))].join(`
`),X=new Blob([$],{type:"text/csv;charset=utf-8;"}),Z=URL.createObjectURL(X),se=document.createElement("a");se.setAttribute("href",Z),se.setAttribute("download",`history_${a}_to_${u}.csv`),document.body.appendChild(se),se.click(),document.body.removeChild(se)},I=()=>{if(f.length===0)return;const L=new Et;L.setFontSize(18),L.text("3 SLEME Officers' Mess - Purchase History",14,22),L.setFontSize(11),L.setTextColor(100),L.text(`Officer: ${n.displayName||n.email}`,14,32),L.text(`Period: ${a} to ${u}`,14,38),L.text(`Generated: ${new Date().toLocaleDateString()}`,14,44);const j=["Date","Description","Category","Cost (LKR)"],$=f.map(X=>{const Z=X.items?.map(se=>`${se.name||se.brand}${se.quantity>1?` (x${se.quantity})`:""}`).join(", ");return[X.date,Z,X.category,X.totalCost.toFixed(2)]});L.autoTable({startY:50,head:[j],body:$,theme:"grid",headStyles:{fillColor:[74,98,77]},foot:[["","","Total",_.toFixed(2)]],footStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"}}),L.save(`history_${a}_to_${u}.pdf`)};return x.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-army-900",children:"Purchase History"}),x.jsx("p",{className:"text-army-600",children:"View your consumption log."})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row items-end gap-2 bg-white p-2 rounded-lg shadow-sm border border-gray-200",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("label",{className:"text-xs text-gray-500 ml-1",children:"From"}),x.jsx("input",{type:"date",value:a,onChange:L=>o(L.target.value),className:"text-sm p-1 border rounded"})]}),x.jsx("span",{className:"text-gray-400 mt-4",children:"-"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("label",{className:"text-xs text-gray-500 ml-1",children:"To"}),x.jsx("input",{type:"date",value:u,onChange:L=>c(L.target.value),className:"text-sm p-1 border rounded"})]})]}),x.jsxs(vi,{onClick:A,size:"sm",className:"h-[34px] mt-4 sm:mt-0",children:[x.jsx(hk,{size:16,className:"mr-1"})," Filter"]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsx(gn,{className:"md:col-span-2 p-0 overflow-hidden min-h-[400px]",children:x.jsxs("table",{className:"w-full text-left text-sm",children:[x.jsx("thead",{className:"bg-army-50 text-army-700 sticky top-0",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4 font-semibold",children:"Date"}),x.jsx("th",{className:"p-4 font-semibold",children:"Description"}),x.jsx("th",{className:"p-4 font-semibold",children:"Category"}),x.jsx("th",{className:"p-4 font-semibold text-right",children:"Cost"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-100",children:g?x.jsx("tr",{children:x.jsx("td",{colSpan:"4",className:"p-8 text-center text-gray-500",children:"Loading records..."})}):f.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:"4",className:"p-8 text-center text-gray-500",children:"No records found for this period."})}):f.map(L=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"p-4 text-gray-600 whitespace-nowrap",children:L.date}),x.jsx("td",{className:"p-4 font-medium text-gray-900",children:x.jsx("div",{className:"flex flex-col",children:L.items?.map((j,$)=>x.jsxs("span",{children:[j.name||j.brand,j.quantity>1?` (x${j.quantity})`:""]},$))})}),x.jsx("td",{className:"p-4",children:x.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${L.category==="Bar"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:L.category})}),x.jsx("td",{className:"p-4 text-right font-bold text-army-800",children:L.totalCost?.toFixed(2)})]},L.id))})]})}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs(gn,{className:"bg-army-900 text-white border-none",children:[x.jsx("p",{className:"text-army-300 text-sm mb-1",children:"Total (Selected Period)"}),x.jsxs("h2",{className:"text-3xl text-blue-400 font-bold",children:["LKR ",_.toFixed(2)]}),x.jsxs("p",{className:"text-xs text-army-400 mt-2",children:[f.length," transactions found"]})]}),x.jsxs(gn,{children:[x.jsx("h3",{className:"font-bold text-army-900 mb-2",children:"Export Data"}),x.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Download this report for your records."}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs(vi,{onClick:P,variant:"secondary",className:"w-full flex items-center justify-center gap-2",disabled:f.length===0,children:[x.jsx(o2,{size:18})," Download CSV"]}),x.jsxs(vi,{onClick:I,variant:"primary",className:"w-full flex items-center justify-center gap-2 bg-red-700 hover:bg-red-800 text-white",disabled:f.length===0,children:[x.jsx(o2,{size:18})," Download PDF"]})]})]})]})]})]})}function C9(){const{currentUser:n}=nu(),[e,t]=he.useState("inventory"),[r,a]=he.useState([]),[o,u]=he.useState([]),[c,f]=he.useState("");he.useEffect(()=>{const g=mr(mn(Ft,"inventory")),w=ha(g,A=>{const _=A.docs.map(P=>({id:P.id,...P.data()}));a(_)});return()=>w()},[]),he.useEffect(()=>{if(!n)return;const g=mr(mn(Ft,"bar_transactions"),si("userId","==",n.uid)),w=ha(g,A=>{const _=A.docs.map(P=>({id:P.id,...P.data()}));_.sort((P,I)=>new Date(I.date)-new Date(P.date)),u(_)});return()=>w()},[n]);const d=r.filter(g=>g.brand.toLowerCase().includes(c.toLowerCase()));return x.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[x.jsx("h1",{className:"text-2xl font-bold text-army-900",children:"Bar Facilities"}),e==="inventory"&&x.jsxs("div",{className:"relative w-full sm:w-64",children:[x.jsx(dS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),x.jsx("input",{type:"text",placeholder:"Search brands...",value:c,onChange:g=>f(g.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-army-500"})]})]}),x.jsxs("div",{className:"flex border-b border-gray-200",children:[x.jsx("button",{onClick:()=>t("inventory"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${e==="inventory"?"border-army-600 text-army-800":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Price List"}),x.jsx("button",{onClick:()=>t("history"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${e==="history"?"border-army-600 text-army-800":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"My Consumption"})]}),e==="inventory"?x.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.length===0?x.jsx("p",{className:"col-span-full text-center py-8 text-gray-500",children:"No items found."}):d.map(g=>x.jsxs(gn,{className:"relative overflow-hidden group hover:shadow-lg transition-shadow",children:[x.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20",children:x.jsx(tf,{size:64,className:"text-army-800"})}),x.jsx("h3",{className:"text-lg font-bold text-army-900 mb-1",children:g.brand}),x.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${g.available?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:g.available?"In Stock":"Out of Stock"}),x.jsxs("div",{className:"mt-4 space-y-2",children:[x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"text-gray-600",children:"Full Bottle"}),x.jsxs("span",{className:"font-semibold text-army-900",children:["LKR ",g.priceFull?.toFixed(2)]})]}),x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"text-gray-600",children:"Shot (50ml)"}),x.jsxs("span",{className:"font-semibold text-army-900",children:["LKR ",g.priceShot?.toFixed(2)]})]})]})]},g.id))}):x.jsx(gn,{className:"p-0 overflow-hidden",children:x.jsxs("table",{className:"w-full text-left text-sm",children:[x.jsx("thead",{className:"bg-army-50 text-army-700",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4 font-semibold",children:"Date"}),x.jsx("th",{className:"p-4 font-semibold",children:"Item"}),x.jsx("th",{className:"p-4 font-semibold",children:"Quantity"}),x.jsx("th",{className:"p-4 font-semibold text-right",children:"Cost"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-100",children:o.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:"4",className:"p-6 text-center text-gray-500",children:"No consumption history found."})}):o.map(g=>x.jsx(IE.Fragment,{children:g.items.map((w,A)=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"p-4 text-gray-600",children:g.date}),x.jsx("td",{className:"p-4 font-medium text-gray-900",children:w.brand}),x.jsx("td",{className:"p-4 text-gray-600",children:w.quantity}),x.jsxs("td",{className:"p-4 text-right font-medium text-army-900",children:["LKR ",w.cost?.toFixed(2)]})]},`${g.id}-${A}`))},g.id))})]})})]})}function R9(){const n=Bc(),[e,t]=he.useState({officers:0,mealsToday:0,barItems:0}),[r,a]=he.useState(!0);he.useEffect(()=>{(async()=>{try{const c=await Fa(mr(mn(Ft,"users"),si("role","==","officer"))),f=new Date().toISOString().split("T")[0],d=await Fa(mr(mn(Ft,"rsvp"),si("date","==",f)));let g=0;d.docs.forEach(A=>{const _=A.data();_.meals?.breakfast&&g++,_.meals?.lunch&&g++,_.meals?.dinner&&g++});const w=await Fa(mn(Ft,"inventory"));t({officers:c.size,mealsToday:g,barItems:w.size})}catch(c){console.error("Error fetching stats:",c)}finally{a(!1)}})()},[]);const o=({title:u,desc:c,icon:f,color:d,path:g})=>x.jsxs("div",{onClick:()=>n(g),className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-all cursor-pointer group",children:[x.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center mb-4 ${d}`,children:x.jsx(f,{className:"text-white",size:24})}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-army-900 mb-1",children:u}),x.jsx("p",{className:"text-sm text-gray-500",children:c})]}),x.jsx(W7,{className:"text-gray-300 group-hover:text-army-600 transition-colors",size:20})]})]});return x.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-army-900",children:"Admin Overview"}),x.jsx("p",{className:"text-army-600",children:"Welcome back, Mess Manager."})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsx(gn,{className:"bg-army-900 text-white border-none",children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"p-3 bg-white/10 rounded-lg",children:x.jsx($m,{size:24,className:"text-army-100"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-blue-300 text-sm",children:"Registered Officers"}),x.jsx("h2",{className:"text-blue-600 text-3xl font-bold",children:r?"-":e.officers})]})]})}),x.jsx(gn,{className:"bg-orange-600 text-white border-none",children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"p-3 bg-white/10 rounded-lg",children:x.jsx(md,{size:24,className:"text-orange-100"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-orange-100 text-sm",children:"Meal Requests (Today)"}),x.jsx("h2",{className:"text-3xl font-bold",children:r?"-":e.mealsToday})]})]})}),x.jsx(gn,{className:"bg-green-600 text-white border-none",children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"p-3 bg-white/10 rounded-lg",children:x.jsx(tf,{size:24,className:"text-green-100"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-green-100 text-sm",children:"Bar Inventory Items"}),x.jsx("h2",{className:"text-3xl font-bold",children:r?"-":e.barItems})]})]})})]}),x.jsxs("div",{children:[x.jsxs("h2",{className:"text-lg font-bold text-army-900 mb-4 flex items-center gap-2",children:[x.jsx(pk,{size:20})," Quick Actions"]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.jsx(o,{title:"Daily Ledger",desc:"Bulk entry for daily messing",icon:Gm,color:"bg-purple-600",path:"/admin/ledger"}),x.jsx(o,{title:"Kitchen Summary",desc:"View meal counts & requests",icon:Vh,color:"bg-orange-500",path:"/admin/kitchen"}),x.jsx(o,{title:"Financial Dashboard",desc:"Master billing & reports",icon:u2,color:"bg-blue-600",path:"/admin/billing"}),x.jsx(o,{title:"Update Menu",desc:"Set daily meals",icon:md,color:"bg-army-600",path:"/admin/menu"}),x.jsx(o,{title:"Manage Officers",desc:"View officer profiles",icon:$m,color:"bg-teal-600",path:"/admin/officers"}),x.jsx(o,{title:"Bar Inventory",desc:"Update stock & prices",icon:tf,color:"bg-pink-600",path:"/admin/inventory"})]})]})]})}function I9(){const[n,e]=he.useState(new Date),[t,r]=he.useState({breakfast:"",lunch:"",dinner:""}),[a,o]=he.useState(!1),[u,c]=he.useState(!1),[f,d]=he.useState(""),g=n.toISOString().split("T")[0];he.useEffect(()=>{w()},[g]);const w=async()=>{o(!0),d("");try{const P=za(Ft,"menus",g),I=await Ty(P);if(I.exists()){const L=I.data();r({breakfast:L.breakfast||"",lunch:L.lunch||"",dinner:L.dinner||""})}else r({breakfast:"",lunch:"",dinner:""})}catch(P){console.error(P)}finally{o(!1)}},A=async P=>{P.preventDefault(),c(!0),d("");try{await Cy(za(Ft,"menus",g),{date:g,...t,updatedAt:Wl()}),d("Menu updated successfully!")}catch(I){console.error(I),d("Failed to update menu.")}finally{c(!1)}},_=P=>{e(new Date(P.target.value))};return x.jsxs("div",{className:"max-w-2xl mx-auto",children:[x.jsx("h1",{className:"text-2xl font-bold text-army-900 mb-6",children:"Menu Management"}),x.jsxs(gn,{children:[x.jsxs("div",{className:"flex items-center gap-4 mb-6 pb-6 border-b border-army-100",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("label",{className:"block text-sm font-medium text-army-700 mb-1",children:"Select Date"}),x.jsxs("div",{className:"relative",children:[x.jsx(Qd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-army-400",size:18}),x.jsx("input",{type:"date",value:g,onChange:_,className:"w-full pl-10 pr-4 py-2 border border-army-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-500"})]})]}),x.jsx("div",{className:"flex-1 flex justify-end items-end",children:x.jsx(vi,{onClick:()=>e(new Date),variant:"secondary",className:"text-sm",children:"Today"})})]}),a?x.jsx("div",{className:"py-12 flex justify-center",children:x.jsx(l2,{className:"animate-spin text-army-600",size:32})}):x.jsxs("form",{onSubmit:A,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-army-900 mb-1",children:"Breakfast"}),x.jsx("textarea",{value:t.breakfast,onChange:P=>r({...t,breakfast:P.target.value}),rows:3,className:"w-full p-3 border border-army-300 rounded-lg focus:ring-2 focus:ring-army-500 focus:outline-none",placeholder:"e.g. String Hoppers, Dhal, Fish Curry..."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-army-900 mb-1",children:"Lunch"}),x.jsx("textarea",{value:t.lunch,onChange:P=>r({...t,lunch:P.target.value}),rows:3,className:"w-full p-3 border border-army-300 rounded-lg focus:ring-2 focus:ring-army-500 focus:outline-none",placeholder:"e.g. Rice, Chicken Curry, Dhal, Salad..."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-army-900 mb-1",children:"Dinner"}),x.jsx("textarea",{value:t.dinner,onChange:P=>r({...t,dinner:P.target.value}),rows:3,className:"w-full p-3 border border-army-300 rounded-lg focus:ring-2 focus:ring-army-500 focus:outline-none",placeholder:"e.g. Fried Rice, Chopsuey..."})]}),f&&x.jsx("div",{className:`p-3 rounded text-sm ${f.includes("Success")?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:f}),x.jsxs(vi,{type:"submit",disabled:u,className:"w-full flex justify-center items-center gap-2",children:[u?x.jsx(l2,{className:"animate-spin",size:18}):x.jsx(Ik,{size:18}),u?"Updating...":"Update Menu"]})]})]})]})}function L9(){const[n,e]=he.useState([]),[t,r]=he.useState(""),[a,o]=he.useState(null),[u,c]=he.useState([]),[f,d]=he.useState([]),[g,w]=he.useState([]),[A,_]=he.useState([]),[P,I]=he.useState(!1),[L,j]=he.useState(""),[$,X]=he.useState(""),[Z,se]=he.useState(""),[_e,z]=he.useState("shot"),[U,k]=he.useState(1),[H,C]=he.useState(""),[M,F]=he.useState(!1);he.useEffect(()=>{ue(),Ne()},[]),he.useEffect(()=>{if(!a){d([]),w([]),_([]);return}I(!0);const W=mr(mn(Ft,"transactions"),si("userId","==",a.id)),D=mr(mn(Ft,"bar_transactions"),si("userId","==",a.id)),K=mr(mn(Ft,"payments"),si("userId","==",a.id));ha(W,ee=>{const oe=ee.docs.map(ce=>({id:ce.id,...ce.data(),category:"Messing"}));oe.sort((ce,ve)=>new Date(ve.date)-new Date(ce.date)),d(oe),I(!1)}),ha(D,ee=>{const oe=ee.docs.map(ce=>({id:ce.id,...ce.data(),category:"Bar"}));oe.sort((ce,ve)=>new Date(ve.date)-new Date(ce.date)),w(oe)}),ha(K,ee=>{const oe=ee.docs.map(ce=>({id:ce.id,...ce.data()}));oe.sort((ce,ve)=>new Date(ve.date)-new Date(ce.date)),_(oe)})},[a]);const ue=async()=>{const W=mr(mn(Ft,"users"),si("role","==","officer")),K=(await Fa(W)).docs.map(ee=>({id:ee.id,...ee.data()}));K.sort((ee,oe)=>ee.officerNo.localeCompare(oe.officerNo)),e(K)},Ne=async()=>{const W=mr(mn(Ft,"inventory"),si("available","==",!0)),D=await Fa(W);c(D.docs.map(K=>({id:K.id,...K.data()})))},le=()=>n.filter(W=>W.name.toLowerCase().includes(t.toLowerCase())||W.officerNo.toLowerCase().includes(t.toLowerCase())),ge=()=>{const W=f.reduce((K,ee)=>K+(ee.totalCost||0),0)+g.reduce((K,ee)=>K+(ee.totalCost||0),0),D=A.reduce((K,ee)=>K+(ee.amount||0),0);return{totalDebit:W,totalCredit:D,outstanding:W-D}},pe=async W=>{if(W.preventDefault(),!(!L||!$)){F(!0);try{await Rc(mn(Ft,"transactions"),{userId:a.id,date:new Date().toISOString(),type:"messing",items:[{name:L,cost:parseFloat($)}],totalCost:parseFloat($),timestamp:Wl()}),j(""),X(""),alert("Messing entry added!")}catch(D){console.error(D),alert("Failed to add entry.")}finally{F(!1)}}},Ce=async W=>{if(W.preventDefault(),!!Z){F(!0);try{const D=u.find(oe=>oe.id===Z),ee=(_e==="bottle"?D.priceFull:D.priceShot)*parseInt(U);await Rc(mn(Ft,"bar_transactions"),{userId:a.id,date:new Date().toISOString(),type:"bar",items:[{brand:D.brand,type:_e,quantity:parseInt(U),cost:ee}],totalCost:ee,timestamp:Wl()}),se(""),k(1),alert("Bar entry added!")}catch(D){console.error(D),alert("Failed to add entry.")}finally{F(!1)}}},Ge=async W=>{if(W.preventDefault(),!!H&&confirm(`Confirm payment of LKR ${H} for ${a.name}?`)){F(!0);try{await Rc(mn(Ft,"payments"),{userId:a.id,amount:parseFloat(H),date:new Date().toISOString().split("T")[0],timestamp:Wl()}),C(""),alert("Payment recorded successfully.")}catch(D){console.error(D),alert("Failed to record payment.")}finally{F(!1)}}};return x.jsxs("div",{className:"max-w-7xl mx-auto flex gap-6 h-[calc(100vh-100px)]",children:[x.jsxs("div",{className:"w-1/4 flex flex-col",children:[x.jsx("div",{className:"mb-4",children:x.jsx(ua,{placeholder:"Search Officers...",value:t,onChange:W=>r(W.target.value),className:"mb-0"})}),x.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-army-200 flex-1 overflow-y-auto",children:le().map(W=>x.jsx("div",{onClick:()=>o(W),className:`p-3 border-b border-army-100 cursor-pointer hover:bg-army-50 transition-colors ${a?.id===W.id?"bg-army-100":""}`,children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 rounded-full bg-army-200 flex items-center justify-center text-army-700 font-bold text-sm",children:W.rank.charAt(0)}),x.jsxs("div",{children:[x.jsxs("h3",{className:"font-semibold text-army-900 text-sm",children:[W.rank," ",W.name]}),x.jsx("p",{className:"text-xs text-army-500",children:W.officerNo})]})]})},W.id))})]}),x.jsx("div",{className:"w-3/4 flex flex-col h-full overflow-hidden",children:a?x.jsxs("div",{className:"flex flex-col h-full gap-4",children:[x.jsxs("div",{className:"flex gap-4",children:[x.jsx(gn,{className:"flex-1 bg-army-900 text-white p-4",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-lg font-bold",children:[a.rank," ",a.name]}),x.jsx("p",{className:"text-army-400 text-sm",children:a.officerNo})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-army-400 text-xs",children:"Total Outstanding"}),x.jsxs("h3",{className:`text-2xl font-bold ${ge().outstanding>0?"text-blue-400":"text-green-400"}`,children:["LKR ",ge().outstanding.toFixed(2)]})]})]})}),x.jsxs(gn,{className:"w-1/3 p-4 bg-green-50 border-green-200",children:[x.jsxs("h3",{className:"font-bold text-green-800 text-sm mb-2 flex items-center gap-2",children:[x.jsx(Ry,{size:16})," Record Payment"]}),x.jsxs("form",{onSubmit:Ge,className:"flex gap-2",children:[x.jsx("input",{type:"number",placeholder:"Amount",className:"flex-1 p-2 border rounded text-sm",value:H,onChange:W=>C(W.target.value)}),x.jsx(vi,{type:"submit",size:"sm",className:"bg-green-600 hover:bg-green-700",disabled:M,children:"Pay"})]})]})]}),x.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4 overflow-hidden",children:[x.jsxs("div",{className:"flex flex-col gap-4 overflow-hidden",children:[x.jsxs(gn,{className:"p-4 bg-orange-50 border-orange-100",children:[x.jsxs("h3",{className:"font-bold text-orange-800 text-sm mb-3 flex items-center gap-2",children:[x.jsx(Gm,{size:16})," Sheet A: Messing Entry"]}),x.jsxs("form",{onSubmit:pe,className:"space-y-3",children:[x.jsx(ua,{label:"Description",placeholder:"Tea, Guest Meal...",value:L,onChange:W=>j(W.target.value),className:"bg-white"}),x.jsx(ua,{label:"Cost (LKR)",type:"number",placeholder:"0.00",value:$,onChange:W=>X(W.target.value),className:"bg-white"}),x.jsx(vi,{type:"submit",variant:"secondary",size:"sm",disabled:M,className:"w-full bg-orange-600 text-white hover:bg-orange-700 border-none",children:"Add to Messing Sheet"})]})]}),x.jsxs(gn,{className:"flex-1 p-0 flex flex-col overflow-hidden border border-orange-200 shadow-sm",children:[x.jsx("div",{className:"p-2 bg-orange-100 border-b border-orange-200",children:x.jsx("h3",{className:"font-bold text-orange-900 text-xs",children:"Messing Log"})}),x.jsx("div",{className:"flex-1 overflow-y-auto",children:x.jsxs("table",{className:"w-full text-left text-xs",children:[x.jsx("thead",{className:"bg-orange-50 text-orange-900 sticky top-0",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-2 font-semibold",children:"Date"}),x.jsx("th",{className:"p-2 font-semibold",children:"Item"}),x.jsx("th",{className:"p-2 font-semibold text-right",children:"Cost"})]})}),x.jsx("tbody",{className:"divide-y divide-orange-100",children:f.map((W,D)=>x.jsxs("tr",{className:"hover:bg-orange-50",children:[x.jsx("td",{className:"p-2 text-gray-500 whitespace-nowrap",children:W.date.split("T")[0]}),x.jsxs("td",{className:"p-2 font-medium text-gray-900",children:[W.items?.[0]?.name,W.items&&W.items.length>1&&x.jsxs("span",{className:"text-[10px] text-gray-500 block",children:["(",W.items.length," items)"]})]}),x.jsx("td",{className:"p-2 text-right font-medium text-orange-900",children:W.totalCost.toFixed(2)})]},D))})]})})]})]}),x.jsxs("div",{className:"flex flex-col gap-4 overflow-hidden",children:[x.jsxs(gn,{className:"p-4 bg-purple-50 border-purple-100",children:[x.jsxs("h3",{className:"font-bold text-purple-800 text-sm mb-3 flex items-center gap-2",children:[x.jsx(tf,{size:16})," Sheet B: Bar Entry"]}),x.jsxs("form",{onSubmit:Ce,className:"space-y-3",children:[x.jsxs("select",{value:Z,onChange:W=>se(W.target.value),className:"w-full p-2 border rounded text-sm bg-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[x.jsx("option",{value:"",children:"Select Brand"}),u.map(W=>x.jsx("option",{value:W.id,children:W.brand},W.id))]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("select",{value:_e,onChange:W=>z(W.target.value),className:"w-full p-2 border rounded text-sm bg-white",children:[x.jsx("option",{value:"shot",children:"Shot"}),x.jsx("option",{value:"bottle",children:"Bottle"})]}),x.jsx("input",{type:"number",min:"1",className:"w-16 p-2 border rounded text-sm text-center bg-white",value:U,onChange:W=>k(W.target.value)})]}),x.jsx(vi,{type:"submit",variant:"secondary",size:"sm",disabled:M,className:"w-full bg-purple-600 text-white hover:bg-purple-700 border-none",children:"Add to Bar Sheet"})]})]}),x.jsxs(gn,{className:"flex-1 p-0 flex flex-col overflow-hidden border border-purple-200 shadow-sm",children:[x.jsx("div",{className:"p-2 bg-purple-100 border-b border-purple-200",children:x.jsx("h3",{className:"font-bold text-purple-900 text-xs",children:"Bar Log"})}),x.jsx("div",{className:"flex-1 overflow-y-auto",children:x.jsxs("table",{className:"w-full text-left text-xs",children:[x.jsx("thead",{className:"bg-purple-50 text-purple-900 sticky top-0",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-2 font-semibold",children:"Date"}),x.jsx("th",{className:"p-2 font-semibold",children:"Item"}),x.jsx("th",{className:"p-2 font-semibold text-right",children:"Cost"})]})}),x.jsx("tbody",{className:"divide-y divide-purple-100",children:g.map((W,D)=>x.jsxs("tr",{className:"hover:bg-purple-50",children:[x.jsx("td",{className:"p-2 text-gray-500 whitespace-nowrap",children:W.date.split("T")[0]}),x.jsxs("td",{className:"p-2 font-medium text-gray-900",children:[W.items?.[0]?.brand,x.jsxs("span",{className:"text-[10px] text-gray-500 block",children:[W.items?.[0]?.type," x",W.items?.[0]?.quantity]})]}),x.jsx("td",{className:"p-2 text-right font-medium text-purple-900",children:W.totalCost.toFixed(2)})]},D))})]})})]})]})]})]}):x.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[x.jsx(pS,{size:48,className:"mb-4 opacity-50"}),x.jsx("p",{children:"Select an officer to view ledger and add entries."})]})})]})}function k9(){const[n,e]=he.useState(new Date().toISOString().split("T")[0]),[t,r]=he.useState([]),[a,o]=he.useState(!0),[u,c]=he.useState(!1),[f,d]=he.useState("Tea"),[g,w]=he.useState(""),[A,_]=he.useState(""),[P,I]=he.useState({});he.useEffect(()=>{L()},[]);const L=async()=>{try{const se=mr(mn(Ft,"users"),si("role","==","officer")),z=(await Fa(se)).docs.map(k=>({id:k.id,...k.data()}));z.sort((k,H)=>k.officerNo.localeCompare(H.officerNo)),r(z);const U={};z.forEach(k=>{U[k.id]={selected:!1,cost:"",desc:""}}),I(U),o(!1)}catch(se){console.error("Error fetching officers:",se),o(!1)}};he.useEffect(()=>{},[f,g,A]);const j=se=>{I(_e=>({..._e,[se]:{..._e[se],selected:!_e[se].selected,cost:!_e[se].selected&&!_e[se].cost?A:_e[se].cost,desc:!_e[se].selected&&!_e[se].desc?g:_e[se].desc}}))},$=(se,_e,z)=>{I(U=>({...U,[se]:{...U[se],[_e]:z,selected:!0}}))},X=()=>{const se=t.every(_e=>P[_e.id]?.selected);I(_e=>{const z={..._e};return Object.keys(z).forEach(U=>{z[U].selected=!se,se||(z[U].cost||(z[U].cost=A),z[U].desc||(z[U].desc=g))}),z})},Z=async()=>{const se=Object.keys(P).filter(U=>P[U].selected);if(se.length===0){alert("Please select at least one officer.");return}c(!0);const _e=O7(Ft);let z=0;try{for(const U of se){const k=P[U],H=parseFloat(k.cost);if(H>0){const C=za(mn(Ft,"transactions"));let M=f;f==="Other"||f==="Special"?M=k.desc||g||"Special Item":k.desc&&(M=`${f} - ${k.desc}`);const F=[{name:M,cost:H}];_e.set(C,{userId:U,date:n,type:"messing",items:F,totalCost:H,timestamp:Wl(),isBulkEntry:!0}),z++}}if(z>0){await _e.commit(),alert(`Successfully saved ${z} transactions.`);const U={...P};se.forEach(k=>{U[k]={selected:!1,cost:"",desc:""}}),I(U)}else alert("Selected entries have 0 cost. Nothing saved.")}catch(U){console.error("Error batch saving:",U),alert("Failed to save ledger.")}finally{c(!1)}};return a?x.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading officers..."}):x.jsxs("div",{className:"max-w-[95%] mx-auto space-y-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-army-900",children:"Daily Ledger"}),x.jsx("p",{className:"text-army-600",children:"Bulk Transaction Entry"})]}),x.jsx("div",{className:"flex items-center gap-4 bg-white p-3 rounded-lg shadow-sm border border-army-100",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Qd,{className:"text-army-600",size:18}),x.jsx("input",{type:"date",value:n,onChange:se=>e(se.target.value),className:"p-1 border border-army-300 rounded focus:outline-none focus:ring-2 focus:ring-army-500"})]})})]}),x.jsxs(gn,{className:"bg-army-50 border-army-200",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-semibold text-army-700 mb-1",children:"Item Type"}),x.jsxs("select",{value:f,onChange:se=>d(se.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-army-500",children:[x.jsx("option",{value:"Breakfast",children:"Breakfast"}),x.jsx("option",{value:"Lunch",children:"Lunch"}),x.jsx("option",{value:"Dinner",children:"Dinner"}),x.jsx("option",{value:"Tea",children:"Tea"}),x.jsx("option",{value:"Other",children:"Other / Special"})]})]}),x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-xs font-semibold text-army-700 mb-1",children:f==="Other"?"Description (Required)":"Description (Optional)"}),x.jsx("input",{type:"text",placeholder:f==="Other"?"e.g. Special Fried Rice":"e.g. Extra Chicken",value:g,onChange:se=>w(se.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-army-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-semibold text-army-700 mb-1",children:"Default Price (LKR)"}),x.jsx("input",{type:"number",placeholder:"0.00",value:A,onChange:se=>_(se.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-army-500 font-bold text-right"})]})]}),x.jsxs("div",{className:"mt-4 flex justify-between items-center border-t border-army-200 pt-3",children:[x.jsx("p",{className:"text-xs text-army-600 italic",children:"* Select officers below. Prices will auto-fill with the Default Price."}),x.jsxs(vi,{onClick:Z,disabled:u,className:"flex items-center gap-2",children:[u?x.jsx(l2,{className:"animate-spin",size:20}):x.jsx(Ck,{size:20}),"Save Selected Rows"]})]})]}),x.jsx(gn,{className:"overflow-hidden p-0 border border-army-200 shadow-lg",children:x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left text-sm border-collapse",children:[x.jsx("thead",{className:"bg-army-800 text-white sticky top-0 z-10",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-3 w-12 text-center cursor-pointer hover:bg-army-700",onClick:X,children:x.jsx(W_,{size:18,className:"mx-auto"})}),x.jsx("th",{className:"p-3 font-semibold min-w-[200px]",children:"Officer"}),x.jsx("th",{className:"p-3 font-semibold w-32 text-right",children:"Price (LKR)"}),x.jsx("th",{className:"p-3 font-semibold w-64",children:"Specific Note (Optional)"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:t.map(se=>{const _e=P[se.id]||{selected:!1,cost:"",desc:""};return x.jsxs("tr",{className:`transition-colors ${_e.selected?"bg-orange-50":"hover:bg-gray-50"}`,children:[x.jsx("td",{className:"p-3 text-center cursor-pointer",onClick:()=>j(se.id),children:_e.selected?x.jsx(W_,{size:20,className:"mx-auto text-army-600"}):x.jsx(Pk,{size:20,className:"mx-auto text-gray-300"})}),x.jsxs("td",{className:"p-3 cursor-pointer",onClick:()=>j(se.id),children:[x.jsxs("div",{className:"font-bold text-army-900",children:[se.rank," ",se.name]}),x.jsx("div",{className:"text-xs text-gray-500",children:se.officerNo})]}),x.jsx("td",{className:"p-2",children:x.jsx("input",{type:"number",placeholder:"0.00",className:`w-full p-2 border rounded text-right font-medium focus:ring-2 focus:ring-army-500 ${_e.selected&&!_e.cost?"border-red-300 bg-red-50":"border-gray-200"}`,value:_e.cost,onChange:z=>$(se.id,"cost",z.target.value)})}),x.jsx("td",{className:"p-2",children:x.jsx("input",{type:"text",placeholder:g||"Add note...",className:"w-full p-2 border border-gray-200 rounded focus:ring-2 focus:ring-army-500",value:_e.desc,onChange:z=>$(se.id,"desc",z.target.value)})})]},se.id)})})]})})})]})}function D9(){const[n,e]=he.useState(new Date().toISOString().split("T")[0]),[t,r]=he.useState([]),[a,o]=he.useState({}),[u,c]=he.useState(!1);he.useEffect(()=>{f()},[n]);const f=async()=>{c(!0);try{const w=await Fa(mr(mn(Ft,"users"))),A={};w.forEach(I=>{A[I.data().uid]=I.data()}),o(A);const _=mr(mn(Ft,"rsvp"),si("date","==",n)),P=await Fa(_);r(P.docs.map(I=>I.data()))}catch(w){console.error("Error fetching kitchen data:",w)}finally{c(!1)}},d=t.reduce((w,A)=>(A.meals?.breakfast&&w.breakfast++,A.meals?.lunch&&w.lunch++,A.meals?.dinner&&w.dinner++,w),{breakfast:0,lunch:0,dinner:0}),g=w=>t.filter(A=>A.meals?.[w]).map(A=>a[A.userId]||{rank:"Unknown",name:"Officer",officerNo:"N/A"}).sort((A,_)=>A.officerNo?.localeCompare(_.officerNo));return x.jsxs("div",{className:"max-w-6xl mx-auto",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-army-900",children:"Kitchen Summary"}),x.jsx("p",{className:"text-army-600",children:"Meal requests overview for catering planning."})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{className:"relative",children:[x.jsx(Qd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-army-600",size:18}),x.jsx("input",{type:"date",value:n,onChange:w=>e(w.target.value),className:"pl-10 pr-4 py-2 border border-army-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-army-500"})]}),x.jsx(vi,{onClick:f,variant:"secondary",className:"p-2",children:x.jsx(fS,{size:20,className:u?"animate-spin":""})})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[x.jsxs(gn,{className:"bg-orange-50 border-orange-200",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h3",{className:"text-lg font-bold text-orange-900",children:"Breakfast"}),x.jsx(Vh,{className:"text-orange-400"})]}),x.jsx("p",{className:"text-4xl font-bold text-orange-700 mt-2",children:d.breakfast}),x.jsx("p",{className:"text-sm text-orange-600",children:"Requests"})]}),x.jsxs(gn,{className:"bg-green-50 border-green-200",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h3",{className:"text-lg font-bold text-green-900",children:"Lunch"}),x.jsx(Vh,{className:"text-green-400"})]}),x.jsx("p",{className:"text-4xl font-bold text-green-700 mt-2",children:d.lunch}),x.jsx("p",{className:"text-sm text-green-600",children:"Requests"})]}),x.jsxs(gn,{className:"bg-blue-50 border-blue-200",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h3",{className:"text-lg font-bold text-blue-900",children:"Dinner"}),x.jsx(Vh,{className:"text-blue-400"})]}),x.jsx("p",{className:"text-4xl font-bold text-blue-700 mt-2",children:d.dinner}),x.jsx("p",{className:"text-sm text-blue-600",children:"Requests"})]})]}),x.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:["breakfast","lunch","dinner"].map(w=>x.jsxs(gn,{className:"flex flex-col h-[500px]",children:[x.jsxs("h3",{className:"text-lg font-bold text-army-900 capitalize mb-4 pb-2 border-b border-army-100 flex items-center gap-2",children:[x.jsx($m,{size:18})," ",w," List"]}),x.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:g(w).length>0?x.jsx("ul",{className:"space-y-2",children:g(w).map((A,_)=>x.jsx("li",{className:"flex justify-between items-center p-2 hover:bg-gray-50 rounded bg-white border border-gray-100",children:x.jsxs("div",{children:[x.jsxs("span",{className:"font-semibold text-army-800 text-sm",children:[A.rank," ",A.name]}),x.jsx("div",{className:"text-xs text-gray-400",children:A.officerNo})]})},_))}):x.jsx("p",{className:"text-center text-gray-400 italic mt-10",children:"No requests."})})]},w))})]})}function O9(){const[n,e]=he.useState([]),[t,r]=he.useState(!1),[a,o]=he.useState(""),[u,c]=he.useState({key:"totalOutstanding",direction:"desc"}),f=Bc(),d=async()=>{r(!0);try{const L=(await Fa(mr(mn(Ft,"users")))).docs.map(se=>({id:se.id,...se.data()})).filter(se=>se.role==="officer"),[j,$,X]=await Promise.all([Fa(mn(Ft,"transactions")),Fa(mn(Ft,"bar_transactions")),Fa(mn(Ft,"payments"))]),Z=L.map(se=>{const _e=j.docs.filter(M=>M.data().userId===se.id),z=$.docs.filter(M=>M.data().userId===se.id),U=X.docs.filter(M=>M.data().userId===se.id),k=_e.reduce((M,F)=>M+(F.data().totalCost||0),0),H=z.reduce((M,F)=>M+(F.data().totalCost||0),0),C=U.reduce((M,F)=>M+(F.data().amount||0),0);return{id:se.id,officerNo:se.officerNo||"",rank:se.rank||"",name:se.name||"Unknown",messBill:k,barBill:H,paid:C,totalOutstanding:k+H-C}});e(Z)}catch(I){console.error("Error fetching billing data:",I),alert("Failed to load financial data.")}finally{r(!1)}};he.useEffect(()=>{d()},[]);const g=I=>{let L="asc";u.key===I&&u.direction==="asc"&&(L="desc"),c({key:I,direction:L})},A=[...n].sort((I,L)=>I[u.key]<L[u.key]?u.direction==="asc"?-1:1:I[u.key]>L[u.key]?u.direction==="asc"?1:-1:0).filter(I=>I.name.toLowerCase().includes(a.toLowerCase())||I.officerNo.toLowerCase().includes(a.toLowerCase())),_=n.reduce((I,L)=>I+L.totalOutstanding,0),P=()=>{const I=["Officer No","Rank","Name","Mess Bill","Bar Bill","Paid","Outstanding"],L=A.map(Z=>[Z.officerNo,Z.rank,Z.name,Z.messBill.toFixed(2),Z.barBill.toFixed(2),Z.paid.toFixed(2),Z.totalOutstanding.toFixed(2)]);let j="data:text/csv;charset=utf-8,";j+=I.join(",")+`
`,L.forEach(Z=>j+=Z.join(",")+`
`);const $=encodeURI(j),X=document.createElement("a");X.setAttribute("href",$),X.setAttribute("download",`mess_billing_summary_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(X),X.click()};return x.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-army-900",children:"Financial Overview"}),x.jsx("p",{className:"text-army-600",children:"Master billing dashboard for the Mess."})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{className:"relative",children:[x.jsx(dS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),x.jsx("input",{type:"text",placeholder:"Search officer...",value:a,onChange:I=>o(I.target.value),className:"pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-army-500 w-64"})]}),x.jsx(vi,{onClick:d,variant:"secondary",className:"p-2",children:x.jsx(fS,{size:20,className:t?"animate-spin":""})}),x.jsxs(vi,{onClick:P,className:"flex items-center gap-2",children:[x.jsx(o2,{size:18})," Export"]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs(gn,{className:"bg-army-900 text-white md:col-span-3 lg:col-span-1",children:[x.jsx("h3",{className:"text-army-200 text-sm",children:"Total Outstanding (All Officers)"}),x.jsxs("div",{className:"text-2xl text-blue-400 font-bold mt-2",children:["LKR ",_.toFixed(2)]}),x.jsx("p",{className:"text-xs text-army-400 mt-2",children:"Sum of all individual debts."})]}),x.jsx("div",{className:"md:col-span-3 lg:col-span-2",children:x.jsx(gn,{className:"p-0 overflow-hidden shadow-lg border border-army-200",children:x.jsx("div",{className:"overflow-x-auto max-h-[600px]",children:x.jsxs("table",{className:"w-full text-left text-sm",children:[x.jsx("thead",{className:"bg-army-100 text-army-800 sticky top-0 z-10",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4 font-semibold cursor-pointer hover:bg-army-200",onClick:()=>g("officerNo"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Off No ",x.jsx(xc,{size:14})]})}),x.jsx("th",{className:"p-4 font-semibold cursor-pointer hover:bg-army-200",onClick:()=>g("rank"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Rank ",x.jsx(xc,{size:14})]})}),x.jsx("th",{className:"p-4 font-semibold cursor-pointer hover:bg-army-200",onClick:()=>g("name"),children:x.jsxs("div",{className:"flex items-center gap-1",children:["Name ",x.jsx(xc,{size:14})]})}),x.jsx("th",{className:"p-4 font-semibold text-right cursor-pointer hover:bg-army-200",onClick:()=>g("messBill"),children:x.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Mess Bill ",x.jsx(xc,{size:14})]})}),x.jsx("th",{className:"p-4 font-semibold text-right cursor-pointer hover:bg-army-200",onClick:()=>g("barBill"),children:x.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Bar Bill ",x.jsx(xc,{size:14})]})}),x.jsx("th",{className:"p-4 font-semibold text-right cursor-pointer hover:bg-army-200",onClick:()=>g("paid"),children:x.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Paid ",x.jsx(xc,{size:14})]})}),x.jsx("th",{className:"p-4 font-semibold text-right cursor-pointer hover:bg-army-200 bg-army-200",onClick:()=>g("totalOutstanding"),children:x.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Outstanding ",x.jsx(xc,{size:14})]})})]})}),x.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:t?x.jsx("tr",{children:x.jsx("td",{colSpan:"7",className:"p-8 text-center text-gray-500",children:"Calculating financial data..."})}):A.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:"7",className:"p-8 text-center text-gray-500",children:"No records found."})}):A.map(I=>x.jsxs("tr",{className:"hover:bg-orange-50 transition-colors",children:[x.jsx("td",{className:"p-4 text-gray-500",children:I.officerNo}),x.jsx("td",{className:"p-4 text-gray-900 font-medium",children:I.rank}),x.jsx("td",{className:"p-4 text-army-900 font-bold hover:underline cursor-pointer",onClick:()=>f("/admin/officers"),children:I.name}),x.jsx("td",{className:"p-4 text-right text-gray-600",children:I.messBill.toFixed(2)}),x.jsx("td",{className:"p-4 text-right text-gray-600",children:I.barBill.toFixed(2)}),x.jsxs("td",{className:"p-4 text-right text-green-600 font-medium",children:["-",I.paid.toFixed(2)]}),x.jsx("td",{className:`p-4 text-right font-bold border-l border-gray-100 ${I.totalOutstanding>0?"text-red-600":"text-green-600"}`,children:I.totalOutstanding.toFixed(2)})]},I.id))})]})})})})]})]})}function P9(){const[n,e]=he.useState([]),[t,r]=he.useState(!1),[a,o]=he.useState({brand:"",priceFull:"",priceShot:"",available:!0}),[u,c]=he.useState(null);he.useEffect(()=>{const A=mr(mn(Ft,"inventory"),sS("brand")),_=ha(A,P=>{e(P.docs.map(I=>({id:I.id,...I.data()})))});return()=>_()},[]);const f=async A=>{A.preventDefault();try{u?(await Hm(za(Ft,"inventory",u),{brand:a.brand,priceFull:parseFloat(a.priceFull),priceShot:parseFloat(a.priceShot),available:a.available}),c(null)):await Rc(mn(Ft,"inventory"),{brand:a.brand,priceFull:parseFloat(a.priceFull),priceShot:parseFloat(a.priceShot),available:a.available}),o({brand:"",priceFull:"",priceShot:"",available:!0}),r(!1)}catch(_){console.error("Error saving inventory:",_)}},d=A=>{o({brand:A.brand,priceFull:A.priceFull,priceShot:A.priceShot,available:A.available}),c(A.id),r(!0)},g=async A=>{window.confirm("Are you sure you want to delete this item?")&&await D7(za(Ft,"inventory",A))},w=async A=>{await Hm(za(Ft,"inventory",A.id),{available:!A.available})};return x.jsxs("div",{className:"max-w-5xl mx-auto",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h1",{className:"text-2xl font-bold text-army-900",children:"Bar Inventory"}),x.jsxs(vi,{onClick:()=>{r(!0),c(null),o({brand:"",priceFull:"",priceShot:"",available:!0})},children:[x.jsx(Ak,{size:20,className:"mr-2"})," Add Item"]})]}),t&&x.jsxs(gn,{className:"mb-8 border-l-4 border-l-army-500",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"font-bold text-lg",children:u?"Edit Item":"Add New Item"}),x.jsx("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-600",children:x.jsx(Iy,{size:20})})]}),x.jsxs("form",{onSubmit:f,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[x.jsx("div",{className:"md:col-span-1",children:x.jsx(ua,{label:"Brand Name",value:a.brand,onChange:A=>o({...a,brand:A.target.value}),required:!0})}),x.jsx("div",{children:x.jsx(ua,{label:"Price (Full Bottle)",type:"number",value:a.priceFull,onChange:A=>o({...a,priceFull:A.target.value}),required:!0})}),x.jsx("div",{children:x.jsx(ua,{label:"Price (50ml Shot)",type:"number",value:a.priceShot,onChange:A=>o({...a,priceShot:A.target.value}),required:!0})}),x.jsx("div",{className:"mb-4",children:x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:a.available,onChange:A=>o({...a,available:A.target.checked}),className:"w-4 h-4 text-army-600 rounded focus:ring-army-500"}),x.jsx("span",{className:"text-sm font-medium text-army-800",children:"In Stock"})]})}),x.jsxs("div",{className:"md:col-span-4 flex justify-end gap-2",children:[x.jsx(vi,{type:"button",variant:"ghost",onClick:()=>r(!1),children:"Cancel"}),x.jsx(vi,{type:"submit",children:u?"Update Item":"Save Item"})]})]})]}),x.jsx(gn,{className:"overflow-hidden p-0",children:x.jsxs("table",{className:"w-full text-left text-sm",children:[x.jsx("thead",{className:"bg-army-50 text-army-700",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4 font-semibold",children:"Brand"}),x.jsx("th",{className:"p-4 font-semibold text-right",children:"Price (Bottle)"}),x.jsx("th",{className:"p-4 font-semibold text-right",children:"Price (Shot)"}),x.jsx("th",{className:"p-4 font-semibold text-center",children:"Status"}),x.jsx("th",{className:"p-4 font-semibold text-right",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-100",children:n.map(A=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"p-4 font-medium text-gray-900",children:A.brand}),x.jsx("td",{className:"p-4 text-right text-gray-600",children:A.priceFull?.toFixed(2)}),x.jsx("td",{className:"p-4 text-right text-gray-600",children:A.priceShot?.toFixed(2)}),x.jsx("td",{className:"p-4 text-center",children:x.jsx("button",{onClick:()=>w(A),className:`inline-flex items-center px-2 py-1 rounded text-xs font-semibold ${A.available?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:A.available?"In Stock":"Unavailable"})}),x.jsxs("td",{className:"p-4 text-right flex justify-end gap-2",children:[x.jsx("button",{onClick:()=>d(A),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:x.jsx(xk,{size:16})}),x.jsx("button",{onClick:()=>g(A.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:x.jsx(Mk,{size:16})})]})]},A.id))})]})})]})}function vA({onSend:n,recipients:e,loading:t,isAdmin:r}){const[a,o]=he.useState(""),[u,c]=he.useState(""),f=d=>{d.preventDefault(),a.trim()&&(r&&!u||(n({content:a,recipientId:r?u:"admin"}),o(""),r&&c("")))};return x.jsxs(gn,{className:"p-4 bg-white sticky top-4",children:[x.jsxs("h3",{className:"text-lg font-bold text-army-900 mb-4 flex items-center gap-2",children:[x.jsx(G_,{size:20}),"Compose Message"]}),x.jsxs("form",{onSubmit:f,className:"flex flex-col gap-4",children:[r&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-semibold text-army-600 mb-1",children:"To:"}),x.jsxs("select",{value:u,onChange:d=>c(d.target.value),className:"w-full p-2 border border-army-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-army-500 bg-white",required:!0,children:[x.jsx("option",{value:"",children:"Select Officer..."}),x.jsx("option",{value:"all",children:" ALL OFFICERS (Broadcast)"}),e.map(d=>x.jsxs("option",{value:d.id,children:[d.rank," ",d.name," (",d.officerNo,")"]},d.id))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-semibold text-army-600 mb-1",children:"Message:"}),x.jsx("textarea",{value:a,onChange:d=>o(d.target.value),placeholder:r?"Type your reminder here...":"Type your note to the mess office...",rows:4,className:"w-full p-3 border border-army-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-army-500 resize-none",required:!0})]}),x.jsxs(vi,{type:"submit",disabled:t||!a.trim()||r&&!u,className:"flex justify-center items-center gap-2",children:[x.jsx(G_,{size:16}),"Send Message"]})]})]})}function A2({message:n,isOwnMessage:e,onMarkRead:t}){const r=a=>a?(a.toDate?a.toDate():new Date(a)).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return x.jsx(gn,{className:`p-4 transition-all ${!n.isRead&&!e?"bg-blue-50 border-blue-200 border-l-4 border-l-blue-500":"bg-white border-army-100 hover:bg-army-50"}`,children:x.jsxs("div",{className:"flex justify-between items-start gap-4",children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[x.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${e?"bg-army-100 text-army-700":"bg-blue-100 text-blue-700"}`,children:e?"Sent":"Received"}),x.jsxs("h4",{className:"text-sm font-semibold text-army-900 flex items-center gap-1",children:[x.jsx(pS,{size:14,className:"text-army-400"}),n.senderName||"Unknown User"]})]}),x.jsx("p",{className:"text-gray-700 text-sm whitespace-pre-wrap mt-2",children:n.content}),x.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-gray-400",children:[x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx(ok,{size:12}),r(n.timestamp)]}),e&&x.jsx("span",{className:"flex items-center gap-1",children:n.isRead?x.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[x.jsx(ik,{size:12})," Read"]}):x.jsx("span",{children:"Delivered"})})]})]}),!e&&!n.isRead&&t&&x.jsx("button",{onClick:()=>t(n.id),className:"text-xs bg-blue-100 text-blue-600 px-3 py-1 rounded-full hover:bg-blue-200 transition-colors font-medium whitespace-nowrap",children:"Mark Read"})]})})}function j9(){const{userData:n}=nu(),[e,t]=he.useState([]),[r,a]=he.useState([]),[o,u]=he.useState("all"),[c,f]=he.useState(!1);he.useEffect(()=>{d();const L=mr(mn(Ft,"messages"),sS("timestamp","desc"));return ha(L,$=>{const X=$.docs.map(Z=>({id:Z.id,...Z.data()}));t(X)})},[]);const d=async()=>{const L=mr(mn(Ft,"users"),si("role","==","officer")),$=(await Fa(L)).docs.map(X=>({id:X.id,...X.data()}));$.sort((X,Z)=>X.rank.localeCompare(Z.rank)),a($)},g=async({content:L,recipientId:j})=>{f(!0);try{if(j==="all"){const $=r.map(X=>Rc(mn(Ft,"messages"),{senderId:"admin",senderName:"Mess Office",senderRole:"admin",recipientId:X.id,recipientName:`${X.rank} ${X.name}`,content:L,isRead:!1,timestamp:Wl()}));await Promise.all($),alert("Broadcast sent to all officers!")}else{const $=r.find(X=>X.id===j);await Rc(mn(Ft,"messages"),{senderId:"admin",senderName:"Mess Office",senderRole:"admin",recipientId:j,recipientName:$?`${$.rank} ${$.name}`:"Unknown",content:L,isRead:!1,timestamp:Wl()}),alert("Reminder sent!")}}catch($){console.error("Error sending message:",$),alert("Failed to send message.")}finally{f(!1)}},w=async L=>{try{await Hm(za(Ft,"messages",L),{isRead:!0})}catch(j){console.error("Error marking as read:",j)}},[A,_]=he.useState("inbox"),P=e.filter(L=>L.recipientId==="admin"),I=e.filter(L=>L.senderId==="admin");return x.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[x.jsxs("header",{className:"mb-6",children:[x.jsxs("h1",{className:"text-2xl font-bold text-army-900 flex items-center gap-2",children:[x.jsx(Wm,{size:28}),"Message Center"]}),x.jsx("p",{className:"text-army-600",children:"Manage communications with officers."})]}),x.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center gap-4 border-b border-army-200 mb-4",children:[x.jsx("button",{onClick:()=>_("inbox"),className:`pb-2 px-4 font-semibold text-sm transition-colors ${A==="inbox"?"border-b-2 border-army-600 text-army-900":"text-army-400 hover:text-army-600"}`,children:x.jsxs("div",{className:"flex items-center gap-2",children:["Inbox",P.some(L=>!L.isRead)&&x.jsx("span",{className:"bg-red-500 text-white text-[10px] px-1.5 rounded-full",children:P.filter(L=>!L.isRead).length})]})}),x.jsx("button",{onClick:()=>_("sent"),className:`pb-2 px-4 font-semibold text-sm transition-colors ${A==="sent"?"border-b-2 border-army-600 text-army-900":"text-army-400 hover:text-army-600"}`,children:"Sent Reminders"})]}),x.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:A==="inbox"?P.length>0?P.map(L=>x.jsx(A2,{message:L,isOwnMessage:!1,onMarkRead:w},L.id)):x.jsx("p",{className:"text-center text-gray-400 py-8",children:"No messages received."}):I.length>0?I.map(L=>x.jsx(A2,{message:L,isOwnMessage:!0},L.id)):x.jsx("p",{className:"text-center text-gray-400 py-8",children:"No reminders sent."})})]}),x.jsx("div",{className:"w-full lg:w-1/3",children:x.jsx(vA,{onSend:g,recipients:r,loading:c,isAdmin:!0})})]})]})}function M9(){const{currentUser:n,userData:e}=nu(),[t,r]=he.useState([]),[a,o]=he.useState(!1);he.useEffect(()=>{if(!n)return;const P=mr(mn(Ft,"messages"),si("recipientId","==",n.uid)),I=mr(mn(Ft,"messages"),si("senderId","==",n.uid)),L=ha(P,$=>{const X=$.docs.map(Z=>({id:Z.id,...Z.data()}));g(X,"received")}),j=ha(I,$=>{const X=$.docs.map(Z=>({id:Z.id,...Z.data()}));g(X,"sent")});return()=>{L(),j()}},[n]);const[u,c]=he.useState([]),[f,d]=he.useState([]),g=(P,I)=>{I==="received"&&c(P),I==="sent"&&d(P)},w=[...u,...f].sort((P,I)=>{const L=P.timestamp?.toMillis?P.timestamp.toMillis():0;return(I.timestamp?.toMillis?I.timestamp.toMillis():0)-L}),A=async({content:P})=>{o(!0);try{await Rc(mn(Ft,"messages"),{senderId:n.uid,senderName:`${e.rank} ${e.name}`,senderRole:"officer",recipientId:"admin",recipientName:"Mess Office",content:P,isRead:!1,timestamp:Wl()}),alert("Note sent to Mess Office!")}catch(I){console.error("Error sending message:",I),alert("Failed to send message.")}finally{o(!1)}},_=async P=>{try{await Hm(za(Ft,"messages",P),{isRead:!0})}catch(I){console.error("Error marking as read:",I)}};return x.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[x.jsx("header",{children:x.jsxs("h1",{className:"text-2xl font-bold text-army-900 flex items-center gap-2",children:[x.jsx(Wm,{size:28}),"Messages & Reminders"]})}),x.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-6",children:[x.jsxs("div",{className:"flex-1 space-y-4",children:[x.jsx("h2",{className:"text-lg font-semibold text-army-800 border-b border-army-200 pb-2",children:"History"}),w.length>0?w.map(P=>x.jsx(A2,{message:P,isOwnMessage:P.senderId===n.uid,onMarkRead:_},P.id)):x.jsx("p",{className:"text-gray-500 text-center py-8",children:"No messages yet."})]}),x.jsx("div",{className:"w-full md:w-1/3",children:x.jsx(vA,{onSend:A,recipients:[],loading:a,isAdmin:!1})})]})]})}const px=({children:n,allowedRole:e})=>{const{currentUser:t,userData:r,loading:a}=nu();return a?x.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):t?e&&r?.role!==e?r?.role==="admin"?x.jsx(ld,{to:"/admin",replace:!0}):x.jsx(ld,{to:"/dashboard",replace:!0}):n:x.jsx(ld,{to:"/login",replace:!0})};function U9(){return x.jsx(sN,{children:x.jsx(U7,{children:x.jsxs(j6,{children:[x.jsxs($r,{element:x.jsx(F7,{}),children:[x.jsx($r,{path:"/login",element:x.jsx(Hk,{})}),x.jsx($r,{path:"/register",element:x.jsx(Gk,{})})]}),x.jsxs($r,{path:"/",element:x.jsx(px,{allowedRole:"officer",children:x.jsx($_,{role:"officer"})}),children:[x.jsx($r,{index:!0,element:x.jsx(ld,{to:"/dashboard",replace:!0})}),x.jsx($r,{path:"dashboard",element:x.jsx(Wk,{})}),x.jsx($r,{path:"menu",element:x.jsx($k,{})}),x.jsx($r,{path:"bill",element:x.jsx(Yk,{})}),x.jsx($r,{path:"history",element:x.jsx(T9,{})}),x.jsx($r,{path:"bar",element:x.jsx(C9,{})}),x.jsx($r,{path:"messages",element:x.jsx(M9,{})})]}),x.jsxs($r,{path:"/admin",element:x.jsx(px,{allowedRole:"admin",children:x.jsx($_,{role:"admin"})}),children:[x.jsx($r,{index:!0,element:x.jsx(R9,{})}),x.jsx($r,{path:"menu",element:x.jsx(I9,{})}),x.jsx($r,{path:"officers",element:x.jsx(L9,{})}),x.jsx($r,{path:"ledger",element:x.jsx(k9,{})}),x.jsx($r,{path:"kitchen",element:x.jsx(D9,{})}),x.jsx($r,{path:"billing",element:x.jsx(O9,{})}),x.jsx($r,{path:"inventory",element:x.jsx(P9,{})}),x.jsx($r,{path:"messages",element:x.jsx(j9,{})})]}),x.jsx($r,{path:"*",element:x.jsx(ld,{to:"/login",replace:!0})})]})})})}ME.createRoot(document.getElementById("root")).render(x.jsx(he.StrictMode,{children:x.jsx(U9,{})}));export{Zn as _,F9 as c,NE as g};
